<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>OpenID Connect Core 1.0 | Jason Dong</title><meta name="author" content="Jason Dong"><meta name="copyright" content="Jason Dong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. 介绍OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 [RFC6749] protocol. It enables Clients to verify the identity of the End-User based on the authentication performed by an Aut">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenID Connect Core 1.0">
<meta property="og:url" content="http://jasondong97.github.io/2023/10/26/openid/OpenID/">
<meta property="og:site_name" content="Jason Dong">
<meta property="og:description" content="1. 介绍OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 [RFC6749] protocol. It enables Clients to verify the identity of the End-User based on the authentication performed by an Aut">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://jasondong97.github.io/img/default_cover/geomeric5.png">
<meta property="article:published_time" content="2023-10-25T16:00:00.000Z">
<meta property="article:modified_time" content="2025-09-24T06:00:08.748Z">
<meta property="article:author" content="Jason Dong">
<meta property="article:tag" content="openid">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jasondong97.github.io/img/default_cover/geomeric5.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://jasondong97.github.io/2023/10/26/openid/OpenID/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/"/><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.png"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'OpenID Connect Core 1.0',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-09-24 14:00:08'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('/img/default_cover/geomeric5.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Jason Dong"><span class="site-name">Jason Dong</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">OpenID Connect Core 1.0</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-10-25T16:00:00.000Z" title="发表于 2023-10-26 00:00:00">2023-10-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-09-24T06:00:08.748Z" title="更新于 2025-09-24 14:00:08">2025-09-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%A0%87%E5%87%86%E5%8C%96%E6%96%87%E6%A1%A3/">标准化文档</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="OpenID Connect Core 1.0"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h3><p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">RFC6749]</a> protocol. It enables Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.</p>
<p>The OpenID Connect Core 1.0 specification defines the core OpenID Connect functionality: authentication built on top of OAuth 2.0 and the use of Claims to communicate information about the End-User. It also describes the security and privacy considerations for using OpenID Connect.</p>
<p>As background, the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0 Authorization Framework</a> [RFC6749] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750] specifications provide a general framework for third-party applications to obtain and use limited access to HTTP resources. They define mechanisms to obtain and use Access Tokens to access resources but do not define standard methods to provide identity information. Notably, without profiling OAuth 2.0, it is incapable of providing information about the authentication of an End-User. Readers are expected to be familiar with these specifications.</p>
<p>OpenID Connect implements authentication as an extension to the OAuth 2.0 authorization process. Use of this extension is requested by Clients by including the <code>openid</code> scope value in the Authorization Request. Information about the authentication performed is returned in a <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT)</a> [JWT] called an ID Token (see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>). OAuth 2.0 Authentication Servers implementing OpenID Connect are also referred to as OpenID Providers (OPs). OAuth 2.0 Clients using OpenID Connect are also referred to as Relying Parties (RPs).</p>
<p>This specification assumes that the Relying Party has already obtained configuration information about the OpenID Provider, including its Authorization Endpoint and Token Endpoint locations. This information is normally obtained via Discovery, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Discovery">OpenID Connect Discovery 1.0</a> [OpenID.Discovery], or may be obtained via other mechanisms.</p>
<p>Likewise, this specification assumes that the Relying Party has already obtained sufficient credentials and provided information needed to use the OpenID Provider. This is normally done via Dynamic Registration, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration], or may be obtained via other mechanisms.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="1-1-需求符号和约定"><a href="#1-1-需求符号和约定" class="headerlink" title="1.1. 需求符号和约定"></a>1.1. 需求符号和约定</h3><p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2119">RFC 2119</a> [RFC2119].</p>
<p>In the .txt version of this document, values are quoted to indicate that they are to be taken literally. When using these values in protocol messages, the quotes MUST NOT be used as part of the value. In the HTML version of this document, values to be taken literally are indicated by the use of <code>this fixed-width font</code>.</p>
<p>All uses of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JSON Web Signature (JWS)</a> [JWS] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JSON Web Encryption (JWE)</a> [JWE] data structures in this specification utilize the JWS Compact Serialization or the JWE Compact Serialization; the JWS JSON Serialization and the JWE JSON Serialization are not used.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="1-2-术语"><a href="#1-2-术语" class="headerlink" title="1.2. 术语"></a>1.2. 术语</h3><p>This specification uses the terms “Access Token”, “Authorization Code”, “Authorization Endpoint”, “Authorization Grant”, “Authorization Server”, “Client”, “Client Authentication”, “Client Identifier”, “Client Secret”, “Grant Type”, “Protected Resource”, “Redirection URI”, “Refresh Token”, “Resource Owner”, “Resource Server”, “Response Type”, and “Token Endpoint” defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], the terms “Claim Name”, “Claim Value”, “JSON Web Token (JWT)”, “JWT Claims Set”, and “Nested JWT” defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT)</a> [JWT], the terms “Header Parameter” and “JOSE Header” defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JSON Web Signature (JWS)</a> [JWS], the term “User Agent” defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2616">RFC 2616</a> [RFC2616], and the term “Response Mode” defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses].</p>
<p>This specification also defines the following terms:</p>
<blockquote>
<ul>
<li><p>Authentication</p>
<p>Process used to achieve sufficient confidence in the binding between the Entity and the presented Identity.</p>
</li>
<li><p>Authentication Request</p>
<p>OAuth 2.0 Authorization Request using extension parameters and scopes defined by OpenID Connect to request that the End-User be authenticated by the Authorization Server, which is an OpenID Connect Provider, to the Client, which is an OpenID Connect Relying Party.</p>
</li>
<li><p>Authentication Context</p>
<p>Information that the Relying Party can require before it makes an entitlement decision with respect to an authentication response. Such context can include, but is not limited to, the actual authentication method used or level of assurance such as <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO29115">ISO&#x2F;IEC 29115</a> [ISO29115] entity authentication assurance level.</p>
</li>
<li><p>Authentication Context Class</p>
<p>Set of authentication methods or procedures that are considered to be equivalent to each other in a particular context.</p>
</li>
<li><p>Authentication Context Class Reference</p>
<p>Identifier for an Authentication Context Class.</p>
</li>
<li><p>Authorization Code Flow</p>
<p>OAuth 2.0 flow in which an Authorization Code is returned from the Authorization Endpoint and all tokens are returned from the Token Endpoint.</p>
</li>
<li><p>Authorization Request</p>
<p>OAuth 2.0 Authorization Request as defined by [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">RFC6749]</a>.</p>
</li>
<li><p>Claim</p>
<p>Piece of information asserted about an Entity.</p>
</li>
<li><p>Claim Type</p>
<p>Syntax used for representing a Claim Value. This specification defines Normal, Aggregated, and Distributed Claim Types.</p>
</li>
<li><p>Claims Provider</p>
<p>Server that can return Claims about an Entity.</p>
</li>
<li><p>Credential</p>
<p>Data presented as evidence of the right to use an identity or other resources.</p>
</li>
<li><p>End-User</p>
<p>Human participant.</p>
</li>
<li><p>Entity</p>
<p>Something that has a separate and distinct existence and that can be identified in a context. An End-User is one example of an Entity.</p>
</li>
<li><p>Essential Claim</p>
<p>Claim specified by the Client as being necessary to ensure a smooth authorization experience for the specific task requested by the End-User.</p>
</li>
<li><p>Hybrid Flow</p>
<p>OAuth 2.0 flow in which an Authorization Code is returned from the Authorization Endpoint, some tokens are returned from the Authorization Endpoint, and others are returned from the Token Endpoint.</p>
</li>
<li><p>ID Token</p>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT)</a> [JWT] that contains Claims about the Authentication event. It MAY contain other Claims.</p>
</li>
<li><p>Identifier</p>
<p>Value that uniquely characterizes an Entity in a specific context.</p>
</li>
<li><p>Identity</p>
<p>Set of attributes related to an Entity.</p>
</li>
<li><p>Implicit Flow</p>
<p>OAuth 2.0 flow in which all tokens are returned from the Authorization Endpoint and neither the Token Endpoint nor an Authorization Code are used.</p>
</li>
<li><p>Issuer</p>
<p>Entity that issues a set of Claims.</p>
</li>
<li><p>Issuer Identifier</p>
<p>Verifiable Identifier for an Issuer. An Issuer Identifier is a case sensitive URL using the <code>https</code> scheme that contains scheme, host, and optionally, port number and path components and no query or fragment components.</p>
</li>
<li><p>Message</p>
<p>Request or a response between an OpenID Relying Party and an OpenID Provider.</p>
</li>
<li><p>OpenID Provider (OP)</p>
<p>OAuth 2.0 Authorization Server that is capable of Authenticating the End-User and providing Claims to a Relying Party about the Authentication event and the End-User.</p>
</li>
<li><p>Request Object</p>
<p>JWT that contains a set of request parameters as its Claims.</p>
</li>
<li><p>Request URI</p>
<p>URL that references a resource containing a Request Object. The Request URI contents MUST be retrievable by the Authorization Server.</p>
</li>
<li><p>Pairwise Pseudonymous Identifier (PPID)</p>
<p>Identifier that identifies the Entity to a Relying Party that cannot be correlated with the Entity’s PPID at another Relying Party.</p>
</li>
<li><p>Personally Identifiable Information (PII)</p>
<p>Information that (a) can be used to identify the natural person to whom such information relates, or (b) is or might be directly or indirectly linked to a natural person to whom such information relates.</p>
</li>
<li><p>Relying Party (RP)</p>
<p>OAuth 2.0 Client application requiring End-User Authentication and Claims from an OpenID Provider.</p>
</li>
<li><p>Sector Identifier</p>
<p>Host component of a URL used by the Relying Party’s organization that is an input to the computation of pairwise Subject Identifiers for that Relying Party.</p>
</li>
<li><p>Self-Issued OpenID Provider</p>
<p>Personal, self-hosted OpenID Provider that issues self-signed ID Tokens.</p>
</li>
<li><p>Subject Identifier</p>
<p>Locally unique and never reassigned identifier within the Issuer for the End-User, which is intended to be consumed by the Client.</p>
</li>
<li><p>UserInfo Endpoint</p>
<p>Protected Resource that, when presented with an Access Token by the Client, returns authorized information about the End-User represented by the corresponding Authorization Grant. The UserInfo Endpoint URL MUST use the <code>https</code> scheme and MAY contain port, path, and query parameter components.</p>
</li>
<li><p>Validation</p>
<p>Process intended to establish the soundness or correctness of a construct.</p>
</li>
<li><p>Verification</p>
<p>Process intended to test or prove the truth or accuracy of a fact or value.</p>
</li>
<li><p>Voluntary Claim</p>
<p>Claim specified by the Client as being useful but not Essential for the specific task requested by the End-User.</p>
</li>
</ul>
</blockquote>
<p>IMPORTANT NOTE TO READERS: The terminology definitions in this section are a normative portion of this specification, imposing requirements upon implementations. All the capitalized words in the text of this specification, such as “Issuer Identifier”, reference these defined terms. Whenever the reader encounters them, their definitions found in this section must be followed.</p>
<p>For more background on some of the terminology used, see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC4949">Internet Security Glossary, Version 2</a> [RFC4949], <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO29115">ISO&#x2F;IEC 29115 Entity Authentication Assurance</a> [ISO29115], and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#X.1252">ITU-T X.1252</a> [X.1252].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="1-3-概述"><a href="#1-3-概述" class="headerlink" title="1.3. 概述"></a>1.3. 概述</h3><p>The OpenID Connect protocol, in abstract, follows the following steps.</p>
<ol>
<li>The RP (Client) sends a request to the OpenID Provider (OP).</li>
<li>The OP authenticates the End-User and obtains authorization.</li>
<li>The OP responds with an ID Token and usually an Access Token.</li>
<li>The RP can send a request with the Access Token to the UserInfo Endpoint.</li>
<li>The UserInfo Endpoint returns Claims about the End-User.</li>
</ol>
<p>These steps are illustrated in the following diagram:</p>
<pre class="line-numbers language-none"><code class="language-none">+--------+                                   +--------+
|        |                                   |        |
|        |---------(1) AuthN Request--------&gt;|        |
|        |                                   |        |
|        |  +--------+                       |        |
|        |  |        |                       |        |
|        |  |  End-  |&lt;--(2) AuthN &amp; AuthZ--&gt;|        |
|        |  |  User  |                       |        |
|   RP   |  |        |                       |   OP   |
|        |  +--------+                       |        |
|        |                                   |        |
|        |&lt;--------(3) AuthN Response--------|        |
|        |                                   |        |
|        |---------(4) UserInfo Request-----&gt;|        |
|        |                                   |        |
|        |&lt;--------(5) UserInfo Response-----|        |
|        |                                   |        |
+--------+                                   +--------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="2-ID-Token"><a href="#2-ID-Token" class="headerlink" title="2. ID Token"></a>2. ID Token</h3><p>The primary extension that OpenID Connect makes to OAuth 2.0 to enable End-Users to be Authenticated is the ID Token data structure. The ID Token is a security token that contains Claims about the Authentication of an End-User by an Authorization Server when using a Client, and potentially other requested Claims. The ID Token is represented as a <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT)</a> [JWT].</p>
<p>The following Claims are used within the ID Token for all OAuth 2.0 flows used by OpenID Connect:</p>
<blockquote>
<ul>
<li><p>iss</p>
<p>REQUIRED. Issuer Identifier for the Issuer of the response. The <code>iss</code> value is a case sensitive URL using the <code>https</code> scheme that contains scheme, host, and optionally, port number and path components and no query or fragment components.</p>
</li>
<li><p>sub</p>
<p>REQUIRED. Subject Identifier. A locally unique and never reassigned identifier within the Issuer for the End-User, which is intended to be consumed by the Client, e.g., <code>24400320</code> or <code>AItOawmwtWwcT0k51BayewNvutrJUqsvl6qs7A4</code>. It MUST NOT exceed 255 ASCII characters in length. The <code>sub</code> value is a case sensitive string.</p>
</li>
<li><p>aud</p>
<p>REQUIRED. Audience(s) that this ID Token is intended for. It MUST contain the OAuth 2.0 <code>client_id</code> of the Relying Party as an audience value. It MAY also contain identifiers for other audiences. In the general case, the <code>aud</code> value is an array of case sensitive strings. In the common special case when there is one audience, the <code>aud</code> value MAY be a single case sensitive string.</p>
</li>
<li><p>exp</p>
<p>REQUIRED. Expiration time on or after which the ID Token MUST NOT be accepted for processing. The processing of this parameter requires that the current date&#x2F;time MUST be before the expiration date&#x2F;time listed in the value. Implementers MAY provide for some small leeway, usually no more than a few minutes, to account for clock skew. Its value is a JSON number representing the number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the date&#x2F;time. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC3339">RFC 3339</a> [RFC3339] for details regarding date&#x2F;times in general and UTC in particular.</p>
</li>
<li><p>iat</p>
<p>REQUIRED. Time at which the JWT was issued. Its value is a JSON number representing the number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the date&#x2F;time.</p>
</li>
<li><p>auth_time</p>
<p>Time when the End-User authentication occurred. Its value is a JSON number representing the number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the date&#x2F;time. When a <code>max_age</code> request is made or when <code>auth_time</code> is requested as an Essential Claim, then this Claim is REQUIRED; otherwise, its inclusion is OPTIONAL. (The <code>auth_time</code> Claim semantically corresponds to the OpenID 2.0 <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.PAPE">PAPE</a> [OpenID.PAPE] <code>auth_time</code> response parameter.)</p>
</li>
<li><p>nonce</p>
<p>String value used to associate a Client session with an ID Token, and to mitigate replay attacks. The value is passed through unmodified from the Authentication Request to the ID Token. If present in the ID Token, Clients MUST verify that the <code>nonce</code> Claim Value is equal to the value of the <code>nonce</code> parameter sent in the Authentication Request. If present in the Authentication Request, Authorization Servers MUST include a <code>nonce</code> Claim in the ID Token with the Claim Value being the nonce value sent in the Authentication Request. Authorization Servers SHOULD perform no other processing on <code>nonce</code> values used. The <code>nonce</code> value is a case sensitive string.</p>
</li>
<li><p>acr</p>
<p>OPTIONAL. Authentication Context Class Reference. String specifying an Authentication Context Class Reference value that identifies the Authentication Context Class that the authentication performed satisfied. The value “0” indicates the End-User authentication did not meet the requirements of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO29115">ISO&#x2F;IEC 29115</a> [ISO29115] level 1. Authentication using a long-lived browser cookie, for instance, is one example where the use of “level 0” is appropriate. Authentications with level 0 SHOULD NOT be used to authorize access to any resource of any monetary value. (This corresponds to the OpenID 2.0 <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.PAPE">PAPE</a> [OpenID.PAPE] <code>nist_auth_level</code> 0.) An absolute URI or an <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6711">RFC 6711</a> [RFC6711] registered name SHOULD be used as the <code>acr</code> value; registered names MUST NOT be used with a different meaning than that which is registered. Parties using this claim will need to agree upon the meanings of the values used, which may be context-specific. The <code>acr</code> value is a case sensitive string.</p>
</li>
<li><p>amr</p>
<p>OPTIONAL. Authentication Methods References. JSON array of strings that are identifiers for authentication methods used in the authentication. For instance, values might indicate that both password and OTP authentication methods were used. The definition of particular values to be used in the <code>amr</code> Claim is beyond the scope of this specification. Parties using this claim will need to agree upon the meanings of the values used, which may be context-specific. The <code>amr</code> value is an array of case sensitive strings.</p>
</li>
<li><p>azp</p>
<p>OPTIONAL. Authorized party - the party to which the ID Token was issued. If present, it MUST contain the OAuth 2.0 Client ID of this party. This Claim is only needed when the ID Token has a single audience value and that audience is different than the authorized party. It MAY be included even when the authorized party is the same as the sole audience. The <code>azp</code> value is a case sensitive string containing a StringOrURI value.</p>
</li>
</ul>
</blockquote>
<p>ID Tokens MAY contain other Claims. Any Claims used that are not understood MUST be ignored. See Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken">3.1.3.6</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDToken">3.3.2.11</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">5.1</a>, and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SelfIssuedResponse">7.4</a> for additional Claims defined by this specification.</p>
<p>ID Tokens MUST be signed using <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS] and optionally both signed and then encrypted using <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JWE</a> [JWE] respectively, thereby providing authentication, integrity, non-repudiation, and optionally, confidentiality, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SigningOrder">Section 16.14</a>. If the ID Token is encrypted, it MUST be signed then encrypted, with the result being a Nested JWT, as defined in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>. ID Tokens MUST NOT use <code>none</code> as the <code>alg</code> value unless the Response Type used returns no ID Token from the Authorization Endpoint (such as when using the Authorization Code Flow) and the Client explicitly requested the use of <code>none</code> at Registration time.</p>
<p>ID Tokens SHOULD NOT use the JWS or JWE <code>x5u</code>, <code>x5c</code>, <code>jku</code>, or <code>jwk</code> Header Parameter fields. Instead, references to keys used are communicated in advance using Discovery and Registration parameters, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SigEnc">Section 10</a>.</p>
<p>The following is a non-normative example of the set of Claims (the JWT Claims Set) in an ID Token:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;https:&#x2F;&#x2F;server.example.com&quot;,
 &quot;sub&quot;: &quot;24400320&quot;,
 &quot;aud&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;auth_time&quot;: 1311280969,
 &quot;acr&quot;: &quot;urn:mace:incommon:iap:silver&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-身份验证"><a href="#3-身份验证" class="headerlink" title="3. 身份验证"></a>3. 身份验证</h3><p>OpenID Connect执行身份验证，用于登录终端用户或确定终端用户已经登录。OpenID Connect以安全的方式将服务器执行的身份验证结果返回给客户端，以便客户端可以依赖它。因此，在这种情况下，客户端被称为Relying Party（RP）。</p>
<p>The Authentication result is returned in an ID Token, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. It has Claims expressing such information as the Issuer, the Subject Identifier, when the authentication expires, etc.</p>
<p>Authentication can follow one of three paths: the Authorization Code Flow (<code>response_type=code</code>), the Implicit Flow (<code>response_type=id_token token</code> or <code>response_type=id_token</code>), or the Hybrid Flow (using other Response Type values defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses]). The flows determine how the ID Token and Access Token are returned to the Client.</p>
<p>The characteristics of the three flows are summarized in the following non-normative table. The table is intended to provide some guidance on which flow to choose in particular contexts.</p>
<hr>
<table>
<thead>
<tr>
<th>Property</th>
<th>Authorization Code Flow</th>
<th>Implicit Flow</th>
<th>Hybrid Flow</th>
</tr>
</thead>
<tbody><tr>
<td>All tokens returned from Authorization Endpoint</td>
<td>no</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>All tokens returned from Token Endpoint</td>
<td>yes</td>
<td>no</td>
<td>no</td>
</tr>
<tr>
<td>Tokens not revealed to User Agent</td>
<td>yes</td>
<td>no</td>
<td>no</td>
</tr>
<tr>
<td>Client can be authenticated</td>
<td>yes</td>
<td>no</td>
<td>yes</td>
</tr>
<tr>
<td>Refresh Token possible</td>
<td>yes</td>
<td>no</td>
<td>yes</td>
</tr>
<tr>
<td>Communication in one round trip</td>
<td>no</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>Most communication server-to-server</td>
<td>yes</td>
<td>no</td>
<td>varies</td>
</tr>
</tbody></table>
<p> <strong>OpenID Connect Authentication Flows</strong>  </p>
<hr>
<p>The flow used is determined by the <code>response_type</code> value contained in the Authorization Request. These <code>response_type</code> values select these flows:</p>
<hr>
<table>
<thead>
<tr>
<th>“response_type” value</th>
<th>Flow</th>
</tr>
</thead>
<tbody><tr>
<td><code>code</code></td>
<td>Authorization Code Flow</td>
</tr>
<tr>
<td><code>id_token</code></td>
<td>Implicit Flow</td>
</tr>
<tr>
<td><code>id_token token</code></td>
<td>Implicit Flow</td>
</tr>
<tr>
<td><code>code id_token</code></td>
<td>Hybrid Flow</td>
</tr>
<tr>
<td><code>code token</code></td>
<td>Hybrid Flow</td>
</tr>
<tr>
<td><code>code id_token token</code></td>
<td>Hybrid Flow</td>
</tr>
</tbody></table>
<p> <strong>OpenID Connect “response_type” Values</strong>  </p>
<hr>
<p>All but the <code>code</code> Response Type value, which is defined by <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], are defined in the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses] specification. NOTE: While OAuth 2.0 also defines the <code>token</code> Response Type value for the Implicit Flow, OpenID Connect does not use this Response Type, since no ID Token would be returned.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-使用授权码流（Authorization-Code-Flow）进行身份验证"><a href="#3-1-使用授权码流（Authorization-Code-Flow）进行身份验证" class="headerlink" title="3.1. 使用授权码流（Authorization Code Flow）进行身份验证"></a>3.1. 使用授权码流（Authorization Code Flow）进行身份验证</h3><p>This section describes how to perform authentication using the Authorization Code Flow. When using the Authorization Code Flow, all tokens are returned from the Token Endpoint.</p>
<p>The Authorization Code Flow returns an Authorization Code to the Client, which can then exchange it for an ID Token and an Access Token directly. This provides the benefit of not exposing any tokens to the User Agent and possibly other malicious applications with access to the User Agent. The Authorization Server can also authenticate the Client before exchanging the Authorization Code for an Access Token. The Authorization Code flow is suitable for Clients that can securely maintain a Client Secret between themselves and the Authorization Server.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-1-授权码流（Authorization-Code-Flow）的步骤"><a href="#3-1-1-授权码流（Authorization-Code-Flow）的步骤" class="headerlink" title="3.1.1. 授权码流（Authorization Code Flow）的步骤"></a>3.1.1. 授权码流（Authorization Code Flow）的步骤</h3><p>The Authorization Code Flow goes through the following steps.</p>
<ol>
<li>Client prepares an Authentication Request containing the desired request parameters.</li>
<li>Client sends the request to the Authorization Server.</li>
<li>Authorization Server Authenticates the End-User.</li>
<li>Authorization Server obtains End-User Consent&#x2F;Authorization.</li>
<li>Authorization Server sends the End-User back to the Client with an Authorization Code.</li>
<li>Client requests a response using the Authorization Code at the Token Endpoint.</li>
<li>Client receives a response that contains an ID Token and Access Token in the response body.</li>
<li>Client validates the ID token and retrieves the End-User’s Subject Identifier.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-授权端点"><a href="#3-1-2-授权端点" class="headerlink" title="3.1.2. 授权端点"></a>3.1.2. 授权端点</h3><p>The Authorization Endpoint performs Authentication of the End-User. This is done by sending the User Agent to the Authorization Server’s Authorization Endpoint for Authentication and Authorization, using request parameters defined by OAuth 2.0 and additional parameters and parameter values defined by OpenID Connect.</p>
<p>Communication with the Authorization Endpoint MUST utilize TLS. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TLSRequirements">Section 16.17</a> for more information on using TLS.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-1-身份验证请求"><a href="#3-1-2-1-身份验证请求" class="headerlink" title="3.1.2.1. 身份验证请求"></a>3.1.2.1. 身份验证请求</h3><p>An Authentication Request is an OAuth 2.0 Authorization Request that requests that the End-User be authenticated by the Authorization Server.</p>
<p>Authorization Servers MUST support the use of the HTTP <code>GET</code> and <code>POST</code> methods defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2616">RFC 2616</a> [RFC2616] at the Authorization Endpoint. Clients MAY use the HTTP <code>GET</code> or <code>POST</code> methods to send the Authorization Request to the Authorization Server. If using the HTTP <code>GET</code> method, the request parameters are serialized using URI Query String Serialization, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#QuerySerialization">Section 13.1</a>. If using the HTTP <code>POST</code> method, the request parameters are serialized using Form Serialization, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#FormSerialization">Section 13.2</a>.</p>
<p>OpenID Connect uses the following OAuth 2.0 request parameters with the Authorization Code Flow:</p>
<blockquote>
<ul>
<li><p>scope</p>
<p>REQUIRED. OpenID Connect requests MUST contain the <code>openid</code> scope value. If the <code>openid</code> scope value is not present, the behavior is entirely unspecified. Other scope values MAY be present. Scope values used that are not understood by an implementation SHOULD be ignored. See Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims">5.4</a> and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OfflineAccess">11</a> for additional scope values defined by this specification.</p>
</li>
<li><p>response_type</p>
<p>REQUIRED. OAuth 2.0 Response Type value that determines the authorization processing flow to be used, including what parameters are returned from the endpoints used. When using the Authorization Code Flow, this value is <code>code</code>.</p>
</li>
<li><p>client_id</p>
<p>REQUIRED. OAuth 2.0 Client Identifier valid at the Authorization Server.</p>
</li>
<li><p>redirect_uri</p>
<p>REQUIRED. Redirection URI to which the response will be sent. This URI MUST exactly match one of the Redirection URI values for the Client pre-registered at the OpenID Provider, with the matching performed as described in Section 6.2.1 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC3986">RFC3986]</a> (Simple String Comparison). When using this flow, the Redirection URI SHOULD use the <code>https</code> scheme; however, it MAY use the <code>http</code> scheme, provided that the Client Type is <code>confidential</code>, as defined in Section 2.1 of OAuth 2.0, and provided the OP allows the use of <code>http</code> Redirection URIs in this case. The Redirection URI MAY use an alternate scheme, such as one that is intended to identify a callback into a native application.</p>
</li>
<li><p>state</p>
<p>RECOMMENDED. Opaque value used to maintain state between the request and the callback. Typically, Cross-Site Request Forgery (CSRF, XSRF) mitigation is done by cryptographically binding the value of this parameter with a browser cookie.</p>
</li>
</ul>
</blockquote>
<p>OpenID Connect also uses the following OAuth 2.0 request parameter, which is defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses]:</p>
<blockquote>
<ul>
<li><p>response_mode</p>
<p>OPTIONAL. Informs the Authorization Server of the mechanism to be used for returning parameters from the Authorization Endpoint. This use of this parameter is NOT RECOMMENDED when the Response Mode that would be requested is the default mode specified for the Response Type.</p>
</li>
</ul>
</blockquote>
<p>This specification also defines the following request parameters:</p>
<blockquote>
<ul>
<li><p>nonce</p>
<p>OPTIONAL. String value used to associate a Client session with an ID Token, and to mitigate replay attacks. The value is passed through unmodified from the Authentication Request to the ID Token. Sufficient entropy MUST be present in the <code>nonce</code> values used to prevent attackers from guessing values. For implementation notes, see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes">Section 15.5.2</a>.</p>
</li>
<li><p>display</p>
<p>OPTIONAL. ASCII string value that specifies how the Authorization Server displays the authentication and consent user interface pages to the End-User. The defined values are:pageThe Authorization Server SHOULD display the authentication and consent UI consistent with a full User Agent page view. If the display parameter is not specified, this is the default display mode.popupThe Authorization Server SHOULD display the authentication and consent UI consistent with a popup User Agent window. The popup User Agent window should be of an appropriate size for a login-focused dialog and should not obscure the entire window that it is popping up over.touchThe Authorization Server SHOULD display the authentication and consent UI consistent with a device that leverages a touch interface.wapThe Authorization Server SHOULD display the authentication and consent UI consistent with a “feature phone” type display.The Authorization Server MAY also attempt to detect the capabilities of the User Agent and present an appropriate display.</p>
</li>
<li><p>prompt</p>
<p>OPTIONAL. Space delimited, case sensitive list of ASCII string values that specifies whether the Authorization Server prompts the End-User for reauthentication and consent. The defined values are:noneThe Authorization Server MUST NOT display any authentication or consent user interface pages. An error is returned if an End-User is not already authenticated or the Client does not have pre-configured consent for the requested Claims or does not fulfill other conditions for processing the request. The error code will typically be <code>login_required</code>, <code>interaction_required</code>, or another code defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a>. This can be used as a method to check for existing authentication and&#x2F;or consent.loginThe Authorization Server SHOULD prompt the End-User for reauthentication. If it cannot reauthenticate the End-User, it MUST return an error, typically <code>login_required</code>.consentThe Authorization Server SHOULD prompt the End-User for consent before returning information to the Client. If it cannot obtain consent, it MUST return an error, typically <code>consent_required</code>.select_accountThe Authorization Server SHOULD prompt the End-User to select a user account. This enables an End-User who has multiple accounts at the Authorization Server to select amongst the multiple accounts that they might have current sessions for. If it cannot obtain an account selection choice made by the End-User, it MUST return an error, typically <code>account_selection_required</code>.The <code>prompt</code> parameter can be used by the Client to make sure that the End-User is still present for the current session or to bring attention to the request. If this parameter contains <code>none</code> with any other value, an error is returned.</p>
</li>
<li><p>max_age</p>
<p>OPTIONAL. Maximum Authentication Age. Specifies the allowable elapsed time in seconds since the last time the End-User was actively authenticated by the OP. If the elapsed time is greater than this value, the OP MUST attempt to actively re-authenticate the End-User. (The <code>max_age</code> request parameter corresponds to the OpenID 2.0 <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.PAPE">PAPE</a> [OpenID.PAPE] <code>max_auth_age</code> request parameter.) When <code>max_age</code> is used, the ID Token returned MUST include an <code>auth_time</code> Claim Value.</p>
</li>
<li><p>ui_locales</p>
<p>OPTIONAL. End-User’s preferred languages and scripts for the user interface, represented as a space-separated list of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5646">BCP47</a> [RFC5646] language tag values, ordered by preference. For instance, the value “fr-CA fr en” represents a preference for French as spoken in Canada, then French (without a region designation), followed by English (without a region designation). An error SHOULD NOT result if some or all of the requested locales are not supported by the OpenID Provider.</p>
</li>
<li><p>id_token_hint</p>
<p>OPTIONAL. ID Token previously issued by the Authorization Server being passed as a hint about the End-User’s current or past authenticated session with the Client. If the End-User identified by the ID Token is logged in or is logged in by the request, then the Authorization Server returns a positive response; otherwise, it SHOULD return an error, such as <code>login_required</code>. When possible, an <code>id_token_hint</code> SHOULD be present when <code>prompt=none</code> is used and an <code>invalid_request</code> error MAY be returned if it is not; however, the server SHOULD respond successfully when possible, even if it is not present. The Authorization Server need not be listed as an audience of the ID Token when it is used as an <code>id_token_hint</code> value.</p>
</li>
<li><p>If the ID Token received by the RP from the OP is encrypted, to use it as an <code>id_token_hint</code>, the Client MUST decrypt the signed ID Token contained within the encrypted ID Token. The Client MAY re-encrypt the signed ID token to the Authentication Server using a key that enables the server to decrypt the ID Token, and use the re-encrypted ID token as the <code>id_token_hint</code> value.</p>
</li>
<li><p>login_hint</p>
<p>OPTIONAL. Hint to the Authorization Server about the login identifier the End-User might use to log in (if necessary). This hint can be used by an RP if it first asks the End-User for their e-mail address (or other identifier) and then wants to pass that value as a hint to the discovered authorization service. It is RECOMMENDED that the hint value match the value used for discovery. This value MAY also be a phone number in the format specified for the <code>phone_number</code> Claim. The use of this parameter is left to the OP’s discretion.</p>
</li>
<li><p>acr_values</p>
<p>OPTIONAL. Requested Authentication Context Class Reference values. Space-separated string that specifies the <code>acr</code> values that the Authorization Server is being requested to use for processing this Authentication Request, with the values appearing in order of preference. The Authentication Context Class satisfied by the authentication performed is returned as the <code>acr</code> Claim Value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. The <code>acr</code> Claim is requested as a Voluntary Claim by this parameter.</p>
</li>
</ul>
</blockquote>
<p>Other parameters MAY be sent. See Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitAuthorizationEndpoint">3.2.2</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridAuthorizationEndpoint">3.3.2</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">5.2</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter">5.5</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests">6</a>, and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter">7.2.1</a> for additional Authorization Request parameters and parameter values defined by this specification.</p>
<p>The following is a non-normative example HTTP 302 redirect response by the Client, which triggers the User Agent to make an Authentication Request to the Authorization Endpoint (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;server.example.com&#x2F;authorize?
  response_type&#x3D;code
  &amp;scope&#x3D;openid%20profile%20email
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;state&#x3D;af0ifjsldkj
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The following is the non-normative example request that would be sent by the User Agent to the Authorization Server in response to the HTTP 302 redirect response by the Client above (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code
  &amp;scope&#x3D;openid%20profile%20email
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;state&#x3D;af0ifjsldkj
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb HTTP&#x2F;1.1
Host: server.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-2-Authentication-Request-Validation"><a href="#3-1-2-2-Authentication-Request-Validation" class="headerlink" title="3.1.2.2. Authentication Request Validation"></a>3.1.2.2. Authentication Request Validation</h3><p>The Authorization Server MUST validate the request received as follows:</p>
<ol>
<li>The Authorization Server MUST validate all the OAuth 2.0 parameters according to the OAuth 2.0 specification.</li>
<li>Verify that a <code>scope</code> parameter is present and contains the <code>openid</code> scope value. (If no <code>openid</code> scope value is present, the request may still be a valid OAuth 2.0 request, but is not an OpenID Connect request.)</li>
<li>The Authorization Server MUST verify that all the REQUIRED parameters are present and their usage conforms to this specification.</li>
<li>If the <code>sub</code> (subject) Claim is requested with a specific value for the ID Token, the Authorization Server MUST only send a positive response if the End-User identified by that <code>sub</code> value has an active session with the Authorization Server or has been Authenticated as a result of the request. The Authorization Server MUST NOT reply with an ID Token or Access Token for a different user, even if they have an active session with the Authorization Server. Such a request can be made either using an <code>id_token_hint</code> parameter or by requesting a specific Claim Value as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IndividualClaimsRequests">Section 5.5.1</a>, if the <code>claims</code> parameter is supported by the implementation.</li>
</ol>
<p>As specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], Authorization Servers SHOULD ignore unrecognized request parameters.</p>
<p>If the Authorization Server encounters any error, it MUST return an error response, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-3-Authorization-Server-Authenticates-End-User"><a href="#3-1-2-3-Authorization-Server-Authenticates-End-User" class="headerlink" title="3.1.2.3. Authorization Server Authenticates End-User"></a>3.1.2.3. Authorization Server Authenticates End-User</h3><p>If the request is valid, the Authorization Server attempts to Authenticate the End-User or determines whether the End-User is Authenticated, depending upon the request parameter values used. The methods used by the Authorization Server to Authenticate the End-User (e.g. username and password, session cookies, etc.) are beyond the scope of this specification. An Authentication user interface MAY be displayed by the Authorization Server, depending upon the request parameter values used and the authentication methods used.</p>
<p>The Authorization Server MUST attempt to Authenticate the End-User in the following cases:</p>
<ul>
<li>The End-User is not already Authenticated.</li>
<li>The Authentication Request contains the <code>prompt</code> parameter with the value <code>login</code>. In this case, the Authorization Server MUST reauthenticate the End-User even if the End-User is already authenticated.</li>
</ul>
<p>The Authorization Server MUST NOT interact with the End-User in the following case:</p>
<ul>
<li>The Authentication Request contains the <code>prompt</code> parameter with the value <code>none</code>. In this case, the Authorization Server MUST return an error if an End-User is not already Authenticated or could not be silently Authenticated.</li>
</ul>
<p>When interacting with the End-User, the Authorization Server MUST employ appropriate measures against Cross-Site Request Forgery and Clickjacking as, described in Sections 10.12 and 10.13 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><a href="#3-1-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization" class="headerlink" title="3.1.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization"></a>3.1.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</h3><p>Once the End-User is authenticated, the Authorization Server MUST obtain an authorization decision before releasing information to the Relying Party. When permitted by the request parameters used, this MAY be done through an interactive dialogue with the End-User that makes it clear what is being consented to or by establishing consent via conditions for processing the request or other means (for example, via previous administrative consent). Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">2</a> and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo">5.3</a> describe information release mechanisms.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-5-Successful-Authentication-Response"><a href="#3-1-2-5-Successful-Authentication-Response" class="headerlink" title="3.1.2.5. Successful Authentication Response"></a>3.1.2.5. Successful Authentication Response</h3><p>An Authentication Response is an OAuth 2.0 Authorization Response message returned from the OP’s Authorization Endpoint in response to the Authorization Request message sent by the RP.</p>
<p>When using the Authorization Code Flow, the Authorization Response MUST return the parameters defined in Section 4.1.2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] by adding them as query parameters to the <code>redirect_uri</code> specified in the Authorization Request using the <code>application/x-www-form-urlencoded</code> format, unless a different Response Mode was specified.</p>
<p>The following is a non-normative example successful response using this flow (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb?
  code&#x3D;SplxlOBeZQQYbYS6WxSbIA
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>For implementation notes on the contents of the Authorization Code, see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeNotes">Section 15.5.1</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-6-Authentication-Error-Response"><a href="#3-1-2-6-Authentication-Error-Response" class="headerlink" title="3.1.2.6. Authentication Error Response"></a>3.1.2.6. Authentication Error Response</h3><p>An Authentication Error Response is an OAuth 2.0 Authorization Error Response message returned from the OP’s Authorization Endpoint in response to the Authorization Request message sent by the RP.</p>
<p>If the End-User denies the request or the End-User authentication fails, the OP (Authorization Server) informs the RP (Client) by using the Error Response parameters defined in Section 4.1.2.1 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. (HTTP errors unrelated to RFC 6749 are returned to the User Agent using the appropriate HTTP status code.)</p>
<p>Unless the Redirection URI is invalid, the Authorization Server returns the Client to the Redirection URI specified in the Authorization Request with the appropriate error and state parameters. Other parameters SHOULD NOT be returned.</p>
<p>In addition to the error codes defined in Section 4.1.2.1 of OAuth 2.0, this specification also defines the following error codes:</p>
<blockquote>
<ul>
<li><p>interaction_required</p>
<p>The Authorization Server requires End-User interaction of some form to proceed. This error MAY be returned when the <code>prompt</code> parameter value in the Authentication Request is <code>none</code>, but the Authentication Request cannot be completed without displaying a user interface for End-User interaction.</p>
</li>
<li><p>login_required</p>
<p>The Authorization Server requires End-User authentication. This error MAY be returned when the <code>prompt</code> parameter value in the Authentication Request is <code>none</code>, but the Authentication Request cannot be completed without displaying a user interface for End-User authentication.</p>
</li>
<li><p>account_selection_required</p>
<p>The End-User is REQUIRED to select a session at the Authorization Server. The End-User MAY be authenticated at the Authorization Server with different associated accounts, but the End-User did not select a session. This error MAY be returned when the <code>prompt</code> parameter value in the Authentication Request is <code>none</code>, but the Authentication Request cannot be completed without displaying a user interface to prompt for a session to use.</p>
</li>
<li><p>consent_required</p>
<p>The Authorization Server requires End-User consent. This error MAY be returned when the <code>prompt</code> parameter value in the Authentication Request is <code>none</code>, but the Authentication Request cannot be completed without displaying a user interface for End-User consent.</p>
</li>
<li><p>invalid_request_uri</p>
<p>The <code>request_uri</code> in the Authorization Request returns an error or contains invalid data.</p>
</li>
<li><p>invalid_request_object</p>
<p>The <code>request</code> parameter contains an invalid Request Object.</p>
</li>
<li><p>request_not_supported</p>
<p>The OP does not support use of the <code>request</code> parameter defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests">Section 6</a>.</p>
</li>
<li><p>request_uri_not_supported</p>
<p>The OP does not support use of the <code>request_uri</code> parameter defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests">Section 6</a>.</p>
</li>
<li><p>registration_not_supported</p>
<p>The OP does not support use of the <code>registration</code> parameter defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter">Section 7.2.1</a>.</p>
</li>
</ul>
</blockquote>
<p>The error response parameters are the following:</p>
<blockquote>
<ul>
<li><p>error</p>
<p>REQUIRED. Error code.</p>
</li>
<li><p>error_description</p>
<p>OPTIONAL. Human-readable ASCII encoded text description of the error.</p>
</li>
<li><p>error_uri</p>
<p>OPTIONAL. URI of a web page that includes additional information about the error.</p>
</li>
<li><p>state</p>
<p>OAuth 2.0 state value. REQUIRED if the Authorization Request included the <code>state</code> parameter. Set to the value received from the Client.</p>
</li>
</ul>
</blockquote>
<p>When using the Authorization Code Flow, the error response parameters are added to the query component of the Redirection URI, unless a different Response Mode was specified.</p>
<p>The following is a non-normative example error response using this flow (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb?
  error&#x3D;invalid_request
  &amp;error_description&#x3D;
    Unsupported%20response_type%20value
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-2-7-Authentication-Response-Validation"><a href="#3-1-2-7-Authentication-Response-Validation" class="headerlink" title="3.1.2.7. Authentication Response Validation"></a>3.1.2.7. Authentication Response Validation</h3><p>When using the Authorization Code Flow, the Client MUST validate the response according to RFC 6749, especially Sections 4.1.2 and 10.12.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-Token-Endpoint"><a href="#3-1-3-Token-Endpoint" class="headerlink" title="3.1.3. Token Endpoint"></a>3.1.3. Token Endpoint</h3><p>To obtain an Access Token, an ID Token, and optionally a Refresh Token, the RP (Client) sends a Token Request to the Token Endpoint to obtain a Token Response, as described in Section 3.2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], when using the Authorization Code Flow.</p>
<p>Communication with the Token Endpoint MUST utilize TLS. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TLSRequirements">Section 16.17</a> for more information on using TLS.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-1-Token-Request"><a href="#3-1-3-1-Token-Request" class="headerlink" title="3.1.3.1. Token Request"></a>3.1.3.1. Token Request</h3><p>A Client makes a Token Request by presenting its Authorization Grant (in the form of an Authorization Code) to the Token Endpoint using the <code>grant_type</code> value <code>authorization_code</code>, as described in Section 4.1.3 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. If the Client is a Confidential Client, then it MUST authenticate to the Token Endpoint using the authentication method registered for its <code>client_id</code>, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Section 9</a>.</p>
<p>The Client sends the parameters to the Token Endpoint using the HTTP <code>POST</code> method and the Form Serialization, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#FormSerialization">Section 13.2</a>, as described in Section 4.1.3 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749].</p>
<p>The following is a non-normative example of a Token Request (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">POST &#x2F;token HTTP&#x2F;1.1
Host: server.example.com
Content-Type: application&#x2F;x-www-form-urlencoded
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW

grant_type&#x3D;authorization_code&amp;code&#x3D;SplxlOBeZQQYbYS6WxSbIA
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-2-Token-Request-Validation"><a href="#3-1-3-2-Token-Request-Validation" class="headerlink" title="3.1.3.2. Token Request Validation"></a>3.1.3.2. Token Request Validation</h3><p>The Authorization Server MUST validate the Token Request as follows:</p>
<ul>
<li>Authenticate the Client if it was issued Client Credentials or if it uses another Client Authentication method, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Section 9</a>.</li>
<li>Ensure the Authorization Code was issued to the authenticated Client.</li>
<li>Verify that the Authorization Code is valid.</li>
<li>If possible, verify that the Authorization Code has not been previously used.</li>
<li>Ensure that the <code>redirect_uri</code> parameter value is identical to the <code>redirect_uri</code> parameter value that was included in the initial Authorization Request. If the <code>redirect_uri</code> parameter value is not present when there is only one registered <code>redirect_uri</code> value, the Authorization Server MAY return an error (since the Client should have included the parameter) or MAY proceed without an error (since OAuth 2.0 permits the parameter to be omitted in this case).</li>
<li>Verify that the Authorization Code used was issued in response to an OpenID Connect Authentication Request (so that an ID Token will be returned from the Token Endpoint).</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-3-Successful-Token-Response"><a href="#3-1-3-3-Successful-Token-Response" class="headerlink" title="3.1.3.3. Successful Token Response"></a>3.1.3.3. Successful Token Response</h3><p>After receiving and validating a valid and authorized Token Request from the Client, the Authorization Server returns a successful response that includes an ID Token and an Access Token. The parameters in the successful response are defined in Section 4.1.4 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. The response uses the <code>application/json</code> media type.</p>
<p>The OAuth 2.0 <code>token_type</code> response parameter value MUST be <code>Bearer</code>, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750], unless another Token Type has been negotiated with the Client. Servers SHOULD support the <code>Bearer</code> Token Type; use of other Token Types is outside the scope of this specification.</p>
<p>In addition to the response parameters specified by OAuth 2.0, the following parameters MUST be included in the response:</p>
<blockquote>
<ul>
<li><p>id_token</p>
<p>ID Token value associated with the authenticated session.</p>
</li>
</ul>
</blockquote>
<p>All Token Responses that contain tokens, secrets, or other sensitive information MUST include the following HTTP response header fields and values:</p>
<hr>
<table>
<thead>
<tr>
<th>Header Name</th>
<th>Header Value</th>
</tr>
</thead>
<tbody><tr>
<td>Cache-Control</td>
<td>no-store</td>
</tr>
<tr>
<td>Pragma</td>
<td>no-cache</td>
</tr>
</tbody></table>
<p> <strong>HTTP Response Headers and Values</strong>  </p>
<hr>
<p>The following is a non-normative example of a successful Token Response. The ID Token signature in the example can be verified with the key at <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ExampleRSAKey">Appendix A.7</a>.</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 200 OK
Content-Type: application&#x2F;json
Cache-Control: no-store
Pragma: no-cache

&#123;
 &quot;access_token&quot;: &quot;SlAV32hkKG&quot;,
 &quot;token_type&quot;: &quot;Bearer&quot;,
 &quot;refresh_token&quot;: &quot;8xLOxBtZp8&quot;,
 &quot;expires_in&quot;: 3600,
 &quot;id_token&quot;: &quot;eyJhbGciOiJSUzI1NiIsImtpZCI6IjFlOWdkazcifQ.ewogImlzc
   yI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ4Mjg5
   NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiAibi0wUzZ
   fV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDEzMTEyODA5Nz
   AKfQ.ggW8hZ1EuVLuxNuuIJKX_V8a_OMXzR0EHR9R6jgdqrOOF4daGU96Sr_P6q
   Jp6IcmD3HP99Obi1PRs-cwh3LO-p146waJ8IhehcwL7F09JdijmBqkvPeB2T9CJ
   NqeGpe-gccMg4vfKjkM8FcGvnzZUN4_KSP0aAp1tOJ1zZwgjxqGByKHiOtX7Tpd
   QyHE5lcMiKPXfEIQILVq0pc_E2DzL7emopWoaoZTF_m0_N0YzFC6g6EJbOEoRoS
   K5hoDalrcvRYLSrQAZZKflyuVCyixEoV9GfNQC3_osjzw2PAithfubEEBLuVVk4
   XUVrWOLrLl0nx7RkKU8NXNHq-rvKMzqg&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>As specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], Clients SHOULD ignore unrecognized response parameters.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-4-Token-Error-Response"><a href="#3-1-3-4-Token-Error-Response" class="headerlink" title="3.1.3.4. Token Error Response"></a>3.1.3.4. Token Error Response</h3><p>If the Token Request is invalid or unauthorized, the Authorization Server constructs the error response. The parameters of the Token Error Response are defined as in Section 5.2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. The HTTP response body uses the <code>application/json</code> media type with HTTP response code of 400.</p>
<p>The following is a non-normative example Token Error Response:</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 400 Bad Request
Content-Type: application&#x2F;json
Cache-Control: no-store
Pragma: no-cache

&#123;
 &quot;error&quot;: &quot;invalid_request&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-5-Token-Response-Validation"><a href="#3-1-3-5-Token-Response-Validation" class="headerlink" title="3.1.3.5. Token Response Validation"></a>3.1.3.5. Token Response Validation</h3><p>The Client MUST validate the Token Response as follows:</p>
<ol>
<li>Follow the validation rules in RFC 6749, especially those in Sections 5.1 and 10.12.</li>
<li>Follow the ID Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">Section 3.1.3.7</a>.</li>
<li>Follow the Access Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowTokenValidation">Section 3.1.3.8</a>.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-6-ID-Token"><a href="#3-1-3-6-ID-Token" class="headerlink" title="3.1.3.6. ID Token"></a>3.1.3.6. ID Token</h3><p>The contents of the ID Token are as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. When using the Authorization Code Flow, these additional requirements for the following ID Token Claims apply:</p>
<blockquote>
<ul>
<li><p>at_hash</p>
<p>OPTIONAL. Access Token hash value. Its value is the base64url encoding of the left-most half of the hash of the octets of the ASCII representation of the <code>access_token</code> value, where the hash algorithm used is the hash algorithm used in the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>RS256</code>, hash the <code>access_token</code> value with SHA-256, then take the left-most 128 bits and base64url encode them. The <code>at_hash</code> value is a case sensitive string.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-7-ID-Token-Validation"><a href="#3-1-3-7-ID-Token-Validation" class="headerlink" title="3.1.3.7. ID Token Validation"></a>3.1.3.7. ID Token Validation</h3><p>Clients MUST validate the ID Token in the Token Response in the following manner:</p>
<ol>
<li>If the ID Token is encrypted, decrypt it using the keys and algorithms that the Client specified during Registration that the OP was to use to encrypt the ID Token. If encryption was negotiated with the OP at Registration time and the ID Token is not encrypted, the RP SHOULD reject it.</li>
<li>The Issuer Identifier for the OpenID Provider (which is typically obtained during Discovery) MUST exactly match the value of the <code>iss</code> (issuer) Claim.</li>
<li>The Client MUST validate that the <code>aud</code> (audience) Claim contains its <code>client_id</code> value registered at the Issuer identified by the <code>iss</code> (issuer) Claim as an audience. The <code>aud</code> (audience) Claim MAY contain an array with more than one element. The ID Token MUST be rejected if the ID Token does not list the Client as a valid audience, or if it contains additional audiences not trusted by the Client.</li>
<li>If the ID Token contains multiple audiences, the Client SHOULD verify that an <code>azp</code> Claim is present.</li>
<li>If an <code>azp</code> (authorized party) Claim is present, the Client SHOULD verify that its <code>client_id</code> is the Claim Value.</li>
<li>If the ID Token is received via direct communication between the Client and the Token Endpoint (which it is in this flow), the TLS server validation MAY be used to validate the issuer in place of checking the token signature. The Client MUST validate the signature of all other ID Tokens according to <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS] using the algorithm specified in the JWT <code>alg</code> Header Parameter. The Client MUST use the keys provided by the Issuer.</li>
<li>The <code>alg</code> value SHOULD be the default of <code>RS256</code> or the algorithm sent by the Client in the <code>id_token_signed_response_alg</code> parameter during Registration.</li>
<li>If the JWT <code>alg</code> Header Parameter uses a MAC based algorithm such as <code>HS256</code>, <code>HS384</code>, or <code>HS512</code>, the octets of the UTF-8 representation of the <code>client_secret</code> corresponding to the <code>client_id</code> contained in the <code>aud</code> (audience) Claim are used as the key to validate the signature. For MAC based algorithms, the behavior is unspecified if the <code>aud</code> is multi-valued or if an <code>azp</code> value is present that is different than the <code>aud</code> value.</li>
<li>The current time MUST be before the time represented by the <code>exp</code> Claim.</li>
<li>The <code>iat</code> Claim can be used to reject tokens that were issued too far away from the current time, limiting the amount of time that nonces need to be stored to prevent attacks. The acceptable range is Client specific.</li>
<li>If a nonce value was sent in the Authentication Request, a <code>nonce</code> Claim MUST be present and its value checked to verify that it is the same value as the one that was sent in the Authentication Request. The Client SHOULD check the <code>nonce</code> value for replay attacks. The precise method for detecting replay attacks is Client specific.</li>
<li>If the <code>acr</code> Claim was requested, the Client SHOULD check that the asserted Claim Value is appropriate. The meaning and processing of <code>acr</code> Claim Values is out of scope for this specification.</li>
<li>If the <code>auth_time</code> Claim was requested, either through a specific request for this Claim or by using the <code>max_age</code> parameter, the Client SHOULD check the <code>auth_time</code> Claim value and request re-authentication if it determines too much time has elapsed since the last End-User authentication.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-1-3-8-Access-Token-Validation"><a href="#3-1-3-8-Access-Token-Validation" class="headerlink" title="3.1.3.8. Access Token Validation"></a>3.1.3.8. Access Token Validation</h3><p>When using the Authorization Code Flow, if the ID Token contains an <code>at_hash</code> Claim, the Client MAY use it to validate the Access Token in the same manner as for the Implicit Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitTokenValidation">Section 3.2.2.9</a>, but using the ID Token and Access Token returned from the Token Endpoint.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-Authentication-using-the-Implicit-Flow"><a href="#3-2-Authentication-using-the-Implicit-Flow" class="headerlink" title="3.2. Authentication using the Implicit Flow"></a>3.2. Authentication using the Implicit Flow</h3><p>This section describes how to perform authentication using the Implicit Flow. When using the Implicit Flow, all tokens are returned from the Authorization Endpoint; the Token Endpoint is not used.</p>
<p>The Implicit Flow is mainly used by Clients implemented in a browser using a scripting language. The Access Token and ID Token are returned directly to the Client, which may expose them to the End-User and applications that have access to the End-User’s User Agent. The Authorization Server does not perform Client Authentication.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-1-Implicit-Flow-Steps"><a href="#3-2-1-Implicit-Flow-Steps" class="headerlink" title="3.2.1. Implicit Flow Steps"></a>3.2.1. Implicit Flow Steps</h3><p>The Implicit Flow follows the following steps:</p>
<ol>
<li>Client prepares an Authentication Request containing the desired request parameters.</li>
<li>Client sends the request to the Authorization Server.</li>
<li>Authorization Server Authenticates the End-User.</li>
<li>Authorization Server obtains End-User Consent&#x2F;Authorization.</li>
<li>Authorization Server sends the End-User back to the Client with an ID Token and, if requested, an Access Token.</li>
<li>Client validates the ID token and retrieves the End-User’s Subject Identifier.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-Authorization-Endpoint"><a href="#3-2-2-Authorization-Endpoint" class="headerlink" title="3.2.2. Authorization Endpoint"></a>3.2.2. Authorization Endpoint</h3><p>When using the Implicit Flow, the Authorization Endpoint is used in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>, with the exception of the differences specified in this section.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-1-Authentication-Request"><a href="#3-2-2-1-Authentication-Request" class="headerlink" title="3.2.2.1. Authentication Request"></a>3.2.2.1. Authentication Request</h3><p>Authentication Requests are made as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">Section 3.1.2.1</a>, except that these Authentication Request parameters are used as follows:</p>
<blockquote>
<ul>
<li><p>response_type</p>
<p>REQUIRED. OAuth 2.0 Response Type value that determines the authorization processing flow to be used, including what parameters are returned from the endpoints used. When using the Implicit Flow, this value is <code>id_token token</code> or <code>id_token</code>. The meanings of both of these values are defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses]. No Access Token is returned when the value is <code>id_token</code>.</p>
</li>
<li><p>NOTE: While OAuth 2.0 also defines the <code>token</code> Response Type value for the Implicit Flow, OpenID Connect does not use this Response Type, since no ID Token would be returned.</p>
</li>
<li><p>redirect_uri</p>
<p>REQUIRED. Redirection URI to which the response will be sent. This URI MUST exactly match one of the Redirection URI values for the Client pre-registered at the OpenID Provider, with the matching performed as described in Section 6.2.1 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC3986">RFC3986]</a> (Simple String Comparison). When using this flow, the Redirection URI MUST NOT use the <code>http</code> scheme unless the Client is a native application, in which case it MAY use the <code>http:</code> scheme with <code>localhost</code> as the hostname.</p>
</li>
<li><p>nonce</p>
<p>REQUIRED. String value used to associate a Client session with an ID Token, and to mitigate replay attacks. The value is passed through unmodified from the Authentication Request to the ID Token. Sufficient entropy MUST be present in the <code>nonce</code> values used to prevent attackers from guessing values. For implementation notes, see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes">Section 15.5.2</a>.</p>
</li>
</ul>
</blockquote>
<p>The following is a non-normative example request using the Implicit Flow that would be sent by the User Agent to the Authorization Server in response to a corresponding HTTP 302 redirect response by the Client (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;id_token%20token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile
  &amp;state&#x3D;af0ifjsldkj
  &amp;nonce&#x3D;n-0S6_WzA2Mj HTTP&#x2F;1.1
Host: server.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-2-Authentication-Request-Validation"><a href="#3-2-2-2-Authentication-Request-Validation" class="headerlink" title="3.2.2.2. Authentication Request Validation"></a>3.2.2.2. Authentication Request Validation</h3><p>When using the Implicit Flow, the Authentication Request is validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequestValidation">Section 3.1.2.2</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-3-Authorization-Server-Authenticates-End-User"><a href="#3-2-2-3-Authorization-Server-Authenticates-End-User" class="headerlink" title="3.2.2.3. Authorization Server Authenticates End-User"></a>3.2.2.3. Authorization Server Authenticates End-User</h3><p>When using the Implicit Flow, End-User Authentication is performed in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Authenticates">Section 3.1.2.3</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><a href="#3-2-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization" class="headerlink" title="3.2.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization"></a>3.2.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</h3><p>When using the Implicit Flow, End-User Consent is obtained in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Consent">Section 3.1.2.4</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-5-Successful-Authentication-Response"><a href="#3-2-2-5-Successful-Authentication-Response" class="headerlink" title="3.2.2.5. Successful Authentication Response"></a>3.2.2.5. Successful Authentication Response</h3><p>When using the Implicit Flow, Authentication Responses are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthResponse">Section 3.1.2.5</a>, with the exception of the differences specified in this section.</p>
<p>When using the Implicit Flow, all response parameters are added to the fragment component of the Redirection URI, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses], unless a different Response Mode was specified.</p>
<p>These parameters are returned from the Authorization Endpoint:</p>
<blockquote>
<ul>
<li><p>access_token</p>
<p>OAuth 2.0 Access Token. This is returned unless the <code>response_type</code> value used is <code>id_token</code>.</p>
</li>
<li><p>token_type</p>
<p>OAuth 2.0 Token Type value. The value MUST be <code>Bearer</code> or another <code>token_type</code> value that the Client has negotiated with the Authorization Server. Clients implementing this profile MUST support the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750] specification. This profile only describes the use of bearer tokens. This is returned in the same cases as <code>access_token</code> is.</p>
</li>
<li><p>id_token</p>
<p>REQUIRED. ID Token.</p>
</li>
<li><p>state</p>
<p>OAuth 2.0 state value. REQUIRED if the <code>state</code> parameter is present in the Authorization Request. Clients MUST verify that the <code>state</code> value is equal to the value of <code>state</code> parameter in the Authorization Request.</p>
</li>
<li><p>expires_in</p>
<p>OPTIONAL. Expiration time of the Access Token in seconds since the response was generated.</p>
</li>
</ul>
</blockquote>
<p>Per Section 4.2.2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], no <code>code</code> result is returned when using the Implicit Flow.</p>
<p>The following is a non-normative example of a successful response using the Implicit Flow (with line wraps for the display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  access_token&#x3D;SlAV32hkKG
  &amp;token_type&#x3D;bearer
  &amp;id_token&#x3D;eyJ0 ... NiJ9.eyJ1c ... I6IjIifX0.DeWt4Qu ... ZXso
  &amp;expires_in&#x3D;3600
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-6-Authentication-Error-Response"><a href="#3-2-2-6-Authentication-Error-Response" class="headerlink" title="3.2.2.6. Authentication Error Response"></a>3.2.2.6. Authentication Error Response</h3><p>When using the Implicit Flow, Authorization Error Responses are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a>, with the exception of the differences specified in this section.</p>
<p>If the End-User denies the request or the End-User authentication fails, the Authorization Server MUST return the error Authorization Response in the fragment component of the Redirection URI, as defined in 4.2.2.1 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses], unless a different Response Mode was specified.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-7-Redirect-URI-Fragment-Handling"><a href="#3-2-2-7-Redirect-URI-Fragment-Handling" class="headerlink" title="3.2.2.7. Redirect URI Fragment Handling"></a>3.2.2.7. Redirect URI Fragment Handling</h3><p>Since response parameters are returned in the Redirection URI fragment value, the Client needs to have the User Agent parse the fragment encoded values and pass them to on to the Client’s processing logic for consumption. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#FragmentNotes">Section 15.5.3</a> for implementation notes on URI fragment handling.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-8-Authentication-Response-Validation"><a href="#3-2-2-8-Authentication-Response-Validation" class="headerlink" title="3.2.2.8. Authentication Response Validation"></a>3.2.2.8. Authentication Response Validation</h3><p>When using the Implicit Flow, the Client MUST validate the response as follows:</p>
<ol>
<li>Verify that the response conforms to Section 5 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth.Responses]</a>.</li>
<li>Follow the validation rules in RFC 6749, especially those in Sections 4.2.2 and 10.12.</li>
<li>Follow the ID Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation">Section 3.2.2.11</a>.</li>
<li>Follow the Access Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitTokenValidation">Section 3.2.2.9</a>, unless the <code>response_type</code> value used is <code>id_token</code>.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-9-Access-Token-Validation"><a href="#3-2-2-9-Access-Token-Validation" class="headerlink" title="3.2.2.9. Access Token Validation"></a>3.2.2.9. Access Token Validation</h3><p>To validate an Access Token issued from the Authorization Endpoint with an ID Token, the Client SHOULD do the following:</p>
<ol>
<li>Hash the octets of the ASCII representation of the <code>access_token</code> with the hash algorithm specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JWA</a> [JWA] for the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>RS256</code>, the hash algorithm used is SHA-256.</li>
<li>Take the left-most half of the hash and base64url encode it.</li>
<li>The value of <code>at_hash</code> in the ID Token MUST match the value produced in the previous step.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-10-ID-Token"><a href="#3-2-2-10-ID-Token" class="headerlink" title="3.2.2.10. ID Token"></a>3.2.2.10. ID Token</h3><p>The contents of the ID Token are as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. When using the Implicit Flow, these additional requirements for the following ID Token Claims apply:</p>
<blockquote>
<ul>
<li><p>nonce</p>
<p>Use of the <code>nonce</code> Claim is REQUIRED for this flow.</p>
</li>
<li><p>at_hash</p>
<p>Access Token hash value. Its value is the base64url encoding of the left-most half of the hash of the octets of the ASCII representation of the <code>access_token</code> value, where the hash algorithm used is the hash algorithm used in the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>RS256</code>, hash the <code>access_token</code> value with SHA-256, then take the left-most 128 bits and base64url encode them. The <code>at_hash</code> value is a case sensitive string.</p>
</li>
<li><p>If the ID Token is issued from the Authorization Endpoint with an <code>access_token</code> value, which is the case for the <code>response_type</code> value <code>id_token token</code>, this is REQUIRED; it MAY NOT be used when no Access Token is issued, which is the case for the <code>response_type</code> value <code>id_token</code>.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-2-2-11-ID-Token-Validation"><a href="#3-2-2-11-ID-Token-Validation" class="headerlink" title="3.2.2.11. ID Token Validation"></a>3.2.2.11. ID Token Validation</h3><p>When using the Implicit Flow, the contents of the ID Token MUST be validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">Section 3.1.3.7</a>, with the exception of the differences specified in this section.</p>
<ol>
<li>The Client MUST validate the signature of the ID Token according to <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS] using the algorithm specified in the <code>alg</code> Header Parameter of the JOSE Header.</li>
<li>The value of the <code>nonce</code> Claim MUST be checked to verify that it is the same value as the one that was sent in the Authentication Request. The Client SHOULD check the <code>nonce</code> value for replay attacks. The precise method for detecting replay attacks is Client specific.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-Authentication-using-the-Hybrid-Flow"><a href="#3-3-Authentication-using-the-Hybrid-Flow" class="headerlink" title="3.3. Authentication using the Hybrid Flow"></a>3.3. Authentication using the Hybrid Flow</h3><p>This section describes how to perform authentication using the Hybrid Flow. When using the Hybrid Flow, some tokens are returned from the Authorization Endpoint and others are returned from the Token Endpoint. The mechanisms for returning tokens in the Hybrid Flow are specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-1-Hybrid-Flow-Steps"><a href="#3-3-1-Hybrid-Flow-Steps" class="headerlink" title="3.3.1. Hybrid Flow Steps"></a>3.3.1. Hybrid Flow Steps</h3><p>The Hybrid Flow follows the following steps:</p>
<ol>
<li>Client prepares an Authentication Request containing the desired request parameters.</li>
<li>Client sends the request to the Authorization Server.</li>
<li>Authorization Server Authenticates the End-User.</li>
<li>Authorization Server obtains End-User Consent&#x2F;Authorization.</li>
<li>Authorization Server sends the End-User back to the Client with an Authorization Code and, depending on the Response Type, one or more additional parameters.</li>
<li>Client requests a response using the Authorization Code at the Token Endpoint.</li>
<li>Client receives a response that contains an ID Token and Access Token in the response body.</li>
<li>Client validates the ID Token and retrieves the End-User’s Subject Identifier.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-Authorization-Endpoint"><a href="#3-3-2-Authorization-Endpoint" class="headerlink" title="3.3.2. Authorization Endpoint"></a>3.3.2. Authorization Endpoint</h3><p>When using the Hybrid Flow, the Authorization Endpoint is used in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>, with the exception of the differences specified in this section.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-1-Authentication-Request"><a href="#3-3-2-1-Authentication-Request" class="headerlink" title="3.3.2.1. Authentication Request"></a>3.3.2.1. Authentication Request</h3><p>Authentication Requests are made as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">Section 3.1.2.1</a>, except that these Authentication Request parameters are used as follows:</p>
<blockquote>
<ul>
<li><p>response_type</p>
<p>REQUIRED. OAuth 2.0 Response Type value that determines the authorization processing flow to be used, including what parameters are returned from the endpoints used. When using the Hybrid Flow, this value is <code>code id_token</code>, <code>code token</code>, or <code>code id_token token</code>. The meanings of these values are defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses].</p>
</li>
</ul>
</blockquote>
<p>The following is a non-normative example request using the Hybrid Flow that would be sent by the User Agent to the Authorization Server in response to a corresponding HTTP 302 redirect response by the Client (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code%20id_token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-2-Authentication-Request-Validation"><a href="#3-3-2-2-Authentication-Request-Validation" class="headerlink" title="3.3.2.2. Authentication Request Validation"></a>3.3.2.2. Authentication Request Validation</h3><p>When using the Hybrid Flow, the Authentication Request is validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequestValidation">Section 3.1.2.2</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-3-Authorization-Server-Authenticates-End-User"><a href="#3-3-2-3-Authorization-Server-Authenticates-End-User" class="headerlink" title="3.3.2.3. Authorization Server Authenticates End-User"></a>3.3.2.3. Authorization Server Authenticates End-User</h3><p>When using the Hybrid Flow, End-User Authentication is performed in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Authenticates">Section 3.1.2.3</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><a href="#3-3-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization" class="headerlink" title="3.3.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization"></a>3.3.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</h3><p>When using the Hybrid Flow, End-User Consent is obtained in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Consent">Section 3.1.2.4</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-5-Successful-Authentication-Response"><a href="#3-3-2-5-Successful-Authentication-Response" class="headerlink" title="3.3.2.5. Successful Authentication Response"></a>3.3.2.5. Successful Authentication Response</h3><p>When using the Hybrid Flow, Authentication Responses are made in the same manner as for the Implicit Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitAuthResponse">Section 3.2.2.5</a>, with the exception of the differences specified in this section.</p>
<p>These Authorization Endpoint results are used in the following manner:</p>
<blockquote>
<ul>
<li><p>access_token</p>
<p>OAuth 2.0 Access Token. This is returned when the <code>response_type</code> value used is <code>code token</code>, or <code>code id_token token</code>. (A <code>token_type</code> value is also returned in the same cases.)</p>
</li>
<li><p>id_token</p>
<p>ID Token. This is returned when the <code>response_type</code> value used is <code>code id_token</code> or <code>code id_token token</code>.</p>
</li>
<li><p>code</p>
<p>Authorization Code. This is always returned when using the Hybrid Flow.</p>
</li>
</ul>
</blockquote>
<p>The following is a non-normative example of a successful response using the Hybrid Flow (with line wraps for the display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  code&#x3D;SplxlOBeZQQYbYS6WxSbIA
  &amp;id_token&#x3D;eyJ0 ... NiJ9.eyJ1c ... I6IjIifX0.DeWt4Qu ... ZXso
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-6-Authentication-Error-Response"><a href="#3-3-2-6-Authentication-Error-Response" class="headerlink" title="3.3.2.6. Authentication Error Response"></a>3.3.2.6. Authentication Error Response</h3><p>When using the Hybrid Flow, Authorization Error Responses are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a>, with the exception of the differences specified in this section.</p>
<p>If the End-User denies the request or the End-User authentication fails, the Authorization Server MUST return the error Authorization Response in the fragment component of the Redirection URI, as defined in 4.2.2.1 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth 2.0 Multiple Response Type Encoding Practices</a> [OAuth.Responses], unless a different Response Mode was specified.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-7-Redirect-URI-Fragment-Handling"><a href="#3-3-2-7-Redirect-URI-Fragment-Handling" class="headerlink" title="3.3.2.7. Redirect URI Fragment Handling"></a>3.3.2.7. Redirect URI Fragment Handling</h3><p>When using the Hybrid Flow, the same requirements for Redirection URI fragment parameter handling apply as do for the Implicit Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitCallback">Section 3.2.2.7</a>. Also see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#FragmentNotes">Section 15.5.3</a> for implementation notes on URI fragment handling.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-8-Authentication-Response-Validation"><a href="#3-3-2-8-Authentication-Response-Validation" class="headerlink" title="3.3.2.8. Authentication Response Validation"></a>3.3.2.8. Authentication Response Validation</h3><p>When using the Hybrid Flow, the Client MUST validate the response as follows:</p>
<ol>
<li>Verify that the response conforms to Section 5 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Responses">OAuth.Responses]</a>.</li>
<li>Follow the validation rules in RFC 6749, especially those in Sections 4.2.2 and 10.12.</li>
<li>Follow the ID Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDTValidation">Section 3.3.2.12</a> when the <code>response_type</code> value used is <code>code id_token</code> or <code>code id_token token</code>.</li>
<li>Follow the Access Token validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridTokenValidation">Section 3.3.2.9</a> when the <code>response_type</code> value used is <code>code token</code> or <code>code id_token token</code>.</li>
<li>Follow the Authorization Code validation rules in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeValidation">Section 3.3.2.10</a> when the <code>response_type</code> value used is <code>code id_token</code> or <code>code id_token token</code>.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-9-Access-Token-Validation"><a href="#3-3-2-9-Access-Token-Validation" class="headerlink" title="3.3.2.9. Access Token Validation"></a>3.3.2.9. Access Token Validation</h3><p>When using the Hybrid Flow, Access Tokens returned from the Authorization Endpoint are validated in the same manner as for the Implicit Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitTokenValidation">Section 3.2.2.9</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-10-Authorization-Code-Validation"><a href="#3-3-2-10-Authorization-Code-Validation" class="headerlink" title="3.3.2.10. Authorization Code Validation"></a>3.3.2.10. Authorization Code Validation</h3><p>To validate an Authorization Code issued from the Authorization Endpoint with an ID Token, the Client SHOULD do the following:</p>
<ol>
<li>Hash the octets of the ASCII representation of the <code>code</code> with the hash algorithm specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JWA</a> [JWA] for the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>RS256</code>, the hash algorithm used is SHA-256.</li>
<li>Take the left-most half of the hash and base64url encode it.</li>
<li>The value of <code>c_hash</code> in the ID Token MUST match the value produced in the previous step if <code>c_hash</code> is present in the ID Token.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-11-ID-Token"><a href="#3-3-2-11-ID-Token" class="headerlink" title="3.3.2.11. ID Token"></a>3.3.2.11. ID Token</h3><p>The contents of the ID Token are as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. When using the Hybrid Flow, these additional requirements for the following ID Token Claims apply to an ID Token returned from the Authorization Endpoint:</p>
<blockquote>
<ul>
<li><p>nonce</p>
<p>Use of the <code>nonce</code> Claim is REQUIRED for this flow.</p>
</li>
<li><p>at_hash</p>
<p>Access Token hash value. Its value is the base64url encoding of the left-most half of the hash of the octets of the ASCII representation of the <code>access_token</code> value, where the hash algorithm used is the hash algorithm used in the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>RS256</code>, hash the <code>access_token</code> value with SHA-256, then take the left-most 128 bits and base64url encode them. The <code>at_hash</code> value is a case sensitive string.</p>
</li>
<li><p>If the ID Token is issued from the Authorization Endpoint with an <code>access_token</code> value, which is the case for the <code>response_type</code> value <code>code id_token token</code>, this is REQUIRED; otherwise, its inclusion is OPTIONAL.</p>
</li>
<li><p>c_hash</p>
<p>Code hash value. Its value is the base64url encoding of the left-most half of the hash of the octets of the ASCII representation of the <code>code</code> value, where the hash algorithm used is the hash algorithm used in the <code>alg</code> Header Parameter of the ID Token’s JOSE Header. For instance, if the <code>alg</code> is <code>HS512</code>, hash the <code>code</code> value with SHA-512, then take the left-most 256 bits and base64url encode them. The <code>c_hash</code> value is a case sensitive string.</p>
</li>
<li><p>If the ID Token is issued from the Authorization Endpoint with a <code>code</code>, which is the case for the <code>response_type</code> values <code>code id_token</code> and <code>code id_token token</code>, this is REQUIRED; otherwise, its inclusion is OPTIONAL.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-2-12-ID-Token-Validation"><a href="#3-3-2-12-ID-Token-Validation" class="headerlink" title="3.3.2.12. ID Token Validation"></a>3.3.2.12. ID Token Validation</h3><p>When using the Hybrid Flow, the contents of an ID Token returned from the Authorization Endpoint MUST be validated in the same manner as for the Implicit Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation">Section 3.2.2.11</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-Token-Endpoint"><a href="#3-3-3-Token-Endpoint" class="headerlink" title="3.3.3. Token Endpoint"></a>3.3.3. Token Endpoint</h3><p>When using the Hybrid Flow, the Token Endpoint is used in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenEndpoint">Section 3.1.3</a>, with the exception of the differences specified in this section.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-1-Token-Request"><a href="#3-3-3-1-Token-Request" class="headerlink" title="3.3.3.1. Token Request"></a>3.3.3.1. Token Request</h3><p>When using the Hybrid Flow, Token Requests are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest">Section 3.1.3.1</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-2-Token-Request-Validation"><a href="#3-3-3-2-Token-Request-Validation" class="headerlink" title="3.3.3.2. Token Request Validation"></a>3.3.3.2. Token Request Validation</h3><p>When using the Hybrid Flow, Token Requests are validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenRequestValidation">Section 3.1.3.2</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-3-Successful-Token-Response"><a href="#3-3-3-3-Successful-Token-Response" class="headerlink" title="3.3.3.3. Successful Token Response"></a>3.3.3.3. Successful Token Response</h3><p>When using the Hybrid Flow, Token Responses are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse">Section 3.1.3.3</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-4-Token-Error-Response"><a href="#3-3-3-4-Token-Error-Response" class="headerlink" title="3.3.3.4. Token Error Response"></a>3.3.3.4. Token Error Response</h3><p>When using the Hybrid Flow, Token Error Responses are made in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenErrorResponse">Section 3.1.3.4</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-5-Token-Response-Validation"><a href="#3-3-3-5-Token-Response-Validation" class="headerlink" title="3.3.3.5. Token Response Validation"></a>3.3.3.5. Token Response Validation</h3><p>When using the Hybrid Flow, Token Responses are validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponseValidation">Section 3.1.3.5</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-6-ID-Token"><a href="#3-3-3-6-ID-Token" class="headerlink" title="3.3.3.6. ID Token"></a>3.3.3.6. ID Token</h3><p>When using the Hybrid Flow, the contents of an ID Token returned from the Token Endpoint are the same as for an ID Token returned from the Authorization Endpoint, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDToken">Section 3.3.2.11</a>, with the exception of the differences specified in this section.</p>
<p>If an ID Token is returned from both the Authorization Endpoint and from the Token Endpoint, which is the case for the <code>response_type</code> values <code>code id_token</code> and <code>code id_token token</code>, the <code>iss</code> and <code>sub</code> Claim Values MUST be identical in both ID Tokens. All Claims about the Authentication event present in either SHOULD be present in both. If either ID Token contains Claims about the End-User, any that are present in both SHOULD have the same values in both. Note that the OP MAY choose to return fewer Claims about the End-User from the Authorization Endpoint, for instance, for privacy reasons. The <code>at_hash</code> and <code>c_hash</code> Claims MAY be omitted from the ID Token returned from the Token Endpoint even when these Claims are present in the ID Token returned from the Authorization Endpoint, because the ID Token and Access Token values returned from the Token Endpoint are already cryptographically bound together by the TLS encryption performed by the Token Endpoint.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-7-ID-Token-Validation"><a href="#3-3-3-7-ID-Token-Validation" class="headerlink" title="3.3.3.7. ID Token Validation"></a>3.3.3.7. ID Token Validation</h3><p>When using the Hybrid Flow, the contents of an ID Token returned from the Token Endpoint MUST be validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">Section 3.1.3.7</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-8-Access-Token"><a href="#3-3-3-8-Access-Token" class="headerlink" title="3.3.3.8. Access Token"></a>3.3.3.8. Access Token</h3><p>If an Access Token is returned from both the Authorization Endpoint and from the Token Endpoint, which is the case for the <code>response_type</code> values <code>code token</code> and <code>code id_token token</code>, their values MAY be the same or they MAY be different. Note that different Access Tokens might be returned be due to the different security characteristics of the two endpoints and the lifetimes and the access to resources granted by them might also be different.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="3-3-3-9-Access-Token-Validation"><a href="#3-3-3-9-Access-Token-Validation" class="headerlink" title="3.3.3.9. Access Token Validation"></a>3.3.3.9. Access Token Validation</h3><p>When using the Hybrid Flow, the Access Token returned from the Token Endpoint is validated in the same manner as for the Authorization Code Flow, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowTokenValidation">Section 3.1.3.8</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="4-Initiating-Login-from-a-Third-Party"><a href="#4-Initiating-Login-from-a-Third-Party" class="headerlink" title="4. Initiating Login from a Third Party"></a>4. Initiating Login from a Third Party</h3><p>In some cases, the login flow is initiated by an OpenID Provider or another party, rather than the Relying Party. In this case, the initiator redirects to the RP at its login initiation endpoint, which requests that the RP send an Authentication Request to a specified OP. This login initiation endpoint can be a deep link at the RP, rather than a default landing page. RPs supporting <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration] register this endpoint value using the <code>initiate_login_uri</code> Registration parameter.</p>
<p>The party initiating the login request does so by redirecting to the login initiation endpoint at the RP, passing the following parameters:</p>
<blockquote>
<ul>
<li><p>iss</p>
<p>REQUIRED. Issuer Identifier for the OP that the RP is to send the Authentication Request to. Its value MUST be a URL using the <code>https</code> scheme.</p>
</li>
<li><p>login_hint</p>
<p>OPTIONAL. Hint to the Authorization Server about the login identifier the End-User might use to log in. If the client receives a value for this string-valued parameter, it MUST include it in the Authentication Request as the <code>login_hint</code> parameter value.</p>
</li>
<li><p>target_link_uri</p>
<p>OPTIONAL. URL that the RP is requested to redirect to after authentication. RPs MUST verify the value of the <code>target_link_uri</code> to prevent being used as an open redirector to external sites.</p>
</li>
</ul>
</blockquote>
<p>The parameters can either be passed as query parameters using the HTTP <code>GET</code> method or be passed as HTML form values that are auto-submitted in the User Agent, and thus are transmitted via the HTTP <code>POST</code> method.</p>
<p>Other parameters MAY be sent, if defined by extensions. Any parameters used that are not understood MUST be ignored by the Client.</p>
<p>Clients SHOULD employ frame busting and other techniques to prevent End-Users from being logged in by third party sites without their knowledge through attacks such as Clickjacking. Refer to Section 4.4.1.9 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6819">RFC6819]</a> for more details.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-Claims"><a href="#5-Claims" class="headerlink" title="5. Claims"></a>5. Claims</h3><p>This section specifies how the Client can obtain Claims about the End-User and the Authentication event. It also defines a standard set of basic profile Claims. Pre-defined sets of Claims can be requested using specific scope values or individual Claims can be requested using the <code>claims</code> request parameter. The Claims can come directly from the OpenID Provider or from distributed sources as well.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-1-Standard-Claims"><a href="#5-1-Standard-Claims" class="headerlink" title="5.1. Standard Claims"></a>5.1. Standard Claims</h3><p>This specification defines a set of standard Claims. They can be requested to be returned either in the UserInfo Response, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfoResponse">Section 5.3.2</a>, or in the ID Token, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>.</p>
<hr>
<table>
<thead>
<tr>
<th>Member</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>sub</td>
<td>string</td>
<td>Subject - Identifier for the End-User at the Issuer.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>End-User’s full name in displayable form including all name parts, possibly including titles and suffixes, ordered according to the End-User’s locale and preferences.</td>
</tr>
<tr>
<td>given_name</td>
<td>string</td>
<td>Given name(s) or first name(s) of the End-User. Note that in some cultures, people can have multiple given names; all can be present, with the names being separated by space characters.</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td>Surname(s) or last name(s) of the End-User. Note that in some cultures, people can have multiple family names or no family name; all can be present, with the names being separated by space characters.</td>
</tr>
<tr>
<td>middle_name</td>
<td>string</td>
<td>Middle name(s) of the End-User. Note that in some cultures, people can have multiple middle names; all can be present, with the names being separated by space characters. Also note that in some cultures, middle names are not used.</td>
</tr>
<tr>
<td>nickname</td>
<td>string</td>
<td>Casual name of the End-User that may or may not be the same as the <code>given_name</code>. For instance, a <code>nickname</code> value of <code>Mike</code> might be returned alongside a <code>given_name</code> value of <code>Michael</code>.</td>
</tr>
<tr>
<td>preferred_username</td>
<td>string</td>
<td>Shorthand name by which the End-User wishes to be referred to at the RP, such as <code>janedoe</code> or <code>j.doe</code>. This value MAY be any valid JSON string including special characters such as <code>@</code>, <code>/</code>, or whitespace. The RP MUST NOT rely upon this value being unique, as discussed in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimStability">Section 5.7</a>.</td>
</tr>
<tr>
<td>profile</td>
<td>string</td>
<td>URL of the End-User’s profile page. The contents of this Web page SHOULD be about the End-User.</td>
</tr>
<tr>
<td>picture</td>
<td>string</td>
<td>URL of the End-User’s profile picture. This URL MUST refer to an image file (for example, a PNG, JPEG, or GIF image file), rather than to a Web page containing an image. Note that this URL SHOULD specifically reference a profile photo of the End-User suitable for displaying when describing the End-User, rather than an arbitrary photo taken by the End-User.</td>
</tr>
<tr>
<td>website</td>
<td>string</td>
<td>URL of the End-User’s Web page or blog. This Web page SHOULD contain information published by the End-User or an organization that the End-User is affiliated with.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>End-User’s preferred e-mail address. Its value MUST conform to the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5322">RFC 5322</a> [RFC5322] addr-spec syntax. The RP MUST NOT rely upon this value being unique, as discussed in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimStability">Section 5.7</a>.</td>
</tr>
<tr>
<td>email_verified</td>
<td>boolean</td>
<td>True if the End-User’s e-mail address has been verified; otherwise false. When this Claim Value is <code>true</code>, this means that the OP took affirmative steps to ensure that this e-mail address was controlled by the End-User at the time the verification was performed. The means by which an e-mail address is verified is context-specific, and dependent upon the trust framework or contractual agreements within which the parties are operating.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>End-User’s gender. Values defined by this specification are <code>female</code> and <code>male</code>. Other values MAY be used when neither of the defined values are applicable.</td>
</tr>
<tr>
<td>birthdate</td>
<td>string</td>
<td>End-User’s birthday, represented as an <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO8601-2004">ISO 8601:2004</a> [ISO8601‑2004] <code>YYYY-MM-DD</code> format. The year MAY be <code>0000</code>, indicating that it is omitted. To represent only the year, <code>YYYY</code> format is allowed. Note that depending on the underlying platform’s date related function, providing just year can result in varying month and day, so the implementers need to take this factor into account to correctly process the dates.</td>
</tr>
<tr>
<td>zoneinfo</td>
<td>string</td>
<td>String from zoneinfo [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#zoneinfo">zoneinfo]</a> time zone database representing the End-User’s time zone. For example, <code>Europe/Paris</code> or <code>America/Los_Angeles</code>.</td>
</tr>
<tr>
<td>locale</td>
<td>string</td>
<td>End-User’s locale, represented as a <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5646">BCP47</a> [RFC5646] language tag. This is typically an <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO639-1">ISO 639-1 Alpha-2</a> [ISO639‑1] language code in lowercase and an <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO3166-1">ISO 3166-1 Alpha-2</a> [ISO3166‑1] country code in uppercase, separated by a dash. For example, <code>en-US</code> or <code>fr-CA</code>. As a compatibility note, some implementations have used an underscore as the separator rather than a dash, for example, <code>en_US</code>; Relying Parties MAY choose to accept this locale syntax as well.</td>
</tr>
<tr>
<td>phone_number</td>
<td>string</td>
<td>End-User’s preferred telephone number. <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#E.164">E.164</a> [E.164] is RECOMMENDED as the format of this Claim, for example, <code>+1 (425) 555-1212</code> or <code>+56 (2) 687 2400</code>. If the phone number contains an extension, it is RECOMMENDED that the extension be represented using the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC3966">RFC 3966</a> [RFC3966] extension syntax, for example, <code>+1 (604) 555-1234;ext=5678</code>.</td>
</tr>
<tr>
<td>phone_number_verified</td>
<td>boolean</td>
<td>True if the End-User’s phone number has been verified; otherwise false. When this Claim Value is <code>true</code>, this means that the OP took affirmative steps to ensure that this phone number was controlled by the End-User at the time the verification was performed. The means by which a phone number is verified is context-specific, and dependent upon the trust framework or contractual agreements within which the parties are operating. When true, the <code>phone_number</code> Claim MUST be in E.164 format and any extensions MUST be represented in RFC 3966 format.</td>
</tr>
<tr>
<td>address</td>
<td>JSON object</td>
<td>End-User’s preferred postal address. The value of the <code>address</code> member is a JSON [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC4627">RFC4627]</a> structure containing some or all of the members defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim">Section 5.1.1</a>.</td>
</tr>
<tr>
<td>updated_at</td>
<td>number</td>
<td>Time the End-User’s information was last updated. Its value is a JSON number representing the number of seconds from 1970-01-01T0:0:0Z as measured in UTC until the date&#x2F;time.</td>
</tr>
</tbody></table>
<p> <strong>Table 1: Registered Member Definitions</strong>  </p>
<hr>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-1-1-Address-Claim"><a href="#5-1-1-Address-Claim" class="headerlink" title="5.1.1. Address Claim"></a>5.1.1. Address Claim</h3><p>The Address Claim represents a physical mailing address. Implementations MAY return only a subset of the fields of an <code>address</code>, depending upon the information available and the End-User’s privacy preferences. For example, the <code>country</code> and <code>region</code> might be returned without returning more fine-grained address information.</p>
<p>Implementations MAY return just the full address as a single string in the formatted sub-field, or they MAY return just the individual component fields using the other sub-fields, or they MAY return both. If both variants are returned, they SHOULD be describing the same address, with the formatted address indicating how the component fields are combined.</p>
<blockquote>
<ul>
<li><p>formatted</p>
<p>Full mailing address, formatted for display or use on a mailing label. This field MAY contain multiple lines, separated by newlines. Newlines can be represented either as a carriage return&#x2F;line feed pair (“\r\n”) or as a single line feed character (“\n”).</p>
</li>
<li><p>street_address</p>
<p>Full street address component, which MAY include house number, street name, Post Office Box, and multi-line extended street address information. This field MAY contain multiple lines, separated by newlines. Newlines can be represented either as a carriage return&#x2F;line feed pair (“\r\n”) or as a single line feed character (“\n”).</p>
</li>
<li><p>locality</p>
<p>City or locality component.</p>
</li>
<li><p>region</p>
<p>State, province, prefecture, or region component.</p>
</li>
<li><p>postal_code</p>
<p>Zip code or postal code component.</p>
</li>
<li><p>country</p>
<p>Country name component.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-1-2-Additional-Claims"><a href="#5-1-2-Additional-Claims" class="headerlink" title="5.1.2. Additional Claims"></a>5.1.2. Additional Claims</h3><p>While this specification defines only a small set of Claims as standard Claims, other Claims MAY be used in conjunction with the standard Claims. When using such Claims, it is RECOMMENDED that collision-resistant names be used for the Claim Names, as described in the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT)</a> [JWT] specification. Alternatively, Private Claim Names can be safely used when naming conflicts are unlikely to arise, as described in the JWT specification. Or, if specific additional Claims will have broad and general applicability, they can be registered with Registered Claim Names, per the JWT specification.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-2-Claims-Languages-and-Scripts"><a href="#5-2-Claims-Languages-and-Scripts" class="headerlink" title="5.2. Claims Languages and Scripts"></a>5.2. Claims Languages and Scripts</h3><p>Human-readable Claim Values and Claim Values that reference human-readable values MAY be represented in multiple languages and scripts. To specify the languages and scripts, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5646">BCP47</a> [RFC5646] language tags are added to member names, delimited by a <code>#</code> character. For example, <code>family_name#ja-Kana-JP</code> expresses the Family Name in Katakana in Japanese, which is commonly used to index and represent the phonetics of the Kanji representation of the same represented as <code>family_name#ja-Hani-JP</code>. As another example, both <code>website</code> and <code>website#de</code> Claim Values might be returned, referencing a Web site in an unspecified language and a Web site in German.</p>
<p>Since Claim Names are case sensitive, it is strongly RECOMMENDED that language tag values used in Claim Names be spelled using the character case with which they are registered in the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IANA.Language">IANA Language Subtag Registry</a> [IANA.Language]. In particular, normally language names are spelled with lowercase characters, region names are spelled with uppercase characters, and scripts are spelled with mixed case characters. However, since BCP47 language tag values are case insensitive, implementations SHOULD interpret the language tag values supplied in a case insensitive manner.</p>
<p>Per the recommendations in BCP47, language tag values for Claims SHOULD only be as specific as necessary. For instance, using <code>fr</code> might be sufficient in many contexts, rather than <code>fr-CA</code> or <code>fr-FR</code>. Where possible, OPs SHOULD try to match requested Claim locales with Claims it has. For instance, if the Client asks for a Claim with a <code>de</code> (German) language tag and the OP has a value tagged with <code>de-CH</code> (Swiss German) and no generic German value, it would be appropriate for the OP to return the Swiss German value to the Client. (This intentionally moves as much of the complexity of language tag matching to the OP as possible, to simplify Clients.)</p>
<p>OpenID Connect defines the following Authorization Request parameter to enable specify the preferred languages and scripts to be used for the returned Claims:</p>
<blockquote>
<ul>
<li><p>claims_locales</p>
<p>OPTIONAL. End-User’s preferred languages and scripts for Claims being returned, represented as a space-separated list of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5646">BCP47</a> [RFC5646] language tag values, ordered by preference. An error SHOULD NOT result if some or all of the requested locales are not supported by the OpenID Provider.</p>
</li>
</ul>
</blockquote>
<p>When the OP determines, either through the <code>claims_locales</code> parameter, or by other means, that the End-User and Client are requesting Claims in only one set of languages and scripts, it is RECOMMENDED that OPs return Claims without language tags when they employ this language and script. It is also RECOMMENDED that Clients be written in a manner that they can handle and utilize Claims using language tags.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-3-UserInfo-Endpoint"><a href="#5-3-UserInfo-Endpoint" class="headerlink" title="5.3. UserInfo Endpoint"></a>5.3. UserInfo Endpoint</h3><p>The UserInfo Endpoint is an OAuth 2.0 Protected Resource that returns Claims about the authenticated End-User. To obtain the requested Claims about the End-User, the Client makes a request to the UserInfo Endpoint using an Access Token obtained through OpenID Connect Authentication. These Claims are normally represented by a JSON object that contains a collection of name and value pairs for the Claims.</p>
<p>Communication with the UserInfo Endpoint MUST utilize TLS. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TLSRequirements">Section 16.17</a> for more information on using TLS.</p>
<p>The UserInfo Endpoint MUST support the use of the HTTP <code>GET</code> and HTTP <code>POST</code> methods defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2616">RFC 2616</a> [RFC2616].</p>
<p>The UserInfo Endpoint MUST accept Access Tokens as <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750].</p>
<p>The UserInfo Endpoint SHOULD support the use of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CORS">Cross Origin Resource Sharing (CORS)</a> [CORS] and or other methods as appropriate to enable Java Script Clients to access the endpoint.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-3-1-UserInfo-Request"><a href="#5-3-1-UserInfo-Request" class="headerlink" title="5.3.1. UserInfo Request"></a>5.3.1. UserInfo Request</h3><p>The Client sends the UserInfo Request using either HTTP <code>GET</code> or HTTP <code>POST</code>. The Access Token obtained from an OpenID Connect Authentication Request MUST be sent as a Bearer Token, per Section 2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750].</p>
<p>It is RECOMMENDED that the request use the HTTP <code>GET</code> method and the Access Token be sent using the <code>Authorization</code> header field.</p>
<p>The following is a non-normative example of a UserInfo Request:</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;userinfo HTTP&#x2F;1.1
Host: server.example.com
Authorization: Bearer SlAV32hkKG<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-3-2-Successful-UserInfo-Response"><a href="#5-3-2-Successful-UserInfo-Response" class="headerlink" title="5.3.2. Successful UserInfo Response"></a>5.3.2. Successful UserInfo Response</h3><p>The UserInfo Claims MUST be returned as the members of a JSON object unless a signed or encrypted response was requested during Client Registration. The Claims defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> can be returned, as can additional Claims not specified there.</p>
<p>For privacy reasons, OpenID Providers MAY elect to not return values for some requested Claims.</p>
<p>If a Claim is not returned, that Claim Name SHOULD be omitted from the JSON object representing the Claims; it SHOULD NOT be present with a null or empty string value.</p>
<p>The <code>sub</code> (subject) Claim MUST always be returned in the UserInfo Response.</p>
<p>NOTE: Due to the possibility of token substitution attacks (see <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenSubstitution">Section 16.11</a>), the UserInfo Response is not guaranteed to be about the End-User identified by the <code>sub</code> (subject) element of the ID Token. The <code>sub</code> Claim in the UserInfo Response MUST be verified to exactly match the <code>sub</code> Claim in the ID Token; if they do not match, the UserInfo Response values MUST NOT be used.</p>
<p>Upon receipt of the UserInfo Request, the UserInfo Endpoint MUST return the JSON Serialization of the UserInfo Response as in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JSONSerialization">Section 13.3</a> in the HTTP response body unless a different format was specified during Registration [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID.Registration]</a>. The UserInfo Endpoint MUST return a content-type header to indicate which format is being returned. The content-type of the HTTP response MUST be <code>application/json</code> if the response body is a text JSON object; the response body SHOULD be encoded using UTF-8.</p>
<p>If the UserInfo Response is signed and&#x2F;or encrypted, then the Claims are returned in a JWT and the content-type MUST be <code>application/jwt</code>. The response MAY be encrypted without also being signed. If both signing and encryption are requested, the response MUST be signed then encrypted, with the result being a Nested JWT, as defined in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>.</p>
<p>If signed, the UserInfo Response SHOULD contain the Claims <code>iss</code> (issuer) and <code>aud</code> (audience) as members. The <code>iss</code> value SHOULD be the OP’s Issuer Identifier URL. The <code>aud</code> value SHOULD be or include the RP’s Client ID value.</p>
<p>The following is a non-normative example of a UserInfo Response:</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 200 OK
Content-Type: application&#x2F;json

&#123;
 &quot;sub&quot;: &quot;248289761001&quot;,
 &quot;name&quot;: &quot;Jane Doe&quot;,
 &quot;given_name&quot;: &quot;Jane&quot;,
 &quot;family_name&quot;: &quot;Doe&quot;,
 &quot;preferred_username&quot;: &quot;j.doe&quot;,
 &quot;email&quot;: &quot;janedoe@example.com&quot;,
 &quot;picture&quot;: &quot;http:&#x2F;&#x2F;example.com&#x2F;janedoe&#x2F;me.jpg&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-3-3-UserInfo-Error-Response"><a href="#5-3-3-UserInfo-Error-Response" class="headerlink" title="5.3.3. UserInfo Error Response"></a>5.3.3. UserInfo Error Response</h3><p>When an error condition occurs, the UserInfo Endpoint returns an Error Response as defined in Section 3 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750]. (HTTP errors unrelated to RFC 6750 are returned to the User Agent using the appropriate HTTP status code.)</p>
<p>The following is a non-normative example of a UserInfo Error Response:</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 401 Unauthorized
WWW-Authenticate: error&#x3D;&quot;invalid_token&quot;,
  error_description&#x3D;&quot;The Access Token expired&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-3-4-UserInfo-Response-Validation"><a href="#5-3-4-UserInfo-Response-Validation" class="headerlink" title="5.3.4. UserInfo Response Validation"></a>5.3.4. UserInfo Response Validation</h3><p>The Client MUST validate the UserInfo Response as follows:</p>
<ol>
<li>Verify that the OP that responded was the intended OP through a TLS server certificate check, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6125">RFC 6125</a> [RFC6125].</li>
<li>If the Client has provided a <code>userinfo_encrypted_response_alg</code> parameter during Registration, decrypt the UserInfo Response using the keys specified during Registration.</li>
<li>If the response was signed, the Client SHOULD validate the signature according to <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS].</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-4-Requesting-Claims-using-Scope-Values"><a href="#5-4-Requesting-Claims-using-Scope-Values" class="headerlink" title="5.4. Requesting Claims using Scope Values"></a>5.4. Requesting Claims using Scope Values</h3><p>OpenID Connect Clients use <code>scope</code> values, as defined in Section 3.3 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], to specify what access privileges are being requested for Access Tokens. The scopes associated with Access Tokens determine what resources will be available when they are used to access OAuth 2.0 protected endpoints. Protected Resource endpoints MAY perform different actions and return different information based on the scope values and other parameters used when requesting the presented Access Token.</p>
<p>For OpenID Connect, scopes can be used to request that specific sets of information be made available as Claim Values.</p>
<p>Claims requested by the following scopes are treated by Authorization Servers as Voluntary Claims.</p>
<p>OpenID Connect defines the following <code>scope</code> values that are used to request Claims:</p>
<blockquote>
<ul>
<li><p>profile</p>
<p>OPTIONAL. This scope value requests access to the End-User’s default profile Claims, which are: <code>name</code>, <code>family_name</code>, <code>given_name</code>, <code>middle_name</code>, <code>nickname</code>, <code>preferred_username</code>, <code>profile</code>, <code>picture</code>, <code>website</code>, <code>gender</code>, <code>birthdate</code>, <code>zoneinfo</code>, <code>locale</code>, and <code>updated_at</code>.</p>
</li>
<li><p>email</p>
<p>OPTIONAL. This scope value requests access to the <code>email</code> and <code>email_verified</code> Claims.</p>
</li>
<li><p>address</p>
<p>OPTIONAL. This scope value requests access to the <code>address</code> Claim.</p>
</li>
<li><p>phone</p>
<p>OPTIONAL. This scope value requests access to the <code>phone_number</code> and <code>phone_number_verified</code> Claims.</p>
</li>
</ul>
</blockquote>
<p>Multiple scope values MAY be used by creating a space delimited, case sensitive list of ASCII scope values.</p>
<p>The Claims requested by the <code>profile</code>, <code>email</code>, <code>address</code>, and <code>phone</code> scope values are returned from the UserInfo Endpoint, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfoResponse">Section 5.3.2</a>, when a <code>response_type</code> value is used that results in an Access Token being issued. However, when no Access Token is issued (which is the case for the <code>response_type</code> value <code>id_token</code>), the resulting Claims are returned in the ID Token.</p>
<p>In some cases, the End-User will be given the option to have the OpenID Provider decline to provide some or all information requested by RPs. To minimize the amount of information that the End-User is being asked to disclose, an RP can elect to only request a subset of the information available from the UserInfo Endpoint.</p>
<p>The following is a non-normative example of an unencoded <code>scope</code> request:</p>
<pre class="line-numbers language-none"><code class="language-none">scope&#x3D;openid profile email phone<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-5-Requesting-Claims-using-the-“claims”-Request-Parameter"><a href="#5-5-Requesting-Claims-using-the-“claims”-Request-Parameter" class="headerlink" title="5.5. Requesting Claims using the “claims” Request Parameter"></a>5.5. Requesting Claims using the “claims” Request Parameter</h3><p>OpenID Connect defines the following Authorization Request parameter to enable requesting individual Claims and specifying parameters that apply to the requested Claims:</p>
<blockquote>
<ul>
<li><p>claims</p>
<p>OPTIONAL. This parameter is used to request that specific Claims be returned. The value is a JSON object listing the requested Claims.</p>
</li>
</ul>
</blockquote>
<p>The <code>claims</code> Authentication Request parameter requests that specific Claims be returned from the UserInfo Endpoint and&#x2F;or in the ID Token. It is represented as a JSON object containing lists of Claims being requested from these locations. Properties of the Claims being requested MAY also be specified.</p>
<p>Support for the <code>claims</code> parameter is OPTIONAL. Should an OP not support this parameter and an RP uses it, the OP SHOULD return a set of Claims to the RP that it believes would be useful to the RP and the End-User using whatever heuristics it believes are appropriate. The <code>claims_parameter_supported</code> Discovery result indicates whether the OP supports this parameter.</p>
<p>The <code>claims</code> parameter value is represented in an OAuth 2.0 request as UTF-8 encoded JSON (which ends up being form-urlencoded when passed as an OAuth parameter). When used in a Request Object value, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RequestObject">Section 6.1</a>, the JSON is used as the value of the <code>claims</code> member.</p>
<p>The top-level members of the Claims request JSON object are:</p>
<blockquote>
<ul>
<li><p>userinfo</p>
<p>OPTIONAL. Requests that the listed individual Claims be returned from the UserInfo Endpoint. If present, the listed Claims are being requested to be added to any Claims that are being requested using <code>scope</code> values. If not present, the Claims being requested from the UserInfo Endpoint are only those requested using <code>scope</code> values.</p>
</li>
<li><p>When the <code>userinfo</code> member is used, the request MUST also use a <code>response_type</code> value that results in an Access Token being issued to the Client for use at the UserInfo Endpoint.</p>
</li>
<li><p>id_token</p>
<p>OPTIONAL. Requests that the listed individual Claims be returned in the ID Token. If present, the listed Claims are being requested to be added to the default Claims in the ID Token. If not present, the default ID Token Claims are requested, as per the ID Token definition in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> and per the additional per-flow ID Token requirements in Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken">3.1.3.6</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDToken">3.2.2.10</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDToken">3.3.2.11</a>, and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDToken2">3.3.3.6</a>.</p>
</li>
</ul>
</blockquote>
<p>Other members MAY be present. Any members used that are not understood MUST be ignored.</p>
<p>An example Claims request is as follows:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;userinfo&quot;:
  &#123;
   &quot;given_name&quot;: &#123;&quot;essential&quot;: true&#125;,
   &quot;nickname&quot;: null,
   &quot;email&quot;: &#123;&quot;essential&quot;: true&#125;,
   &quot;email_verified&quot;: &#123;&quot;essential&quot;: true&#125;,
   &quot;picture&quot;: null,
   &quot;http:&#x2F;&#x2F;example.info&#x2F;claims&#x2F;groups&quot;: null
  &#125;,
 &quot;id_token&quot;:
  &#123;
   &quot;auth_time&quot;: &#123;&quot;essential&quot;: true&#125;,
   &quot;acr&quot;: &#123;&quot;values&quot;: [&quot;urn:mace:incommon:iap:silver&quot;] &#125;
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Note that a Claim that is not in the standard set defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a>, the (example) <code>http://example.info/claims/groups</code> Claim, is being requested. Using the <code>claims</code> parameter is the only way to request Claims outside the standard set. It is also the only way to request specific combinations of the standard Claims that cannot be specified using scope values.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-5-1-Individual-Claims-Requests"><a href="#5-5-1-Individual-Claims-Requests" class="headerlink" title="5.5.1. Individual Claims Requests"></a>5.5.1. Individual Claims Requests</h3><p>The <code>userinfo</code> and <code>id_token</code> members of the <code>claims</code> request both are JSON objects with the names of the individual Claims being requested as the member names. The member values MUST be one of the following:</p>
<blockquote>
<ul>
<li><p>null</p>
<p>Indicates that this Claim is being requested in the default manner. In particular, this is a Voluntary Claim. For instance, the Claim request:<code> &quot;given_name&quot;: null</code>requests the <code>given_name</code> Claim in the default manner.</p>
</li>
<li><p>JSON Object</p>
<p>Used to provide additional information about the Claim being requested. This specification defines the following members:essentialOPTIONAL. Indicates whether the Claim being requested is an Essential Claim. If the value is <code>true</code>, this indicates that the Claim is an Essential Claim. For instance, the Claim request:<code> &quot;auth_time&quot;: &#123;&quot;essential&quot;: true&#125;</code>can be used to specify that it is Essential to return an <code>auth_time</code> Claim Value.If the value is <code>false</code>, it indicates that it is a Voluntary Claim. The default is <code>false</code>.By requesting Claims as Essential Claims, the RP indicates to the End-User that releasing these Claims will ensure a smooth authorization for the specific task requested by the End-User. Note that even if the Claims are not available because the End-User did not authorize their release or they are not present, the Authorization Server MUST NOT generate an error when Claims are not returned, whether they are Essential or Voluntary, unless otherwise specified in the description of the specific claim.valueOPTIONAL. Requests that the Claim be returned with a particular value. For instance the Claim request:<code> &quot;sub&quot;: &#123;&quot;value&quot;: &quot;248289761001&quot;&#125;</code>can be used to specify that the request apply to the End-User with Subject Identifier <code>248289761001</code>.The value of the <code>value</code> member MUST be a valid value for the Claim being requested. Definitions of individual Claims can include requirements on how and whether the <code>value</code> qualifier is to be used when requesting that Claim.valuesOPTIONAL. Requests that the Claim be returned with one of a set of values, with the values appearing in order of preference. For instance the Claim request:<code> &quot;acr&quot;: &#123;&quot;essential&quot;: true,          &quot;values&quot;: [&quot;urn:mace:incommon:iap:silver&quot;,                     &quot;urn:mace:incommon:iap:bronze&quot;]&#125;</code>specifies that it is Essential that the <code>acr</code> Claim be returned with either the value <code>urn:mace:incommon:iap:silver</code> or <code>urn:mace:incommon:iap:bronze</code>.The values in the <code>values</code> member array MUST be valid values for the Claim being requested. Definitions of individual Claims can include requirements on how and whether the <code>values</code> qualifier is to be used when requesting that Claim.Other members MAY be defined to provide additional information about the requested Claims. Any members used that are not understood MUST be ignored.</p>
</li>
</ul>
</blockquote>
<p>Note that when the <code>claims</code> request parameter is supported, the scope values that request Claims, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims">Section 5.4</a>, are effectively shorthand methods for requesting sets of individual Claims. For example, using the scope value <code>openid email</code> and a <code>response_type</code> that returns an Access Token is equivalent to using the scope value <code>openid</code> and the following request for individual Claims.</p>
<p>Equivalent of using the <code>email</code> scope value:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;userinfo&quot;:
  &#123;
   &quot;email&quot;: null,
   &quot;email_verified&quot;: null
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-5-1-1-Requesting-the-“acr”-Claim"><a href="#5-5-1-1-Requesting-the-“acr”-Claim" class="headerlink" title="5.5.1.1. Requesting the “acr” Claim"></a>5.5.1.1. Requesting the “acr” Claim</h3><p>If the <code>acr</code> Claim is requested as an Essential Claim for the ID Token with a <code>values</code> parameter requesting specific Authentication Context Class Reference values and the implementation supports the <code>claims</code> parameter, the Authorization Server MUST return an <code>acr</code> Claim Value that matches one of the requested values. The Authorization Server MAY ask the End-User to re-authenticate with additional factors to meet this requirement. If this is an Essential Claim and the requirement cannot be met, then the Authorization Server MUST treat that outcome as a failed authentication attempt.</p>
<p>Note that the RP MAY request the <code>acr</code> Claim as a Voluntary Claim by using the <code>acr_values</code> request parameter or by not including “essential”: true in an individual <code>acr</code> Claim request. If the Claim is not Essential and a requested value cannot be provided, the Authorization Server SHOULD return the session’s current <code>acr</code> as the value of the <code>acr</code> Claim. If the Claim is not Essential, the Authorization Server is not required to provide this Claim in its response.</p>
<p>If the client requests the <code>acr</code> Claim using both the <code>acr_values</code> request parameter and an individual <code>acr</code> Claim request for the ID Token listing specific requested values, the resulting behavior is unspecified.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-5-2-Languages-and-Scripts-for-Individual-Claims"><a href="#5-5-2-Languages-and-Scripts-for-Individual-Claims" class="headerlink" title="5.5.2. Languages and Scripts for Individual Claims"></a>5.5.2. Languages and Scripts for Individual Claims</h3><p>As described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">Section 5.2</a>, human-readable Claim Values and Claim Values that reference human-readable values MAY be represented in multiple languages and scripts. Within a request for individual Claims, requested languages and scripts for particular Claims MAY be requested by including Claim Names that contain <code>#</code>-separated <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5646">BCP47</a> [RFC5646] language tags in the Claims request, using the Claim Name syntax specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">Section 5.2</a>. For example, a Family Name in Katakana in Japanese can be requested using the Claim Name <code>family_name#ja-Kana-JP</code> and a Kanji representation of the Family Name in Japanese can be requested using the Claim Name <code>family_name#ja-Hani-JP</code>. A German-language Web site can be requested with the Claim Name <code>website#de</code>.</p>
<p>If an OP receives a request for human-readable Claims in a language and script that it doesn’t have, any versions of those Claims returned that don’t use the requested language and script SHOULD use a language tag in the Claim Name.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-6-Claim-Types"><a href="#5-6-Claim-Types" class="headerlink" title="5.6. Claim Types"></a>5.6. Claim Types</h3><p>Three representations of Claim Values are defined by this specification:</p>
<blockquote>
<ul>
<li><p>Normal Claims</p>
<p>Claims that are directly asserted by the OpenID Provider.</p>
</li>
<li><p>Aggregated Claims</p>
<p>Claims that are asserted by a Claims Provider other than the OpenID Provider but are returned by OpenID Provider.</p>
</li>
<li><p>Distributed Claims</p>
<p>Claims that are asserted by a Claims Provider other than the OpenID Provider but are returned as references by the OpenID Provider.</p>
</li>
</ul>
</blockquote>
<p>Normal Claims MUST be supported. Support for Aggregated Claims and Distributed Claims is OPTIONAL.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-6-1-Normal-Claims"><a href="#5-6-1-Normal-Claims" class="headerlink" title="5.6.1. Normal Claims"></a>5.6.1. Normal Claims</h3><p>Normal Claims are represented as members in a JSON object. The Claim Name is the member name and the Claim Value is the member value.</p>
<p>The following is a non-normative response containing Normal Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;name&quot;: &quot;Jane Doe&quot;,
 &quot;given_name&quot;: &quot;Jane&quot;,
 &quot;family_name&quot;: &quot;Doe&quot;,
 &quot;email&quot;: &quot;janedoe@example.com&quot;,
 &quot;picture&quot;: &quot;http:&#x2F;&#x2F;example.com&#x2F;janedoe&#x2F;me.jpg&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-6-2-Aggregated-and-Distributed-Claims"><a href="#5-6-2-Aggregated-and-Distributed-Claims" class="headerlink" title="5.6.2. Aggregated and Distributed Claims"></a>5.6.2. Aggregated and Distributed Claims</h3><p>Aggregated and distributed Claims are represented by using special <code>_claim_names</code> and <code>_claim_sources</code> members of the JSON object containing the Claims.</p>
<blockquote>
<ul>
<li><p>_claim_names</p>
<p>JSON object whose member names are the Claim Names for the Aggregated and Distributed Claims. The member values are references to the member names in the <code>_claim_sources</code> member from which the actual Claim Values can be retrieved.</p>
</li>
<li><p>_claim_sources</p>
<p>JSON object whose member names are referenced by the member values of the <code>_claim_names</code> member. The member values contain sets of Aggregated Claims or reference locations for Distributed Claims. The member values can have one of the following formats depending on whether it is providing Aggregated or Distributed Claims:Aggregated ClaimsJSON object that MUST contain the <code>JWT</code> member whose value is a <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT</a> [JWT] that MUST contain all the Claims in the <code>_claim_names</code> object that references the corresponding <code>_claim_sources</code> member. Other members MAY be present. Any members used that are not understood MUST be ignored.JWTREQUIRED. JWT containing Claim Values.The JWT SHOULD NOT contain a <code>sub</code> (subject) Claim unless its value is an identifier for the End-User at the Claims Provider (and not for the OpenID Provider or another party); this typically means that a <code>sub</code> Claim SHOULD NOT be provided.Distributed ClaimsJSON object that contains the following members and values:endpointREQUIRED. OAuth 2.0 resource endpoint from which the associated Claim can be retrieved. The endpoint URL MUST return the Claim as a JWT.access_tokenOPTIONAL. Access Token enabling retrieval of the Claims from the endpoint URL by using the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750] protocol. Claims SHOULD be requested using the Authorization Request header field and Claims Providers MUST support this method. If the Access Token is not available, RPs MAY need to retrieve the Access Token out of band or use an Access Token that was pre-negotiated between the Claims Provider and RP, or the Claims Provider MAY reauthenticate the End-User and&#x2F;or reauthorize the RP.A <code>sub</code> (subject) Claim SHOULD NOT be returned from the Claims Provider unless its value is an identifier for the End-User at the Claims Provider (and not for the OpenID Provider or another party); this typically means that a <code>sub</code> Claim SHOULD NOT be provided.</p>
</li>
</ul>
</blockquote>
<p>In general, it is up to the OP when it is appropriate to use Aggregated Claims and Distributed Claims. In some cases, information about when to use what Claim Types might be negotiated out of band between RPs and OPs.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-6-2-1-Example-of-Aggregated-Claims"><a href="#5-6-2-1-Example-of-Aggregated-Claims" class="headerlink" title="5.6.2.1. Example of Aggregated Claims"></a>5.6.2.1. Example of Aggregated Claims</h3><p>In this non-normative example, Claims from Claims Provider A are combined with other Claims held by the OpenID provider, with the Claims from Claims Provider A being returned as Aggregated Claims.</p>
<p>In this example, these Claims about Jane Doe have been issued by Claims Provider A:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;address&quot;: &#123;
   &quot;street_address&quot;: &quot;1234 Hollywood Blvd.&quot;,
   &quot;locality&quot;: &quot;Los Angeles&quot;,
   &quot;region&quot;: &quot;CA&quot;,
   &quot;postal_code&quot;: &quot;90210&quot;,
   &quot;country&quot;: &quot;US&quot;&#125;,
 &quot;phone_number&quot;: &quot;+1 (310) 123-4567&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Claims Provider A signs the JSON Claims, representing them in a signed JWT: jwt_header.jwt_part2.jwt_part3. It is this JWT that is used by the OpenID Provider.</p>
<p>In this example, this JWT containing Jane Doe’s Aggregated Claims from Claims Provider A is combined with other Normal Claims, and returned as the following set of Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;name&quot;: &quot;Jane Doe&quot;,
 &quot;given_name&quot;: &quot;Jane&quot;,
 &quot;family_name&quot;: &quot;Doe&quot;,
 &quot;birthdate&quot;: &quot;0000-03-22&quot;,
 &quot;eye_color&quot;: &quot;blue&quot;,
 &quot;email&quot;: &quot;janedoe@example.com&quot;,
 &quot;_claim_names&quot;: &#123;
   &quot;address&quot;: &quot;src1&quot;,
   &quot;phone_number&quot;: &quot;src1&quot;
 &#125;,
 &quot;_claim_sources&quot;: &#123;
   &quot;src1&quot;: &#123;&quot;JWT&quot;: &quot;jwt_header.jwt_part2.jwt_part3&quot;&#125;
 &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-6-2-2-Example-of-Distributed-Claims"><a href="#5-6-2-2-Example-of-Distributed-Claims" class="headerlink" title="5.6.2.2. Example of Distributed Claims"></a>5.6.2.2. Example of Distributed Claims</h3><p>In this non-normative example, the OpenID Provider combines Normal Claims that it holds with references to Claims held by two different Claims Providers, B and C, incorporating references to some of the Claims held by B and C as Distributed Claims.</p>
<p>In this example, these Claims about Jane Doe are held by Claims Provider B (Jane Doe’s bank):</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;shipping_address&quot;: &#123;
   &quot;street_address&quot;: &quot;1234 Hollywood Blvd.&quot;,
   &quot;locality&quot;: &quot;Los Angeles&quot;,
   &quot;region&quot;: &quot;CA&quot;,
   &quot;postal_code&quot;: &quot;90210&quot;,
   &quot;country&quot;: &quot;US&quot;&#125;,
 &quot;payment_info&quot;: &quot;Some_Card 1234 5678 9012 3456&quot;,
 &quot;phone_number&quot;: &quot;+1 (310) 123-4567&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Also in this example, this Claim about Jane Doe is held by Claims Provider C (a credit agency):</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;credit_score&quot;: 650
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>The OpenID Provider returns Jane Doe’s Claims along with references to the Distributed Claims from Claims Provider B and Claims Provider C by sending the Access Tokens and URLs of locations from which the Distributed Claims can be retrieved:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;name&quot;: &quot;Jane Doe&quot;,
 &quot;given_name&quot;: &quot;Jane&quot;,
 &quot;family_name&quot;: &quot;Doe&quot;,
 &quot;email&quot;: &quot;janedoe@example.com&quot;,
 &quot;birthdate&quot;: &quot;0000-03-22&quot;,
 &quot;eye_color&quot;: &quot;blue&quot;,
 &quot;_claim_names&quot;: &#123;
   &quot;payment_info&quot;: &quot;src1&quot;,
   &quot;shipping_address&quot;: &quot;src1&quot;,
   &quot;credit_score&quot;: &quot;src2&quot;
  &#125;,
 &quot;_claim_sources&quot;: &#123;
   &quot;src1&quot;: &#123;&quot;endpoint&quot;:
              &quot;https:&#x2F;&#x2F;bank.example.com&#x2F;claim_source&quot;&#125;,
   &quot;src2&quot;: &#123;&quot;endpoint&quot;:
              &quot;https:&#x2F;&#x2F;creditagency.example.com&#x2F;claims_here&quot;,
            &quot;access_token&quot;: &quot;ksj3n283dke&quot;&#125;
 &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="5-7-Claim-Stability-and-Uniqueness"><a href="#5-7-Claim-Stability-and-Uniqueness" class="headerlink" title="5.7. Claim Stability and Uniqueness"></a>5.7. Claim Stability and Uniqueness</h3><p>The <code>sub</code> (subject) and <code>iss</code> (issuer) Claims, used together, are the only Claims that an RP can rely upon as a stable identifier for the End-User, since the <code>sub</code> Claim MUST be locally unique and never reassigned within the Issuer for a particular End-User, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>. Therefore, the only guaranteed unique identifier for a given End-User is the combination of the <code>iss</code> Claim and the <code>sub</code> Claim.</p>
<p>All other Claims carry no such guarantees across different issuers in terms of stability over time or uniqueness across users, and Issuers are permitted to apply local restrictions and policies. For instance, an Issuer MAY re-use an <code>email</code> Claim Value across different End-Users at different points in time, and the claimed <code>email</code> address for a given End-User MAY change over time. Therefore, other Claims such as <code>email</code>, <code>phone_number</code>, and <code>preferred_username</code> and MUST NOT be used as unique identifiers for the End-User.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-Passing-Request-Parameters-as-JWTs"><a href="#6-Passing-Request-Parameters-as-JWTs" class="headerlink" title="6. Passing Request Parameters as JWTs"></a>6. Passing Request Parameters as JWTs</h3><p>OpenID Connect defines the following Authorization Request parameters to enable Authentication Requests to be signed and optionally encrypted:</p>
<blockquote>
<ul>
<li><p>request</p>
<p>OPTIONAL. This parameter enables OpenID Connect requests to be passed in a single, self-contained parameter and to be optionally signed and&#x2F;or encrypted. The parameter value is a Request Object value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RequestObject">Section 6.1</a>. It represents the request as a JWT whose Claims are the request parameters.</p>
</li>
<li><p>request_uri</p>
<p>OPTIONAL. This parameter enables OpenID Connect requests to be passed by reference, rather than by value. The <code>request_uri</code> value is a URL using the <code>https</code> scheme referencing a resource containing a Request Object value, which is a JWT containing the request parameters.</p>
</li>
</ul>
</blockquote>
<p>Requests using these parameters are represented as JWTs, which are respectively passed by value or by reference. The ability to pass requests by reference is particularly useful for large requests. If one of these parameters is used, the other MUST NOT be used in the same request.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-1-Passing-a-Request-Object-by-Value"><a href="#6-1-Passing-a-Request-Object-by-Value" class="headerlink" title="6.1. Passing a Request Object by Value"></a>6.1. Passing a Request Object by Value</h3><p>The <code>request</code> Authorization Request parameter enables OpenID Connect requests to be passed in a single, self-contained parameter and to be optionally signed and&#x2F;or encrypted. It represents the request as a JWT whose Claims are the request parameters specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>. This JWT is called a Request Object.</p>
<p>Support for the <code>request</code> parameter is OPTIONAL. The <code>request_parameter_supported</code> Discovery result indicates whether the OP supports this parameter. Should an OP not support this parameter and an RP uses it, the OP MUST return the <code>request_not_supported</code> error.</p>
<p>When the <code>request</code> parameter is used, the OpenID Connect request parameter values contained in the JWT supersede those passed using the OAuth 2.0 request syntax. However, parameters MAY also be passed using the OAuth 2.0 request syntax even when a Request Object is used; this would typically be done to enable a cached, pre-signed (and possibly pre-encrypted) Request Object value to be used containing the fixed request parameters, while parameters that can vary with each request, such as <code>state</code> and <code>nonce</code>, are passed as OAuth 2.0 parameters.</p>
<p>So that the request is a valid OAuth 2.0 Authorization Request, values for the <code>response_type</code> and <code>client_id</code> parameters MUST be included using the OAuth 2.0 request syntax, since they are REQUIRED by OAuth 2.0. The values for these parameters MUST match those in the Request Object, if present.</p>
<p>Even if a <code>scope</code> parameter is present in the Request Object value, a <code>scope</code> parameter MUST always be passed using the OAuth 2.0 request syntax containing the <code>openid</code> scope value to indicate to the underlying OAuth 2.0 logic that this is an OpenID Connect request.</p>
<p>The Request Object MAY be signed or unsigned (plaintext). When it is plaintext, this is indicated by use of the <code>none</code> algorithm [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JWA]</a> in the JOSE Header. If signed, the Request Object SHOULD contain the Claims <code>iss</code> (issuer) and <code>aud</code> (audience) as members. The <code>iss</code> value SHOULD be the Client ID of the RP, unless it was signed by a different party than the RP. The <code>aud</code> value SHOULD be or include the OP’s Issuer Identifier URL.</p>
<p>The Request Object MAY also be encrypted using <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JWE</a> [JWE] and MAY be encrypted without also being signed. If both signing and encryption are performed, it MUST be signed then encrypted, with the result being a Nested JWT, as defined in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>.</p>
<p><code>request</code> and <code>request_uri</code> parameters MUST NOT be included in Request Objects.</p>
<p>The following is a non-normative example of the Claims in a Request Object before base64url encoding and signing:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;aud&quot;: &quot;https:&#x2F;&#x2F;server.example.com&quot;,
 &quot;response_type&quot;: &quot;code id_token&quot;,
 &quot;client_id&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;redirect_uri&quot;: &quot;https:&#x2F;&#x2F;client.example.org&#x2F;cb&quot;,
 &quot;scope&quot;: &quot;openid&quot;,
 &quot;state&quot;: &quot;af0ifjsldkj&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;max_age&quot;: 86400,
 &quot;claims&quot;:
  &#123;
   &quot;userinfo&quot;:
    &#123;
     &quot;given_name&quot;: &#123;&quot;essential&quot;: true&#125;,
     &quot;nickname&quot;: null,
     &quot;email&quot;: &#123;&quot;essential&quot;: true&#125;,
     &quot;email_verified&quot;: &#123;&quot;essential&quot;: true&#125;,
     &quot;picture&quot;: null
    &#125;,
   &quot;id_token&quot;:
    &#123;
     &quot;gender&quot;: null,
     &quot;birthdate&quot;: &#123;&quot;essential&quot;: true&#125;,
     &quot;acr&quot;: &#123;&quot;values&quot;: [&quot;urn:mace:incommon:iap:silver&quot;]&#125;
    &#125;
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Signing it with the <code>RS256</code> algorithm results in this Request Object value (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">eyJhbGciOiJSUzI1NiIsImtpZCI6ImsyYmRjIn0.ew0KICJpc3MiOiAiczZCaGRSa3
F0MyIsDQogImF1ZCI6ICJodHRwczovL3NlcnZlci5leGFtcGxlLmNvbSIsDQogInJl
c3BvbnNlX3R5cGUiOiAiY29kZSBpZF90b2tlbiIsDQogImNsaWVudF9pZCI6ICJzNk
JoZFJrcXQzIiwNCiAicmVkaXJlY3RfdXJpIjogImh0dHBzOi8vY2xpZW50LmV4YW1w
bGUub3JnL2NiIiwNCiAic2NvcGUiOiAib3BlbmlkIiwNCiAic3RhdGUiOiAiYWYwaW
Zqc2xka2oiLA0KICJub25jZSI6ICJuLTBTNl9XekEyTWoiLA0KICJtYXhfYWdlIjog
ODY0MDAsDQogImNsYWltcyI6IA0KICB7DQogICAidXNlcmluZm8iOiANCiAgICB7DQ
ogICAgICJnaXZlbl9uYW1lIjogeyJlc3NlbnRpYWwiOiB0cnVlfSwNCiAgICAgIm5p
Y2tuYW1lIjogbnVsbCwNCiAgICAgImVtYWlsIjogeyJlc3NlbnRpYWwiOiB0cnVlfS
wNCiAgICAgImVtYWlsX3ZlcmlmaWVkIjogeyJlc3NlbnRpYWwiOiB0cnVlfSwNCiAg
ICAgInBpY3R1cmUiOiBudWxsDQogICAgfSwNCiAgICJpZF90b2tlbiI6IA0KICAgIH
sNCiAgICAgImdlbmRlciI6IG51bGwsDQogICAgICJiaXJ0aGRhdGUiOiB7ImVzc2Vu
dGlhbCI6IHRydWV9LA0KICAgICAiYWNyIjogeyJ2YWx1ZXMiOiBbInVybjptYWNlOm
luY29tbW9uOmlhcDpzaWx2ZXIiXX0NCiAgICB9DQogIH0NCn0.nwwnNsk1-Zkbmnvs
F6zTHm8CHERFMGQPhos-EJcaH4Hh-sMgk8ePrGhw_trPYs8KQxsn6R9Emo_wHwajyF
KzuMXZFSZ3p6Mb8dkxtVyjoy2GIzvuJT_u7PkY2t8QU9hjBcHs68PkgjDVTrG1uRTx
0GxFbuPbj96tVuj11pTnmFCUR6IEOXKYr7iGOCRB3btfJhM0_AKQUfqKnRlrRscc8K
ol-cSLWoYE9l5QqholImzjT_cMnNIznW9E7CDyWXTsO70xnB4SkG6pXfLSjLLlxmPG
iyon_-Te111V8uE83IlzCYIb_NMXvtTIVc1jpspnTSD7xMbpL-2QgwUsAlMGzw<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The following RSA public key, represented in JWK format, can be used to validate the Request Object signature in this and subsequent Request Object examples (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;kty&quot;:&quot;RSA&quot;,
 &quot;kid&quot;:&quot;k2bdc&quot;,
 &quot;n&quot;:&quot;y9Lqv4fCp6Ei-u2-ZCKq83YvbFEk6JMs_pSj76eMkddWRuWX2aBKGHAtKlE5P
      7_vn__PCKZWePt3vGkB6ePgzAFu08NmKemwE5bQI0e6kIChtt_6KzT5OaaXDF
      I6qCLJmk51Cc4VYFaxgqevMncYrzaW_50mZ1yGSFIQzLYP8bijAHGVjdEFgZa
      ZEN9lsn_GdWLaJpHrB3ROlS50E45wxrlg9xMncVb8qDPuXZarvghLL0HzOuYR
      adBJVoWZowDNTpKpk2RklZ7QaBO7XDv3uR7s_sf2g-bAjSYxYUGsqkNA9b3xV
      W53am_UZZ3tZbFTIh557JICWKHlWj5uzeJXaw&quot;,
 &quot;e&quot;:&quot;AQAB&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-1-1-Request-using-the-“request”-Request-Parameter"><a href="#6-1-1-Request-using-the-“request”-Request-Parameter" class="headerlink" title="6.1.1. Request using the “request” Request Parameter"></a>6.1.1. Request using the “request” Request Parameter</h3><p>The Client sends the Authorization Request to the Authorization Endpoint.</p>
<p>The following is a non-normative example of an Authorization Request using the <code>request</code> parameter (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;server.example.com&#x2F;authorize?
  response_type&#x3D;code%20id_token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid
  &amp;state&#x3D;af0ifjsldkj
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;request&#x3D;eyJhbGciOiJSUzI1NiIsImtpZCI6ImsyYmRjIn0.ew0KICJpc3MiOiA
  iczZCaGRSa3F0MyIsDQogImF1ZCI6ICJodHRwczovL3NlcnZlci5leGFtcGxlLmN
  vbSIsDQogInJlc3BvbnNlX3R5cGUiOiAiY29kZSBpZF90b2tlbiIsDQogImNsaWV
  udF9pZCI6ICJzNkJoZFJrcXQzIiwNCiAicmVkaXJlY3RfdXJpIjogImh0dHBzOi8
  vY2xpZW50LmV4YW1wbGUub3JnL2NiIiwNCiAic2NvcGUiOiAib3BlbmlkIiwNCiA
  ic3RhdGUiOiAiYWYwaWZqc2xka2oiLA0KICJub25jZSI6ICJuLTBTNl9XekEyTWo
  iLA0KICJtYXhfYWdlIjogODY0MDAsDQogImNsYWltcyI6IA0KICB7DQogICAidXN
  lcmluZm8iOiANCiAgICB7DQogICAgICJnaXZlbl9uYW1lIjogeyJlc3NlbnRpYWw
  iOiB0cnVlfSwNCiAgICAgIm5pY2tuYW1lIjogbnVsbCwNCiAgICAgImVtYWlsIjo
  geyJlc3NlbnRpYWwiOiB0cnVlfSwNCiAgICAgImVtYWlsX3ZlcmlmaWVkIjogeyJ
  lc3NlbnRpYWwiOiB0cnVlfSwNCiAgICAgInBpY3R1cmUiOiBudWxsDQogICAgfSw
  NCiAgICJpZF90b2tlbiI6IA0KICAgIHsNCiAgICAgImdlbmRlciI6IG51bGwsDQo
  gICAgICJiaXJ0aGRhdGUiOiB7ImVzc2VudGlhbCI6IHRydWV9LA0KICAgICAiYWN
  yIjogeyJ2YWx1ZXMiOiBbInVybjptYWNlOmluY29tbW9uOmlhcDpzaWx2ZXIiXX0
  NCiAgICB9DQogIH0NCn0.nwwnNsk1-ZkbmnvsF6zTHm8CHERFMGQPhos-EJcaH4H
  h-sMgk8ePrGhw_trPYs8KQxsn6R9Emo_wHwajyFKzuMXZFSZ3p6Mb8dkxtVyjoy2
  GIzvuJT_u7PkY2t8QU9hjBcHs68PkgjDVTrG1uRTx0GxFbuPbj96tVuj11pTnmFC
  UR6IEOXKYr7iGOCRB3btfJhM0_AKQUfqKnRlrRscc8Kol-cSLWoYE9l5QqholImz
  jT_cMnNIznW9E7CDyWXTsO70xnB4SkG6pXfLSjLLlxmPGiyon_-Te111V8uE83Il
  zCYIb_NMXvtTIVc1jpspnTSD7xMbpL-2QgwUsAlMGzw<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-2-Passing-a-Request-Object-by-Reference"><a href="#6-2-Passing-a-Request-Object-by-Reference" class="headerlink" title="6.2. Passing a Request Object by Reference"></a>6.2. Passing a Request Object by Reference</h3><p>The <code>request_uri</code> Authorization Request parameter enables OpenID Connect requests to be passed by reference, rather than by value. This parameter is used identically to the <code>request</code> parameter, other than that the Request Object value is retrieved from the resource at the specified URL, rather than passed by value.</p>
<p>The <code>request_uri_parameter_supported</code> Discovery result indicates whether the OP supports this parameter. Should an OP not support this parameter and an RP uses it, the OP MUST return the <code>request_uri_not_supported</code> error.</p>
<p>When the <code>request_uri</code> parameter is used, the OpenID Connect request parameter values contained in the referenced JWT supersede those passed using the OAuth 2.0 request syntax. However, parameters MAY also be passed using the OAuth 2.0 request syntax even when a <code>request_uri</code> is used; this would typically be done to enable a cached, pre-signed (and possibly pre-encrypted) Request Object value to be used containing the fixed request parameters, while parameters that can vary with each request, such as <code>state</code> and <code>nonce</code>, are passed as OAuth 2.0 parameters.</p>
<p>So that the request is a valid OAuth 2.0 Authorization Request, values for the <code>response_type</code> and <code>client_id</code> parameters MUST be included using the OAuth 2.0 request syntax, since they are REQUIRED by OAuth 2.0. The values for these parameters MUST match those in the Request Object, if present.</p>
<p>Even if a <code>scope</code> parameter is present in the referenced Request Object, a <code>scope</code> parameter MUST always be passed using the OAuth 2.0 request syntax containing the <code>openid</code> scope value to indicate to the underlying OAuth 2.0 logic that this is an OpenID Connect request.</p>
<p>Servers MAY cache the contents of the resources referenced by Request URIs. If the contents of the referenced resource could ever change, the URI SHOULD include the base64url encoded SHA-256 hash of the referenced resource contents as the fragment component of the URI. If the fragment value used for a URI changes, that signals the server that any cached value for that URI with the old fragment value is no longer valid.</p>
<p>Note that Clients MAY pre-register <code>request_uri</code> values using the <code>request_uris</code> parameter defined in Section 2.1 of the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration] specification. OPs can require that <code>request_uri</code> values used be pre-registered with the <code>require_request_uri_registration</code> discovery parameter.</p>
<p>The entire Request URI MUST NOT exceed 512 ASCII characters.</p>
<p>The contents of the resource referenced by the URL MUST be a Request Object. The scheme used in the <code>request_uri</code> value MUST be <code>https</code>, unless the target Request Object is signed in a way that is verifiable by the Authorization Server. The <code>request_uri</code> value MUST be reachable by the Authorization Server, and SHOULD be reachable by the Client.</p>
<p>The following is a non-normative example of the contents of a Request Object resource that can be referenced by a <code>request_uri</code> (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">eyJhbGciOiJSUzI1NiIsImtpZCI6ImsyYmRjIn0.ew0KICJpc3MiOiAiczZCaGRSa3
F0MyIsDQogImF1ZCI6ICJodHRwczovL3NlcnZlci5leGFtcGxlLmNvbSIsDQogInJl
c3BvbnNlX3R5cGUiOiAiY29kZSBpZF90b2tlbiIsDQogImNsaWVudF9pZCI6ICJzNk
JoZFJrcXQzIiwNCiAicmVkaXJlY3RfdXJpIjogImh0dHBzOi8vY2xpZW50LmV4YW1w
bGUub3JnL2NiIiwNCiAic2NvcGUiOiAib3BlbmlkIiwNCiAic3RhdGUiOiAiYWYwaW
Zqc2xka2oiLA0KICJub25jZSI6ICJuLTBTNl9XekEyTWoiLA0KICJtYXhfYWdlIjog
ODY0MDAsDQogImNsYWltcyI6IA0KICB7DQogICAidXNlcmluZm8iOiANCiAgICB7DQ
ogICAgICJnaXZlbl9uYW1lIjogeyJlc3NlbnRpYWwiOiB0cnVlfSwNCiAgICAgIm5p
Y2tuYW1lIjogbnVsbCwNCiAgICAgImVtYWlsIjogeyJlc3NlbnRpYWwiOiB0cnVlfS
wNCiAgICAgImVtYWlsX3ZlcmlmaWVkIjogeyJlc3NlbnRpYWwiOiB0cnVlfSwNCiAg
ICAgInBpY3R1cmUiOiBudWxsDQogICAgfSwNCiAgICJpZF90b2tlbiI6IA0KICAgIH
sNCiAgICAgImdlbmRlciI6IG51bGwsDQogICAgICJiaXJ0aGRhdGUiOiB7ImVzc2Vu
dGlhbCI6IHRydWV9LA0KICAgICAiYWNyIjogeyJ2YWx1ZXMiOiBbInVybjptYWNlOm
luY29tbW9uOmlhcDpzaWx2ZXIiXX0NCiAgICB9DQogIH0NCn0.nwwnNsk1-Zkbmnvs
F6zTHm8CHERFMGQPhos-EJcaH4Hh-sMgk8ePrGhw_trPYs8KQxsn6R9Emo_wHwajyF
KzuMXZFSZ3p6Mb8dkxtVyjoy2GIzvuJT_u7PkY2t8QU9hjBcHs68PkgjDVTrG1uRTx
0GxFbuPbj96tVuj11pTnmFCUR6IEOXKYr7iGOCRB3btfJhM0_AKQUfqKnRlrRscc8K
ol-cSLWoYE9l5QqholImzjT_cMnNIznW9E7CDyWXTsO70xnB4SkG6pXfLSjLLlxmPG
iyon_-Te111V8uE83IlzCYIb_NMXvtTIVc1jpspnTSD7xMbpL-2QgwUsAlMGzw<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-2-1-URL-Referencing-the-Request-Object"><a href="#6-2-1-URL-Referencing-the-Request-Object" class="headerlink" title="6.2.1. URL Referencing the Request Object"></a>6.2.1. URL Referencing the Request Object</h3><p>The Client stores the Request Object resource either locally or remotely at a URL the Server can access. This URL is the Request URI, <code>request_uri</code>.</p>
<p>If the Request Object includes requested values for Claims, it MUST NOT be revealed to anybody but the Authorization Server. As such, the <code>request_uri</code> MUST have appropriate entropy for its lifetime. It is RECOMMENDED that it be removed if it is known that it will not be used again or after a reasonable timeout unless access control measures are taken.</p>
<p>The following is a non-normative example of a Request URI value (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;client.example.org&#x2F;request.jwt#
  GkurKxf5T0Y-mnPFCHqWOMiZi4VS138cQO_V7PZHAdM<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-2-2-Request-using-the-“request-uri”-Request-Parameter"><a href="#6-2-2-Request-using-the-“request-uri”-Request-Parameter" class="headerlink" title="6.2.2. Request using the “request_uri” Request Parameter"></a>6.2.2. Request using the “request_uri” Request Parameter</h3><p>The Client sends the Authorization Request to the Authorization Endpoint.</p>
<p>The following is a non-normative example of an Authorization Request using the <code>request_uri</code> parameter (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;server.example.com&#x2F;authorize?
  response_type&#x3D;code%20id_token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;request_uri&#x3D;https%3A%2F%2Fclient.example.org%2Frequest.jwt
  %23GkurKxf5T0Y-mnPFCHqWOMiZi4VS138cQO_V7PZHAdM
  &amp;state&#x3D;af0ifjsldkj&amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;scope&#x3D;openid<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-2-3-Authorization-Server-Fetches-Request-Object"><a href="#6-2-3-Authorization-Server-Fetches-Request-Object" class="headerlink" title="6.2.3. Authorization Server Fetches Request Object"></a>6.2.3. Authorization Server Fetches Request Object</h3><p>Upon receipt of the Request, the Authorization Server MUST send an HTTP <code>GET</code> request to the <code>request_uri</code> to retrieve the referenced Request Object, unless it is already cached, and parse it to recreate the Authorization Request parameters.</p>
<p>Note that the RP SHOULD use a unique URI for each request utilizing distinct parameters, or otherwise prevent the Authorization Server from caching the <code>request_uri</code>.</p>
<p>The following is a non-normative example of this fetch process:</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;request.jwt HTTP&#x2F;1.1
Host: client.example.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-2-4-“request-uri”-Rationale"><a href="#6-2-4-“request-uri”-Rationale" class="headerlink" title="6.2.4. “request_uri” Rationale"></a>6.2.4. “request_uri” Rationale</h3><p>There are several reasons that one might choose to use the <code>request_uri</code> parameter:</p>
<ol>
<li>The set of request parameters can become large, and can exceed browser URI size limitations. Passing the request parameters by reference can solve this problem.</li>
<li>Passing a <code>request_uri</code> value, rather than a complete request by value, can reduce request latency.</li>
<li>Most requests for Claims from an RP are constant. The <code>request_uri</code> is a way of creating and sometimes also signing and encrypting a constant set of request parameters in advance. (The <code>request_uri</code> value becomes an “artifact” representing a particular fixed set of request parameters.)</li>
<li>Pre-registering a fixed set of request parameters at Registration time enables OPs to cache and pre-validate the request parameters at Registration time, meaning they need not be retrieved at request time.</li>
<li>Pre-registering a fixed set of request parameters at Registration time enables OPs to vet the contents of the request from consumer protection and other points of views, either itself or by utilizing a third party.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-3-Validating-JWT-Based-Requests"><a href="#6-3-Validating-JWT-Based-Requests" class="headerlink" title="6.3. Validating JWT-Based Requests"></a>6.3. Validating JWT-Based Requests</h3><p>When the <code>request</code> or <code>request_uri</code> Authorization Request parameters are used, additional steps must be performed to validate the Authentication Request beyond those specified in Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequestValidation">3.1.2.2</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitValidation">3.2.2.2</a>, or <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridValidation">3.3.2.2</a>. These steps are to validate the JWT containing the Request Object and to validate the Request Object itself.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-3-1-Encrypted-Request-Object"><a href="#6-3-1-Encrypted-Request-Object" class="headerlink" title="6.3.1. Encrypted Request Object"></a>6.3.1. Encrypted Request Object</h3><p>If the Authorization Server has advertised JWE encryption algorithms in the <code>request_object_encryption_alg_values_supported</code> and <code>request_object_encryption_enc_values_supported</code> elements of its Discovery document [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Discovery">OpenID.Discovery]</a>, or has supplied encryption algorithms by other means, these are used by the Client to encrypt the JWT.</p>
<p>The Authorization Server MUST decrypt the JWT in accordance with the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JSON Web Encryption</a> [JWE] specification. The result MAY be either a signed or unsigned (plaintext) Request Object. In the former case, signature validation MUST be performed as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SignedRequestObject">Section 6.3.2</a>.</p>
<p>The Authorization Server MUST return an error if decryption fails.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-3-2-Signed-Request-Object"><a href="#6-3-2-Signed-Request-Object" class="headerlink" title="6.3.2. Signed Request Object"></a>6.3.2. Signed Request Object</h3><p>To perform Signature Validation, the <code>alg</code> Header Parameter in the JOSE Header MUST match the value of the <code>request_object_signing_alg</code> set during Client Registration [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID.Registration]</a> or a value that was pre-registered by other means. The signature MUST be validated against the appropriate key for that <code>client_id</code> and algorithm.</p>
<p>The Authorization Server MUST return an error if signature validation fails.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="6-3-3-Request-Parameter-Assembly-and-Validation"><a href="#6-3-3-Request-Parameter-Assembly-and-Validation" class="headerlink" title="6.3.3. Request Parameter Assembly and Validation"></a>6.3.3. Request Parameter Assembly and Validation</h3><p>The Authorization Server MUST assemble the set of Authorization Request parameters to be used from the Request Object value and the OAuth 2.0 Authorization Request parameters (minus the <code>request</code> or <code>request_uri</code> parameters). If the same parameter exists both in the Request Object and the OAuth Authorization Request parameters, the parameter in the Request Object is used. Using the assembled set of Authorization Request parameters, the Authorization Server then validates the request the normal manner for the flow being used, as specified in Sections <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequestValidation">3.1.2.2</a>, <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitValidation">3.2.2.2</a>, or <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridValidation">3.3.2.2</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-Self-Issued-OpenID-Provider"><a href="#7-Self-Issued-OpenID-Provider" class="headerlink" title="7. Self-Issued OpenID Provider"></a>7. Self-Issued OpenID Provider</h3><p>OpenID Connect supports Self-Issued OpenID Providers - personal, self-hosted OPs that issue self-signed ID Tokens. Self-Issued OPs use the special Issuer Identifier <code>https://self-issued.me</code>.</p>
<p>The messages used to communicate with Self-Issued OPs are mostly the same as those used to communicate with other OPs. Specifications for the few additional parameters used and for the values of some parameters in the Self-Issued case are defined in this section.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-1-Self-Issued-OpenID-Provider-Discovery"><a href="#7-1-Self-Issued-OpenID-Provider-Discovery" class="headerlink" title="7.1. Self-Issued OpenID Provider Discovery"></a>7.1. Self-Issued OpenID Provider Discovery</h3><p>If the input identifier for the discovery process contains the domain self-issued.me, dynamic discovery is not performed. Instead, then the following static configuration values are used:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;authorization_endpoint&quot;:
   &quot;openid:&quot;,
 &quot;issuer&quot;:
   &quot;https:&#x2F;&#x2F;self-issued.me&quot;,
 &quot;scopes_supported&quot;:
   [&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;address&quot;, &quot;phone&quot;],
 &quot;response_types_supported&quot;:
   [&quot;id_token&quot;],
 &quot;subject_types_supported&quot;:
   [&quot;pairwise&quot;],
 &quot;id_token_signing_alg_values_supported&quot;:
   [&quot;RS256&quot;],
 &quot;request_object_signing_alg_values_supported&quot;:
   [&quot;none&quot;, &quot;RS256&quot;]
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>NOTE: The OpenID Foundation plans to host the OpenID Provider site <code>https://self-issued.me/</code>, including its WebFinger service, so that performing discovery on it returns the above static discovery information, enabling RPs to not need any special processing for discovery of the Self-Issued OP. This site will be hosted on an experimental basis. Production implementations should not take a dependency upon it without a subsequent commitment by the OpenID Foundation to host the site in a manner intended for production use.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-2-Self-Issued-OpenID-Provider-Registration"><a href="#7-2-Self-Issued-OpenID-Provider-Registration" class="headerlink" title="7.2. Self-Issued OpenID Provider Registration"></a>7.2. Self-Issued OpenID Provider Registration</h3><p>When using a Self-Issued OP, registration is not required. The Client can proceed without registration as if it had registered with the OP and obtained the following Client Registration Response:</p>
<blockquote>
<ul>
<li><p>client_id</p>
<p><code>redirect_uri</code> value of the Client.</p>
</li>
<li><p>client_secret_expires_at</p>
<p>0</p>
</li>
</ul>
</blockquote>
<p>NOTE: The OpenID Foundation plans to host the (stateless) endpoint <code>https://self-issued.me/registration/1.0/</code> that returns the response above, enabling RPs to not need any special processing for registration with the Self-Issued OP. This site will be hosted on an experimental basis. Production implementations should not take a dependency upon it without a subsequent commitment by the OpenID Foundation to host the site in a manner intended for production use.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-2-1-Providing-Information-with-the-“registration”-Request-Parameter"><a href="#7-2-1-Providing-Information-with-the-“registration”-Request-Parameter" class="headerlink" title="7.2.1. Providing Information with the “registration” Request Parameter"></a>7.2.1. Providing Information with the “registration” Request Parameter</h3><p>OpenID Connect defines the following Authorization Request parameter to enable Clients to provide additional registration information to Self-Issued OpenID Providers:</p>
<blockquote>
<ul>
<li><p>registration</p>
<p>OPTIONAL. This parameter is used by the Client to provide information about itself to a Self-Issued OP that would normally be provided to an OP during Dynamic Client Registration. The value is a JSON object containing Client metadata values, as defined in Section 2.1 of the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration] specification. The <code>registration</code> parameter SHOULD NOT be used when the OP is not a Self-Issued OP.</p>
</li>
</ul>
</blockquote>
<p>None of this information is REQUIRED by Self-Issued OPs, so the use of this parameter is OPTIONAL.</p>
<p>The <code>registration</code> parameter value is represented in an OAuth 2.0 request as a UTF-8 encoded JSON object (which ends up being form-urlencoded when passed as an OAuth parameter). When used in a Request Object value, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RequestObject">Section 6.1</a>, the JSON object is used as the value of the <code>registration</code> member.</p>
<p>The Registration parameters that would typically be used in requests to Self-Issued OPs are <code>policy_uri</code>, <code>tos_uri</code>, and <code>logo_uri</code>. If the Client uses more than one Redirection URI, the <code>redirect_uris</code> parameter would be used to register them. Finally, if the Client is requesting encrypted responses, it would typically use the <code>jwks_uri</code>, <code>id_token_encrypted_response_alg</code> and <code>id_token_encrypted_response_enc</code> parameters.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-3-Self-Issued-OpenID-Provider-Request"><a href="#7-3-Self-Issued-OpenID-Provider-Request" class="headerlink" title="7.3. Self-Issued OpenID Provider Request"></a>7.3. Self-Issued OpenID Provider Request</h3><p>The Client sends the Authentication Request to the Authorization Endpoint with the following parameters:</p>
<blockquote>
<ul>
<li><p>scope</p>
<p>REQUIRED. <code>scope</code> parameter value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>.</p>
</li>
<li><p>response_type</p>
<p>REQUIRED. Constant string value <code>id_token</code>.</p>
</li>
<li><p>client_id</p>
<p>REQUIRED. Client ID value for the Client, which in this case contains the <code>redirect_uri</code> value of the Client. Since the Client’s <code>redirect_uri</code> URI value is communicated as the Client ID, a <code>redirect_uri</code> parameter is NOT REQUIRED to also be included in the request.</p>
</li>
<li><p>id_token_hint</p>
<p>OPTIONAL. <code>id_token_hint</code> parameter value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>. If the ID Token is encrypted to the Self-Issued OP, the <code>sub</code> (subject) of the signed ID Token MUST be sent as the <code>kid</code> (Key ID) of the JWE. Encrypting content to Self-Issued OPs is currently only supported when the OP’s JWK key type is <code>RSA</code> and the encryption algorithm used is <code>RSA1_5</code>.</p>
</li>
<li><p>claims</p>
<p>OPTIONAL. <code>claims</code> parameter value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter">Section 5.5</a>.</p>
</li>
<li><p>registration</p>
<p>OPTIONAL. This parameter is used by the Client to provide information about itself to a Self-Issued OP that would normally be provided to an OP during Dynamic Client Registration, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter">Section 7.2.1</a>.</p>
</li>
<li><p>request</p>
<p>OPTIONAL. Request Object value, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RequestObject">Section 6.1</a>. The Request Object MAY be encrypted to the Self-Issued OP by the Client. In this case, the <code>sub</code> (subject) of a previously issued ID Token for this Client MUST be sent as the <code>kid</code> (Key ID) of the JWE. Encrypting content to Self-Issued OPs is currently only supported when the OP’s JWK key type is <code>RSA</code> and the encryption algorithm used is <code>RSA1_5</code>.</p>
</li>
</ul>
</blockquote>
<p>Other parameters MAY be sent. Note that all Claims are returned in the ID Token.</p>
<p>The entire URL MUST NOT exceed 2048 ASCII characters.</p>
<p>The following is a non-normative example HTTP 302 redirect response by the Client, which triggers the User Agent to make an Authentication Request to the Self-Issued OpenID Provider (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 302 Found
Location: openid:&#x2F;&#x2F;?
  response_type&#x3D;id_token
  &amp;client_id&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile
  &amp;state&#x3D;af0ifjsldkj
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;registration&#x3D;%7B%22logo_uri%22%3A%22https%3A%2F%2F
    client.example.org%2Flogo.png%22%7D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-4-Self-Issued-OpenID-Provider-Response"><a href="#7-4-Self-Issued-OpenID-Provider-Response" class="headerlink" title="7.4. Self-Issued OpenID Provider Response"></a>7.4. Self-Issued OpenID Provider Response</h3><p>OpenID Connect defines the following Claim for use in Self-Issued OpenID Provider Responses:</p>
<blockquote>
<ul>
<li><p>sub_jwk</p>
<p>REQUIRED. Public key used to check the signature of an ID Token issued by a Self-Issued OpenID Provider, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SelfIssued">Section 7</a>. The key is a bare key in JWK [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWK">JWK]</a> format (not an X.509 certificate value). The <code>sub_jwk</code> value is a JSON object. Use of the <code>sub_jwk</code> Claim is NOT RECOMMENDED when the OP is not Self-Issued.</p>
</li>
</ul>
</blockquote>
<p>The Self-Issued OpenID Provider response is the same as the normal Implicit Flow response with the following refinements. Since it is an Implicit Flow response, the response parameters will be returned in the URL fragment component, unless a different Response Mode was specified.</p>
<ol>
<li>The <code>iss</code> (issuer) Claim Value is <code>https://self-issued.me</code>.</li>
<li>A <code>sub_jwk</code> Claim is present, with its value being the public key used to check the signature of the ID Token.</li>
<li>The <code>sub</code> (subject) Claim value is the base64url encoded representation of the thumbprint of the key in the <code>sub_jwk</code> Claim. This thumbprint value is computed as the SHA-256 hash of the octets of the UTF-8 representation of a JWK constructed containing only the REQUIRED members to represent the key, with the member names sorted into lexicographic order, and with no white space or line breaks. For instance, when the <code>kty</code> value is <code>RSA</code>, the member names <code>e</code>, <code>kty</code>, and <code>n</code> are the ones present in the constructed JWK used in the thumbprint computation and appear in that order; when the <code>kty</code> value is <code>EC</code>, the member names <code>crv</code>, <code>kty</code>, <code>x</code>, and <code>y</code> are present in that order. Note that this thumbprint calculation is the same as that defined in the JWK Thumbprint [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWK.Thumbprint">JWK.Thumbprint]</a> specification.</li>
<li>No Access Token is returned for accessing a UserInfo Endpoint, so all Claims returned MUST be in the ID Token.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="7-5-Self-Issued-ID-Token-Validation"><a href="#7-5-Self-Issued-ID-Token-Validation" class="headerlink" title="7.5. Self-Issued ID Token Validation"></a>7.5. Self-Issued ID Token Validation</h3><p>To validate the ID Token received, the Client MUST do the following:</p>
<ol>
<li>The Client MUST validate that the value of the <code>iss</code> (issuer) Claim is <code>https://self-isued.me</code>. If <code>iss</code> contains a different value, the ID Token is not Self-Issued, and instead it MUST be validated according to <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">Section 3.1.3.7</a>.</li>
<li>The Client MUST validate that the <code>aud</code> (audience) Claim contains the value of the <code>redirect_uri</code> that the Client sent in the Authentication Request as an audience.</li>
<li>The Client MUST validate the signature of the ID Token according to <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS</a> [JWS] using the algorithm specified in the <code>alg</code> Header Parameter of the JOSE Header, using the key in the <code>sub_jwk</code> Claim; the key is a bare key in JWK format (not an X.509 certificate value).</li>
<li>The <code>alg</code> value SHOULD be the default of <code>RS256</code>. It MAY also be <code>ES256</code>.</li>
<li>The Client MUST validate that the <code>sub</code> Claim value is the base64url encoded representation of the thumbprint of the key in the <code>sub_jwk</code> Claim, as specified in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SelfIssuedResponse">Section 7.4</a>.</li>
<li>The current time MUST be before the time represented by the <code>exp</code> Claim (possibly allowing for some small leeway to account for clock skew).</li>
<li>The <code>iat</code> Claim can be used to reject tokens that were issued too far away from the current time, limiting the amount of time that nonces need to be stored to prevent attacks. The acceptable range is Client specific.</li>
<li>If a nonce value was sent in the Authentication Request, a <code>nonce</code> Claim MUST be present and its value checked to verify that it is the same value as the one that was sent in the Authentication Request. The Client SHOULD check the <code>nonce</code> value for replay attacks. The precise method for detecting replay attacks is Client specific.</li>
</ol>
<p>The following is a non-normative example of a base64url decoded Self-Issued ID Token (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;https:&#x2F;&#x2F;self-issued.me&quot;,
 &quot;sub&quot;: &quot;NzbLsXh8uDCcd-6MNwXF4W_7noWXFZAfHkxZsRGC9Xs&quot;,
 &quot;aud&quot;: &quot;https:&#x2F;&#x2F;client.example.org&#x2F;cb&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;sub_jwk&quot;: &#123;
   &quot;kty&quot;:&quot;RSA&quot;,
   &quot;n&quot;: &quot;0vx7agoebGcQSuuPiLJXZptN9nndrQmbXEps2aiAFbWhM78LhWx
   4cbbfAAtVT86zwu1RK7aPFFxuhDR1L6tSoc_BJECPebWKRXjBZCiFV4n3oknjhMs
   tn64tZ_2W-5JsGY4Hc5n9yBXArwl93lqt7_RN5w6Cf0h4QyQ5v-65YGjQR0_FDW2
   QvzqY368QQMicAtaSqzs8KJZgnYb9c7d0zgdAZHzu6qMQvRL5hajrn1n91CbOpbI
   SD08qNLyrdkt-bFTWhAI4vMQFh6WeZu0fM4lFd2NcRwr3XPksINHaQ-G_xBniIqb
   w0Ls1jF44-csFCur-kEgU8awapJzKnqDKgw&quot;,
   &quot;e&quot;:&quot;AQAB&quot;
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="8-Subject-Identifier-Types"><a href="#8-Subject-Identifier-Types" class="headerlink" title="8. Subject Identifier Types"></a>8. Subject Identifier Types</h3><p>A Subject Identifier is a locally unique and never reassigned identifier within the Issuer for the End-User, which is intended to be consumed by the Client. Two Subject Identifier types are defined by this specification:</p>
<blockquote>
<ul>
<li><p>public</p>
<p>This provides the same <code>sub</code> (subject) value to all Clients. It is the default if the provider has no <code>subject_types_supported</code> element in its discovery document.</p>
</li>
<li><p>pairwise</p>
<p>This provides a different <code>sub</code> value to each Client, so as not to enable Clients to correlate the End-User’s activities without permission.</p>
</li>
</ul>
</blockquote>
<p>The OpenID Provider’s Discovery document SHOULD list its supported Subject Identifier types in the <code>subject_types_supported</code> element. If there is more than one type listed in the array, the Client MAY elect to provide its preferred identifier type using the <code>subject_type</code> parameter during Registration.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="8-1-Pairwise-Identifier-Algorithm"><a href="#8-1-Pairwise-Identifier-Algorithm" class="headerlink" title="8.1. Pairwise Identifier Algorithm"></a>8.1. Pairwise Identifier Algorithm</h3><p>When pairwise Subject Identifiers are used, the OpenID Provider MUST calculate a unique <code>sub</code> (subject) value for each Sector Identifier. The Subject Identifier value MUST NOT be reversible by any party other than the OpenID Provider.</p>
<p>Providers that use pairwise <code>sub</code> values and support <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">Dynamic Client Registration</a> [OpenID.Registration] SHOULD use the <code>sector_identifier_uri</code> parameter. It provides a way for a group of websites under common administrative control to have consistent pairwise <code>sub</code> values independent of the individual domain names. It also provides a way for Clients to change <code>redirect_uri</code> domains without having to reregister all of their users.</p>
<p>If the Client has not provided a value for <code>sector_identifier_uri</code> in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">Dynamic Client Registration</a> [OpenID.Registration], the Sector Identifier used for pairwise identifier calculation is the host component of the registered <code>redirect_uri</code>. If there are multiple hostnames in the registered <code>redirect_uris</code>, the Client MUST register a <code>sector_identifier_uri</code>.</p>
<p>When a <code>sector_identifier_uri</code> is provided, the host component of that URL is used as the Sector Identifier for the pairwise identifier calculation. The value of the <code>sector_identifier_uri</code> MUST be a URL using the <code>https</code> scheme that points to a JSON file containing an array of <code>redirect_uri</code> values. The values of the registered <code>redirect_uris</code> MUST be included in the elements of the array.</p>
<p>Any algorithm with the following properties can be used by OpenID Providers to calculate pairwise Subject Identifiers:</p>
<ul>
<li>The Subject Identifier value MUST NOT be reversible by any party other than the OpenID Provider.</li>
<li>Distinct Sector Identifier values MUST result in distinct Subject Identifier values.</li>
<li>The algorithm MUST be deterministic.</li>
</ul>
<p>Three example methods are:</p>
<ol>
<li><p>The Sector Identifier can be concatenated with a local account ID and a salt value that is kept secret by the Provider. The concatenated string is then hashed using an appropriate algorithm.</p>
<p>Calculate <code>sub</code> &#x3D; SHA-256 ( sector_identifier || local_account_id || salt ).</p>
</li>
<li><p>The Sector Identifier can be concatenated with a local account ID and a salt value that is kept secret by the Provider. The concatenated string is then encrypted using an appropriate algorithm.</p>
<p>Calculate <code>sub</code> &#x3D; AES-128 ( sector_identifier || local_account_id || salt ).</p>
</li>
<li><p>The Issuer creates a Globally Unique Identifier (GUID) for the pair of Sector Identifier and local account ID and stores this value.</p>
</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="9-Client-Authentication"><a href="#9-Client-Authentication" class="headerlink" title="9. Client Authentication"></a>9. Client Authentication</h3><p>This section defines a set of Client Authentication methods that are used by Clients to authenticate to the Authorization Server when using the Token Endpoint. During Client Registration, the RP (Client) MAY register a Client Authentication method. If no method is registered, the default method is <code>client_secret_basic</code>.</p>
<p>These Client Authentication methods are:</p>
<blockquote>
<ul>
<li><p>client_secret_basic</p>
<p>Clients that have received a <code>client_secret</code> value from the Authorization Server authenticate with the Authorization Server in accordance with Section 2.3.1 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] using the HTTP Basic authentication scheme.</p>
</li>
<li><p>client_secret_post</p>
<p>Clients that have received a <code>client_secret</code> value from the Authorization Server, authenticate with the Authorization Server in accordance with Section 2.3.1 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] by including the Client Credentials in the request body.</p>
</li>
<li><p>client_secret_jwt</p>
<p>Clients that have received a <code>client_secret</code> value from the Authorization Server create a JWT using an HMAC SHA algorithm, such as HMAC SHA-256. The HMAC (Hash-based Message Authentication Code) is calculated using the octets of the UTF-8 representation of the <code>client_secret</code> as the shared key.</p>
</li>
<li><p>The Client authenticates in accordance with <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants</a> [OAuth.JWT] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants</a> [OAuth.Assertions]. The JWT MUST contain the following REQUIRED Claim Values and MAY contain the following OPTIONAL Claim Values:</p>
</li>
<li><p>issREQUIRED. Issuer. This MUST contain the <code>client_id</code> of the OAuth Client.subREQUIRED. Subject. This MUST contain the <code>client_id</code> of the OAuth Client.audREQUIRED. Audience. The <code>aud</code> (audience) Claim. Value that identifies the Authorization Server as an intended audience. The Authorization Server MUST verify that it is an intended audience for the token. The Audience SHOULD be the URL of the Authorization Server’s Token Endpoint.jtiREQUIRED. JWT ID. A unique identifier for the token, which can be used to prevent reuse of the token. These tokens MUST only be used once, unless conditions for reuse were negotiated between the parties; any such negotiation is beyond the scope of this specification.expREQUIRED. Expiration time on or after which the ID Token MUST NOT be accepted for processing.iatOPTIONAL. Time at which the JWT was issued.</p>
</li>
<li><p>The JWT MAY contain other Claims. Any Claims used that are not understood MUST be ignored.</p>
</li>
<li><p>The authentication token MUST be sent as the value of the [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">OAuth.Assertions]</a> <code>client_assertion</code> parameter.</p>
</li>
<li><p>The value of the [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">OAuth.Assertions]</a> <code>client_assertion_type</code> parameter MUST be “urn:ietf:params:oauth:client-assertion-type:jwt-bearer”, per [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">OAuth.JWT]</a>.</p>
</li>
<li><p>private_key_jwt</p>
<p>Clients that have registered a public key sign a JWT using that key. The Client authenticates in accordance with <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants</a> [OAuth.JWT] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants</a> [OAuth.Assertions]. The JWT MUST contain the following REQUIRED Claim Values and MAY contain the following OPTIONAL Claim Values:</p>
</li>
<li><p>issREQUIRED. Issuer. This MUST contain the <code>client_id</code> of the OAuth Client.subREQUIRED. Subject. This MUST contain the <code>client_id</code> of the OAuth Client.audREQUIRED. Audience. The <code>aud</code> (audience) Claim. Value that identifies the Authorization Server as an intended audience. The Authorization Server MUST verify that it is an intended audience for the token. The Audience SHOULD be the URL of the Authorization Server’s Token Endpoint.jtiREQUIRED. JWT ID. A unique identifier for the token, which can be used to prevent reuse of the token. These tokens MUST only be used once, unless conditions for reuse were negotiated between the parties; any such negotiation is beyond the scope of this specification.expREQUIRED. Expiration time on or after which the ID Token MUST NOT be accepted for processing.iatOPTIONAL. Time at which the JWT was issued.</p>
</li>
<li><p>The JWT MAY contain other Claims. Any Claims used that are not understood MUST be ignored.</p>
</li>
<li><p>The authentication token MUST be sent as the value of the [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">OAuth.Assertions]</a> <code>client_assertion</code> parameter.</p>
</li>
<li><p>The value of the [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">OAuth.Assertions]</a> <code>client_assertion_type</code> parameter MUST be “urn:ietf:params:oauth:client-assertion-type:jwt-bearer”, per [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">OAuth.JWT]</a>.</p>
</li>
<li><p>For example (with line wraps within values for display purposes only):<code> POST /token HTTP/1.1  Host: server.example.com  Content-Type: application/x-www-form-urlencoded   grant_type=authorization_code&amp;    code=i1WsRn1uB1&amp;    client_id=s6BhdRkqt3&amp;    client_assertion_type=    urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;    client_assertion=PHNhbWxwOl ... ZT</code></p>
</li>
<li><p>none</p>
<p>The Client does not authenticate itself at the Token Endpoint, either because it uses only the Implicit Flow (and so does not use the Token Endpoint) or because it is a Public Client with no Client Secret or other authentication mechanism.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="10-Signatures-and-Encryption"><a href="#10-Signatures-and-Encryption" class="headerlink" title="10. Signatures and Encryption"></a>10. Signatures and Encryption</h3><p>Depending on the transport through which the messages are sent, the integrity of the message might not be guaranteed and the originator of the message might not be authenticated. To mitigate these risks, ID Token, UserInfo Response, Request Object, and Client Authentication JWT values can utilize <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JSON Web Signature (JWS)</a> [JWS] to sign their contents. To achieve message confidentiality, these values can also use <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JSON Web Encryption (JWE)</a> [JWE] to encrypt their contents.</p>
<p>When the message is both signed and encrypted, it MUST be signed first and then encrypted, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SigningOrder">Section 16.14</a>, with the result being a Nested JWT, as specified in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>. Note that all JWE encryption methods perform integrity checking.</p>
<p>The OP advertises its supported signing and encryption algorithms in its Discovery document, or may supply this information by other means. The RP declares its required signing and encryption algorithms in its Dynamic Registration request, or may communicate this information by other means.</p>
<p>The OP advertises its public keys via its Discovery document, or may supply this information by other means. The RP declares its public keys via its Dynamic Registration request, or may communicate this information by other means.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="10-1-Signing"><a href="#10-1-Signing" class="headerlink" title="10.1. Signing"></a>10.1. Signing</h3><p>The signing party MUST select a signature algorithm based on the algorithms supported by the recipient.</p>
<blockquote>
<ul>
<li><p>Asymmetric Signatures</p>
<p>When using RSA or ECDSA Signatures, the <code>alg</code> Header Parameter value of the JOSE Header MUST be set to an appropriate algorithm as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JSON Web Algorithms</a> [JWA]. The private key used to sign the content MUST be associated with a public key used for signature verification published by the sender in its JWK Set document. If there are multiple keys in the referenced JWK Set document, a <code>kid</code> value MUST be provided in the JOSE Header. The key usage of the respective keys MUST support signing.</p>
</li>
<li><p>Symmetric Signatures</p>
<p>When using MAC-based signatures, the <code>alg</code> Header Parameter value of the JOSE Header MUST be set to a MAC algorithm, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JSON Web Algorithms</a> [JWA]. The MAC key used is the octets of the UTF-8 representation of the <code>client_secret</code> value. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SymmetricKeyEntropy">Section 16.19</a> for a discussion of entropy requirements for <code>client_secret</code> values. Symmetric signatures MUST NOT be used by public (non-confidential) Clients because of their inability to keep secrets.</p>
</li>
</ul>
</blockquote>
<p>See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#NeedForSignedRequests">Section 16.20</a> for Security Considerations about the need for signed requests.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="10-1-1-Rotation-of-Asymmetric-Signing-Keys"><a href="#10-1-1-Rotation-of-Asymmetric-Signing-Keys" class="headerlink" title="10.1.1. Rotation of Asymmetric Signing Keys"></a>10.1.1. Rotation of Asymmetric Signing Keys</h3><p>Rotation of signing keys can be accomplished with the following approach. The signer publishes its keys in a JWK Set at its <code>jwks_uri</code> location and includes the <code>kid</code> of the signing key in the JOSE Header of each message to indicate to the verifier which key is to be used to validate the signature. Keys can be rolled over by periodically adding new keys to the JWK Set at the <code>jwks_uri</code> location. The signer can begin using a new key at its discretion and signals the change to the verifier using the <code>kid</code> value. The verifier knows to go back to the <code>jwks_uri</code> location to re-retrieve the keys when it sees an unfamiliar <code>kid</code> value. The JWK Set document at the <code>jwks_uri</code> SHOULD retain recently decommissioned signing keys for a reasonable period of time to facilitate a smooth transition.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="10-2-Encryption"><a href="#10-2-Encryption" class="headerlink" title="10.2. Encryption"></a>10.2. Encryption</h3><p>The encrypting party MUST select an encryption algorithm based on the algorithms supported by the recipient.</p>
<blockquote>
<ul>
<li><p>Asymmetric Encryption: RSA</p>
<p>The public key to which the content was encrypted MUST be a public key used for encryption published by the recipient in its JWK Set document. If there are multiple keys in the referenced JWK Set document, a <code>kid</code> value MUST be provided in the JOSE Header. Use the supported RSA encryption algorithm to encrypt a random Content Encryption Key to be used for encrypting the signed JWT. The key usage of the respective keys MUST include encryption.</p>
</li>
<li><p>Asymmetric Encryption: Elliptic Curve</p>
<p>Create an ephemeral Elliptic Curve public key for the <code>epk</code> element of the JOSE Header. The other public key used for the key agreement computation MUST be a public key published by the recipient in its JWK Set document. If there are multiple keys in the referenced JWK Set document, a <code>kid</code> value MUST be provided in the JOSE Header. Use the ECDH-ES algorithm to agree upon a Content Encryption Key to be used for encrypting the signed JWT. The key usage of the respective keys MUST support encryption.</p>
</li>
<li><p>Symmetric Encryption</p>
<p>The symmetric encryption key is derived from the <code>client_secret</code> value by using a left truncated SHA-2 hash of the octets of the UTF-8 representation of the <code>client_secret</code>. For keys of 256 or fewer bits, SHA-256 is used; for keys of 257-384 bits, SHA-384 is used; for keys of 385-512 bits, SHA-512 is used. The hash value MUST be left truncated to the appropriate bit length for the AES key wrapping or direct encryption algorithm used, for instance, truncating the SHA-256 hash to 128 bits for <code>A128KW</code>. If a symmetric key with greater than 512 bits is needed, a different method of deriving the key from the <code>client_secret</code> would have to be defined by an extension. Symmetric encryption MUST NOT be used by public (non-confidential) Clients because of their inability to keep secrets.</p>
</li>
</ul>
</blockquote>
<p>See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#NeedForEncryptedRequests">Section 16.21</a> for Security Considerations about the need for encrypted requests.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="10-2-1-Rotation-of-Asymmetric-Encryption-Keys"><a href="#10-2-1-Rotation-of-Asymmetric-Encryption-Keys" class="headerlink" title="10.2.1. Rotation of Asymmetric Encryption Keys"></a>10.2.1. Rotation of Asymmetric Encryption Keys</h3><p>Rotating encryption keys necessarily uses a different process than the one for signing keys because the encrypting party starts the process and thus cannot rely on a change in <code>kid</code> as a signal that keys need to change. The encrypting party still uses the <code>kid</code> Header Parameter in the JWE to tell the decrypting party which private key to use to decrypt, however, the encrypting party needs to first select the most appropriate key from those provided in the JWK Set at the recipient’s <code>jwks_uri</code> location.</p>
<p>To rotate keys, the decrypting party can publish new keys at its <code>jwks_uri</code> location and remove from the JWK Set those that are being decommissioned. The <code>jwks_uri</code> SHOULD include a <code>Cache-Control</code> header in the response that contains a <code>max-age</code> directive, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2616">RFC 2616</a> [RFC2616], which enables the encrypting party to safely cache the JWK Set and not have to re-retrieve the document for every encryption event. The decrypting party SHOULD remove decommissioned keys from the JWK Set referenced by <code>jwks_uri</code> but retain them internally for some reasonable period of time, coordinated with the cache duration, to facilitate a smooth transition between keys by allowing the encrypting party some time to obtain the new keys. The cache duration SHOULD also be coordinated with the issuance of new signing keys, as described in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys">Section 10.1.1</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="11-Offline-Access"><a href="#11-Offline-Access" class="headerlink" title="11. Offline Access"></a>11. Offline Access</h3><p>OpenID Connect defines the following <code>scope</code> value to request offline access:</p>
<blockquote>
<ul>
<li><p>offline_access</p>
<p>OPTIONAL. This scope value requests that an OAuth 2.0 Refresh Token be issued that can be used to obtain an Access Token that grants access to the End-User’s UserInfo Endpoint even when the End-User is not present (not logged in).</p>
</li>
</ul>
</blockquote>
<p>When offline access is requested, a <code>prompt</code> parameter value of <code>consent</code> MUST be used unless other conditions for processing the request permitting offline access to the requested resources are in place. The OP MUST always obtain consent to returning a Refresh Token that enables offline access to the requested resources. A previously saved user consent is not always sufficient to grant offline access.</p>
<p>Upon receipt of a scope parameter containing the <code>offline_access</code> value, the Authorization Server:</p>
<ul>
<li>MUST ensure that the prompt parameter contains <code>consent</code> unless other conditions for processing the request permitting offline access to the requested resources are in place; unless one or both of these conditions are fulfilled, then it MUST ignore the <code>offline_access</code> request,</li>
<li>MUST ignore the <code>offline_access</code> request unless the Client is using a <code>response_type</code> value that would result in an Authorization Code being returned,</li>
<li>MUST explicitly receive or have consent for all Clients when the registered <code>application_type</code> is <code>web</code>,</li>
<li>SHOULD explicitly receive or have consent for all Clients when the registered <code>application_type</code> is <code>native</code>.</li>
</ul>
<p>The use of Refresh Tokens is not exclusive to the <code>offline_access</code> use case. The Authorization Server MAY grant Refresh Tokens in other contexts that are beyond the scope of this specification.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="12-Using-Refresh-Tokens"><a href="#12-Using-Refresh-Tokens" class="headerlink" title="12. Using Refresh Tokens"></a>12. Using Refresh Tokens</h3><p>A request to the Token Endpoint can also use a Refresh Token by using the <code>grant_type</code> value <code>refresh_token</code>, as described in Section 6 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. This section defines the behaviors for OpenID Connect Authorization Servers when Refresh Tokens are used.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="12-1-Refresh-Request"><a href="#12-1-Refresh-Request" class="headerlink" title="12.1. Refresh Request"></a>12.1. Refresh Request</h3><p>To refresh an Access Token, the Client MUST authenticate to the Token Endpoint using the authentication method registered for its <code>client_id</code>, as documented in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Section 9</a>. The Client sends the parameters via HTTP <code>POST</code> to the Token Endpoint using Form Serialization, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#FormSerialization">Section 13.2</a>.</p>
<p>The following is a non-normative example of a Refresh Request (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">POST &#x2F;token HTTP&#x2F;1.1
Host: server.example.com
Content-Type: application&#x2F;x-www-form-urlencoded

client_id&#x3D;s6BhdRkqt3
  &amp;client_secret&#x3D;some_secret12345
  &amp;grant_type&#x3D;refresh_token
  &amp;refresh_token&#x3D;8xLOxBtZp8
  &amp;scope&#x3D;openid%20profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The Authorization Server MUST validate the Refresh Token, MUST verify that it was issued to the Client, and must verify that the Client successfully authenticated it has a Client Authentication method.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="12-2-Successful-Refresh-Response"><a href="#12-2-Successful-Refresh-Response" class="headerlink" title="12.2. Successful Refresh Response"></a>12.2. Successful Refresh Response</h3><p>Upon successful validation of the Refresh Token, the response body is the Token Response of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse">Section 3.1.3.3</a> except that it might not contain an <code>id_token</code>.</p>
<p>If an ID Token is returned as a result of a token refresh request, the following requirements apply:</p>
<ul>
<li>its <code>iss</code> Claim Value MUST be the same as in the ID Token issued when the original authentication occurred,</li>
<li>its <code>sub</code> Claim Value MUST be the same as in the ID Token issued when the original authentication occurred,</li>
<li>its <code>iat</code> Claim MUST represent the time that the new ID Token is issued,</li>
<li>its <code>aud</code> Claim Value MUST be the same as in the ID Token issued when the original authentication occurred,</li>
<li>if the ID Token contains an <code>auth_time</code> Claim, its value MUST represent the time of the original authentication - not the time that the new ID token is issued,</li>
<li>its <code>azp</code> Claim Value MUST be the same as in the ID Token issued when the original authentication occurred; if no <code>azp</code> Claim was present in the original ID Token, one MUST NOT be present in the new ID Token, and</li>
<li>otherwise, the same rules apply as apply when issuing an ID Token at the time of the original authentication.</li>
</ul>
<p>The following is a non-normative example of a Refresh Response:</p>
<pre class="line-numbers language-none"><code class="language-none">HTTP&#x2F;1.1 200 OK
Content-Type: application&#x2F;json
Cache-Control: no-store
Pragma: no-cache

&#123;
 &quot;access_token&quot;: &quot;TlBN45jURg&quot;,
 &quot;token_type&quot;: &quot;Bearer&quot;,
 &quot;refresh_token&quot;: &quot;9yNOxJtZa5&quot;,
 &quot;expires_in&quot;: 3600
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="12-3-Refresh-Error-Response"><a href="#12-3-Refresh-Error-Response" class="headerlink" title="12.3. Refresh Error Response"></a>12.3. Refresh Error Response</h3><p>If the Refresh Request is invalid or unauthorized, the Authorization Server returns the Token Error Response as defined in Section 5.2 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="13-Serializations"><a href="#13-Serializations" class="headerlink" title="13. Serializations"></a>13. Serializations</h3><p>Messages are serialized using one of the following methods:</p>
<ol>
<li>Query String Serialization</li>
<li>Form Serialization</li>
<li>JSON Serialization</li>
</ol>
<p>This section describes the syntax of these serialization methods; other sections describe when they can and must be used. Note that not all methods can be used for all messages.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="13-1-Query-String-Serialization"><a href="#13-1-Query-String-Serialization" class="headerlink" title="13.1. Query String Serialization"></a>13.1. Query String Serialization</h3><p>In order to serialize the parameters using the Query String Serialization, the Client constructs the string by adding the parameters and values to the query component of a URL using the <code>application/x-www-form-urlencoded</code> format as defined by [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#W3C.REC-html401-19991224">W3C.REC‑html401‑19991224]</a>. Query String Serialization is typically used in HTTP <code>GET</code> requests. The same serialization method is also used when adding parameters to the fragment component of a URL.</p>
<p>The following is a non-normative example of this serialization (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code
  &amp;scope&#x3D;openid
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb HTTP&#x2F;1.1
Host: server.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="13-2-Form-Serialization"><a href="#13-2-Form-Serialization" class="headerlink" title="13.2. Form Serialization"></a>13.2. Form Serialization</h3><p>Parameters and their values are Form Serialized by adding the parameter names and values to the entity body of the HTTP request using the <code>application/x-www-form-urlencoded</code> format as defined by [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#W3C.REC-html401-19991224">W3C.REC‑html401‑19991224]</a>. Form Serialization is typically used in HTTP <code>POST</code> requests.</p>
<p>The following is a non-normative example of this serialization (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">POST &#x2F;authorize HTTP&#x2F;1.1
Host: server.example.com
Content-Type: application&#x2F;x-www-form-urlencoded

response_type&#x3D;code
  &amp;scope&#x3D;openid
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="13-3-JSON-Serialization"><a href="#13-3-JSON-Serialization" class="headerlink" title="13.3. JSON Serialization"></a>13.3. JSON Serialization</h3><p>The parameters are serialized into a JSON object structure by adding each parameter at the highest structure level. Parameter names and string values are represented as JSON strings. Numerical values are represented as JSON numbers. Boolean values are represented as JSON booleans. Omitted parameters and parameters with no value SHOULD be omitted from the object and not represented by a JSON <code>null</code> value, unless otherwise specified. A parameter MAY have a JSON object or a JSON array as its value.</p>
<p>The following is a non-normative example of this serialization:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;access_token&quot;: &quot;SlAV32hkKG&quot;,
 &quot;token_type&quot;: &quot;Bearer&quot;,
 &quot;expires_in&quot;: 3600,
 &quot;refresh_token&quot;: &quot;8xLOxBtZp8&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="14-String-Operations"><a href="#14-String-Operations" class="headerlink" title="14. String Operations"></a>14. String Operations</h3><p>Processing some OpenID Connect messages requires comparing values in the messages to known values. For example, the Claim Names returned by the UserInfo Endpoint might be compared to specific Claim Names such as <code>sub</code>. Comparing Unicode strings, however, has significant security implications.</p>
<p>Therefore, comparisons between JSON strings and other Unicode strings MUST be performed as specified below:</p>
<ol>
<li>Remove any JSON applied escaping to produce an array of Unicode code points.</li>
<li>Unicode Normalization [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#USA15">USA15]</a> MUST NOT be applied at any point to either the JSON string or to the string it is to be compared against.</li>
<li>Comparisons between the two strings MUST be performed as a Unicode code point to code point equality comparison.</li>
</ol>
<p>In several places, this specification uses space delimited lists of strings. In all such cases, a single ASCII space character (0x20) MUST be used as the delimiter.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-Implementation-Considerations"><a href="#15-Implementation-Considerations" class="headerlink" title="15. Implementation Considerations"></a>15. Implementation Considerations</h3><p>This specification defines features used by both Relying Parties and OpenID Providers. It is expected that some OpenID Providers will require static, out-of-band configuration of RPs using them, whereas others will support dynamic usage by RPs without a pre-established relationship between them. For that reason, the mandatory-to-implement features for OPs are listed below in two groups: the first for all OPs and the second for “Dynamic” OpenID Providers.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-1-Mandatory-to-Implement-Features-for-All-OpenID-Providers"><a href="#15-1-Mandatory-to-Implement-Features-for-All-OpenID-Providers" class="headerlink" title="15.1. Mandatory to Implement Features for All OpenID Providers"></a>15.1. Mandatory to Implement Features for All OpenID Providers</h3><p>All OpenID Providers MUST implement the following features defined in this specification. This list augments the set of features that are already listed elsewhere as being “REQUIRED” or are described with a “MUST”, and so is not, by itself, a comprehensive set of implementation requirements for OPs.</p>
<blockquote>
<ul>
<li><p>Signing ID Tokens with RSA SHA-256</p>
<p>OPs MUST support signing ID Tokens with the RSA SHA-256 algorithm (an <code>alg</code> value of <code>RS256</code>), unless the OP only supports returning ID Tokens from the Token Endpoint (as is the case for the Authorization Code Flow) and only allows Clients to register specifying <code>none</code> as the requested ID Token signing algorithm.</p>
</li>
<li><p>Prompt Parameter</p>
<p>OPs MUST support the <code>prompt</code> parameter, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>, including the specified user interface behaviors such as <code>none</code> and <code>login</code>.</p>
</li>
<li><p>Display Parameter</p>
<p>OPs MUST support the <code>display</code> parameter, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>. (Note that the minimum level of support required for this parameter is simply that its use must not result in an error.)</p>
</li>
<li><p>Preferred Locales</p>
<p>OPs MUST support requests for preferred languages and scripts for the user interface and for Claims via the <code>ui_locales</code> and <code>claims_locales</code> request parameters, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>. (Note that the minimum level of support required for these parameters is simply to have their use not result in errors.)</p>
</li>
<li><p>Authentication Time</p>
<p>OPs MUST support returning the time at which the End-User authenticated via the <code>auth_time</code> Claim, when requested, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a>.</p>
</li>
<li><p>Maximum Authentication Age</p>
<p>OPs MUST support enforcing a maximum authentication age via the <code>max_age</code> parameter, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>.</p>
</li>
<li><p>Authentication Context Class Reference</p>
<p>OPs MUST support requests for specific Authentication Context Class Reference values via the <code>acr_values</code> parameter, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>. (Note that the minimum level of support required for this parameter is simply to have its use not result in an error.)</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-2-Mandatory-to-Implement-Features-for-Dynamic-OpenID-Providers"><a href="#15-2-Mandatory-to-Implement-Features-for-Dynamic-OpenID-Providers" class="headerlink" title="15.2. Mandatory to Implement Features for Dynamic OpenID Providers"></a>15.2. Mandatory to Implement Features for Dynamic OpenID Providers</h3><p>In addition to the features listed above, OpenID Providers supporting dynamic establishment of relationships with RPs that they do not have a pre-configured relationship with MUST also implement the following features defined in this and related specifications.</p>
<blockquote>
<ul>
<li><p>Response Types</p>
<p>These OpenID Providers MUST support the <code>id_token</code> Response Type and all that are not Self-Issued OPs MUST also support the <code>code</code> and <code>id_token token</code> Response Types.</p>
</li>
<li><p>Discovery</p>
<p>These OPs MUST support Discovery, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Discovery">OpenID Connect Discovery 1.0</a> [OpenID.Discovery].</p>
</li>
<li><p>Dynamic Registration</p>
<p>These OPs MUST support Dynamic Client Registration, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration].</p>
</li>
<li><p>UserInfo Endpoint</p>
<p>All dynamic OPs that issue Access Tokens MUST support the UserInfo Endpoint, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo">Section 5.3</a>. (Self-Issued OPs do not issue Access Tokens.)</p>
</li>
<li><p>Public Keys Published as Bare Keys</p>
<p>These OPs MUST publish their public keys as bare JWK keys (which MAY also be accompanied by X.509 representations of those keys).</p>
</li>
<li><p>Request URI</p>
<p>These OPs MUST support requests made using a Request Object value that is retrieved from a Request URI that is provided with the <code>request_uri</code> parameter, as defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a>.</p>
</li>
</ul>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-3-Discovery-and-Registration"><a href="#15-3-Discovery-and-Registration" class="headerlink" title="15.3. Discovery and Registration"></a>15.3. Discovery and Registration</h3><p>Some OpenID Connect installations can use a pre-configured set of OpenID Providers and&#x2F;or Relying Parties. In those cases, it might not be necessary to support dynamic discovery of information about identities or services or dynamic registration of Clients.</p>
<p>However, if installations choose to support unanticipated interactions between Relying Parties and OpenID Providers that do not have pre-configured relationships, they SHOULD accomplish this by implementing the facilities defined in the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Discovery">OpenID Connect Discovery 1.0</a> [OpenID.Discovery] and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration] specifications.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-4-Mandatory-to-Implement-Features-for-Relying-Parties"><a href="#15-4-Mandatory-to-Implement-Features-for-Relying-Parties" class="headerlink" title="15.4. Mandatory to Implement Features for Relying Parties"></a>15.4. Mandatory to Implement Features for Relying Parties</h3><p>In general, it is up to Relying Parties which features they use when interacting with OpenID Providers. However, some choices are dictated by the nature of their OAuth Client, such as whether it is a Confidential Client, capable of keeping secrets, in which case the Authorization Code Flow may be appropriate, or whether it is a Public Client, for instance, a User Agent Based Application or a statically registered Native Application, in which case the Implicit Flow may be appropriate.</p>
<p>When using OpenID Connect features, those listed as being “REQUIRED” or are described with a “MUST” are mandatory to implement, when used by a Relying Party. Likewise, those features that are described as “OPTIONAL” need not be used or supported unless they provide value in the particular application context. Finally, when interacting with OpenID Providers that support Discovery, the OP’s Discovery document can be used to dynamically determine which OP features are available for use by the RP.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-5-Implementation-Notes"><a href="#15-5-Implementation-Notes" class="headerlink" title="15.5. Implementation Notes"></a>15.5. Implementation Notes</h3><hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-5-1-Authorization-Code-Implementation-Notes"><a href="#15-5-1-Authorization-Code-Implementation-Notes" class="headerlink" title="15.5.1. Authorization Code Implementation Notes"></a>15.5.1. Authorization Code Implementation Notes</h3><p>When using the Authorization Code or Hybrid flows, an ID Token is returned from the Token Endpoint in response to a Token Request using an Authorization Code. Some implementations may choose to encode state about the ID Token to be returned in the Authorization Code value. Others may use the Authorization Code value as an index into a database storing this state.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-5-2-Nonce-Implementation-Notes"><a href="#15-5-2-Nonce-Implementation-Notes" class="headerlink" title="15.5.2. Nonce Implementation Notes"></a>15.5.2. Nonce Implementation Notes</h3><p>The <code>nonce</code> parameter value needs to include per-session state and be unguessable to attackers. One method to achieve this for Web Server Clients is to store a cryptographically random value as an HttpOnly session cookie and use a cryptographic hash of the value as the <code>nonce</code> parameter. In that case, the <code>nonce</code> in the returned ID Token is compared to the hash of the session cookie to detect ID Token replay by third parties. A related method applicable to JavaScript Clients is to store the cryptographically random value in HTML5 local storage and use a cryptographic hash of this value.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-5-3-Redirect-URI-Fragment-Handling-Implementation-Notes"><a href="#15-5-3-Redirect-URI-Fragment-Handling-Implementation-Notes" class="headerlink" title="15.5.3. Redirect URI Fragment Handling Implementation Notes"></a>15.5.3. Redirect URI Fragment Handling Implementation Notes</h3><p>When response parameters are returned in the Redirection URI fragment value, the Client needs to have the User Agent parse the fragment encoded values and pass them to on to the Client’s processing logic for consumption. User Agents that have direct access to cryptographic APIs may be able to be self-contained, for instance, with all Client code being written in JavaScript.</p>
<p>However, if the Client does not run entirely in the User Agent, one way to achieve this is to post them to a Web Server Client for validation.</p>
<p>The following is an example of a JavaScript file that a Client might host at its <code>redirect_uri</code>. This is loaded by the redirect from the Authorization Server. The fragment component is parsed and then sent by <code>POST</code> to a URI that will validate and use the information received.</p>
<p>Following is a non-normative example of a Redirect URI response:</p>
<pre class="line-numbers language-none"><code class="language-none">GET &#x2F;cb HTTP&#x2F;1.1
Host: client.example.org

HTTP&#x2F;1.1 200 OK
Content-Type: text&#x2F;html

&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;

&#x2F;&#x2F; First, parse the query string
var params &#x3D; &#123;&#125;, postBody &#x3D; location.hash.substring(1),
    regex &#x3D; &#x2F;([^&amp;&#x3D;]+)&#x3D;([^&amp;]*)&#x2F;g, m;
while (m &#x3D; regex.exec(postBody)) &#123;
  params[decodeURIComponent(m[1])] &#x3D; decodeURIComponent(m[2]);
&#125;

&#x2F;&#x2F; And send the token over to the server
var req &#x3D; new XMLHttpRequest();
&#x2F;&#x2F; using POST so query isn&#39;t logged
req.open(&#39;POST&#39;, &#39;https:&#x2F;&#x2F;&#39; + window.location.host +
                 &#39;&#x2F;catch_response&#39;, true);
req.setRequestHeader(&#39;Content-Type&#39;,
                     &#39;application&#x2F;x-www-form-urlencoded&#39;);

req.onreadystatechange &#x3D; function (e) &#123;
  if (req.readyState &#x3D;&#x3D; 4) &#123;
    if (req.status &#x3D;&#x3D; 200) &#123;
&#x2F;&#x2F; If the response from the POST is 200 OK, perform a redirect
      window.location &#x3D; &#39;https:&#x2F;&#x2F;&#39;
        + window.location.host + &#39;&#x2F;redirect_after_login&#39;
    &#125;
&#x2F;&#x2F; if the OAuth response is invalid, generate an error message
    else if (req.status &#x3D;&#x3D; 400) &#123;
      alert(&#39;There was an error processing the token&#39;)
    &#125; else &#123;
      alert(&#39;Something other than 200 was returned&#39;)
    &#125;
  &#125;
&#125;;
req.send(postBody);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-6-Compatibility-Notes"><a href="#15-6-Compatibility-Notes" class="headerlink" title="15.6. Compatibility Notes"></a>15.6. Compatibility Notes</h3><hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-6-1-Pre-Final-IETF-Specifications"><a href="#15-6-1-Pre-Final-IETF-Specifications" class="headerlink" title="15.6.1. Pre-Final IETF Specifications"></a>15.6.1. Pre-Final IETF Specifications</h3><p>Implementers should be aware that this specification uses several IETF specifications that are not yet final specifications. Those specifications are:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JSON Web Token (JWT) draft -25</a> [JWT]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JSON Web Signature (JWS) draft -31</a> [JWS]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWE">JSON Web Encryption (JWE) draft -31</a> [JWE]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWK">JSON Web Key (JWK) draft -31</a> [JWK]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWA">JSON Web Algorithms draft -31</a> [JWA]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Assertions">Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants draft -17</a> [OAuth.Assertions]</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants draft -10</a> [OAuth.JWT]</li>
</ul>
<p>While every effort will be made to prevent breaking changes to these specifications, should they occur, OpenID Connect implementations should continue to use the specifically referenced draft versions above in preference to the final versions, unless using a possible future OpenID Connect profile or specification that updates some or all of these references.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-6-2-Google-“iss”-Value"><a href="#15-6-2-Google-“iss”-Value" class="headerlink" title="15.6.2. Google “iss” Value"></a>15.6.2. Google “iss” Value</h3><p>Implementers may want to be aware that, as of the time of this writing, Google’s deployed OpenID Connect implementation issues ID Tokens that omit the required <code>https://</code> scheme prefix from the <code>iss</code> (issuer) Claim Value. Relying Party implementations wishing to work with Google will therefore need to have code to work around this, until such time as their implementation is updated. Any such workaround code should be written in a manner that will not break at such point Google adds the missing prefix to their issuer values.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="15-7-Related-Specifications-and-Implementer’s-Guides"><a href="#15-7-Related-Specifications-and-Implementer’s-Guides" class="headerlink" title="15.7. Related Specifications and Implementer’s Guides"></a>15.7. Related Specifications and Implementer’s Guides</h3><p>These related OPTIONAL specifications MAY be used in combination with this specification to provide additional functionality:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Discovery">OpenID Connect Discovery 1.0</a> [OpenID.Discovery] - Defines how Relying Parties dynamically discover information about OpenID Providers</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Registration">OpenID Connect Dynamic Client Registration 1.0</a> [OpenID.Registration] - Defines how Relying Parties dynamically register with OpenID Providers</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Session">OpenID Connect Session Management 1.0</a> [OpenID.Session] - Defines how to manage OpenID Connect sessions, including logout functionality</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.Post">OAuth 2.0 Form Post Response Mode</a> [OAuth.Post] - Defines how to return OAuth 2.0 Authorization Response parameters (including OpenID Connect Authentication Response parameters) using HTML form values that are auto-submitted by the User Agent using HTTP <code>POST</code></li>
</ul>
<p>These implementer’s guides are intended to serve as self-contained references for implementers of basic Web-based Relying Parties:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Basic">OpenID Connect Basic Client Implementer’s Guide 1.0</a> [OpenID.Basic] - Implementer’s guide containing a subset of this specification that is intended for use by basic Web-based Relying Parties using the OAuth Authorization Code Flow</li>
<li><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.Implicit">OpenID Connect Implicit Client Implementer’s Guide 1.0</a> [OpenID.Implicit] - Implementer’s guide containing a subset of this specification that is intended for use by basic Web-based Relying Parties using the OAuth Implicit Flow</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-Security-Considerations"><a href="#16-Security-Considerations" class="headerlink" title="16. Security Considerations"></a>16. Security Considerations</h3><p>This specification references the security considerations defined in Section 10 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749], and Section 5 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6750">OAuth 2.0 Bearer Token Usage</a> [RFC6750]. Furthermore, the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6819">OAuth 2.0 Threat Model and Security Considerations</a> [RFC6819] specification provides an extensive list of threats and controls that apply to this specification as well, given that it is based upon OAuth 2.0. <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO29115">ISO&#x2F;IEC 29115</a> [ISO29115] also provides threats and controls that implementers need to take into account. Implementers are highly advised to read these references in detail and apply the countermeasures described therein.</p>
<p>In addition, the following list of attack vectors and remedies are also considered.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-1-Request-Disclosure"><a href="#16-1-Request-Disclosure" class="headerlink" title="16.1. Request Disclosure"></a>16.1. Request Disclosure</h3><p>If appropriate measures are not taken, a request might be disclosed to an attacker, posing security and privacy threats.</p>
<p>In addition to what is stated in Section 5.1.1 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6819">RFC6819]</a>, this standard provides a way to provide the confidentiality of the request end to end through the use of <code>request</code> or <code>request_uri</code> parameters, where the content of the <code>request</code> is an encrypted JWT with the appropriate key and cipher. This protects even against a compromised User Agent in the case of indirect request.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-2-Server-Masquerading"><a href="#16-2-Server-Masquerading" class="headerlink" title="16.2. Server Masquerading"></a>16.2. Server Masquerading</h3><p>A malicious Server might masquerade as the legitimate server using various means. To detect such an attack, the Client needs to authenticate the server.</p>
<p>In addition to what is stated in Section 5.1.2 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6819">RFC6819]</a>, this standard provides a way to authenticate the Server through either the use of Signed or Encrypted JWTs with an appropriate key and cipher.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-3-Token-Manufacture-x2F-Modification"><a href="#16-3-Token-Manufacture-x2F-Modification" class="headerlink" title="16.3. Token Manufacture&#x2F;Modification"></a>16.3. Token Manufacture&#x2F;Modification</h3><p>An Attacker might generate a bogus token or modify the token contents (such as Claims values or the signature) of an existing parseable token, causing the RP to grant inappropriate access to the Client. For example, an Attacker might modify the parseable token to extend the validity period; a Client might modify the parseable token to have access to information that they should not be able to view.</p>
<p>There are two ways to mitigate this attack:</p>
<ol>
<li>The token can be digitally signed by the OP. The Relying Party SHOULD validate the digital signature to verify that it was issued by a legitimate OP.</li>
<li>The token can be sent over a protected channel such as TLS. See <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TLSRequirements">Section 16.17</a> for more information on using TLS. In this specification, the token is always sent over a TLS protected channel. Note however, that this measure is only a defense against third party attackers and is not applicable to the case where the Client is the attacker.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-4-Access-Token-Disclosure"><a href="#16-4-Access-Token-Disclosure" class="headerlink" title="16.4. Access Token Disclosure"></a>16.4. Access Token Disclosure</h3><p>Access Tokens are credentials used to access Protected Resources, as defined in Section 1.4 of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749]. Access Tokens represent an End-User’s authorization and MUST NOT be exposed to unauthorized parties.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-5-Server-Response-Disclosure"><a href="#16-5-Server-Response-Disclosure" class="headerlink" title="16.5. Server Response Disclosure"></a>16.5. Server Response Disclosure</h3><p>The server response might contain authentication data and Claims that include sensitive Client information. Disclosure of the response contents can make the Client vulnerable to other types of attacks.</p>
<p>The server response disclosure can be mitigated in the following two ways:</p>
<ol>
<li>Using the <code>code</code> Response Type. The response is sent over a TLS protected channel, where the Client is authenticated by the <code>client_id</code> and <code>client_secret</code>.</li>
<li>For other Response Types, the signed response can be encrypted with the Client’s public key or a shared secret as an encrypted JWT with an appropriate key and cipher.</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-6-Server-Response-Repudiation"><a href="#16-6-Server-Response-Repudiation" class="headerlink" title="16.6. Server Response Repudiation"></a>16.6. Server Response Repudiation</h3><p>A response might be repudiated by the server if the proper mechanisms are not in place. For example, if a Server does not digitally sign a response, the Server can claim that it was not generated through the services of the Server.</p>
<p>To mitigate this threat, the response MAY be digitally signed by the Server using a key that supports non-repudiation. The Client SHOULD validate the digital signature to verify that it was issued by a legitimate Server and its integrity is intact.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-7-Request-Repudiation"><a href="#16-7-Request-Repudiation" class="headerlink" title="16.7. Request Repudiation"></a>16.7. Request Repudiation</h3><p>Since it is possible for a compromised or malicious Client to send a request to the wrong party, a Client that was authenticated using only a bearer token can repudiate any transaction.</p>
<p>To mitigate this threat, the Server MAY require that the request be digitally signed by the Client using a key that supports non-repudiation. The Server SHOULD validate the digital signature to verify that it was issued by a legitimate Client and the integrity is intact.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-8-Access-Token-Redirect"><a href="#16-8-Access-Token-Redirect" class="headerlink" title="16.8. Access Token Redirect"></a>16.8. Access Token Redirect</h3><p>An Attacker uses the Access Token generated for one resource to obtain access to a second resource.</p>
<p>To mitigate this threat, the Access Token SHOULD be audience and scope restricted. One way of implementing it is to include the identifier of the resource for whom it was generated as audience. The resource verifies that incoming tokens include its identifier as the audience of the token.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-9-Token-Reuse"><a href="#16-9-Token-Reuse" class="headerlink" title="16.9. Token Reuse"></a>16.9. Token Reuse</h3><p>An Attacker attempts to use a one-time use token such as an Authorization Code that has already been used once with the intended Resource. To mitigate this threat, the token SHOULD include a timestamp and a short validity lifetime. The Relying Party then checks the timestamp and lifetime values to ensure that the token is currently valid.</p>
<p>Alternatively, the server MAY record the state of the use of the token and check the status for each request.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-10-Eavesdropping-or-Leaking-Authorization-Codes-Secondary-Authenticator-Capture"><a href="#16-10-Eavesdropping-or-Leaking-Authorization-Codes-Secondary-Authenticator-Capture" class="headerlink" title="16.10. Eavesdropping or Leaking Authorization Codes (Secondary Authenticator Capture)"></a>16.10. Eavesdropping or Leaking Authorization Codes (Secondary Authenticator Capture)</h3><p>In addition to the attack patterns described in Section 4.4.1.1 of [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6819">RFC6819]</a>, an Authorization Code can be captured in the User Agent where the TLS session is terminated if the User Agent is infected by malware. However, capturing it is not useful as long as either Client Authentication or an encrypted response is used.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-11-Token-Substitution"><a href="#16-11-Token-Substitution" class="headerlink" title="16.11. Token Substitution"></a>16.11. Token Substitution</h3><p>Token Substitution is a class of attacks in which a malicious user swaps various tokens, including swapping an Authorization Code for a legitimate user with another token that the attacker has. One means of accomplishing this is for the attacker to copy a token out one session and use it in an HTTP message for a different session, which is easy to do when the token is available to the browser; this is known as the “cut and paste” attack.</p>
<p>The Implicit Flow of <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">OAuth 2.0</a> [RFC6749] is not designed to mitigate this risk. In Section 10.16, it normatively requires that any use of the authorization process as a form of delegated End-User authentication to the Client MUST NOT use the Implicit Flow without employing additional security mechanisms that enable the Client to determine whether the ID Token and Access Token were issued for its use.</p>
<p>In OpenID Connect, this is mitigated through mechanisms provided through the ID Token. The ID Token is a signed security token that provides Claims such as <code>iss</code> (issuer), <code>sub</code> (subject), <code>aud</code> (audience), <code>azp</code> (authorized party), <code>at_hash</code> (access token hash), and <code>c_hash</code> (code hash). Using the ID Token, the Client is capable of detecting the Token Substitution Attack.</p>
<p>The <code>c_hash</code> in the ID Token enables Clients to prevent Authorization Code substitution. The <code>at_hash</code> in the ID Token enables Clients to prevent Access Token substitution.</p>
<p>Also, a malicious user may attempt to impersonate a more privileged user by subverting the communication channel between the Authorization Endpoint and Client, or the Token Endpoint and Client, for example by swapping the Authorization Code or reordering the messages, to convince the Token Endpoint that the attacker’s authorization grant corresponds to a grant sent on behalf of a more privileged user.</p>
<p>For the HTTP binding defined by this specification, the responses to Token Requests are bound to the corresponding requests by message order in HTTP, as both the response containing the token and requests are protected by TLS, which will detect and prevent packet reordering.</p>
<p>When designing another binding of this specification to a protocol incapable of strongly binding Token Endpoint requests to responses, additional mechanisms to address this issue MUST be utilized. One such mechanism could be to include an ID Token with a <code>c_hash</code> Claim in the token request and response.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-12-Timing-Attack"><a href="#16-12-Timing-Attack" class="headerlink" title="16.12. Timing Attack"></a>16.12. Timing Attack</h3><p>A timing attack enables the attacker to obtain an unnecessary large amount of information through the elapsed time differences in the code paths taken by successful and unsuccessful decryption operations or successful and unsuccessful signature validation of a message. It can be used to reduce the effective key length of the cipher used.</p>
<p>Implementations SHOULD NOT terminate the validation process at the instant of the finding an error but SHOULD continue running until all the octets have been processed to avoid this attack.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-13-Other-Crypto-Related-Attacks"><a href="#16-13-Other-Crypto-Related-Attacks" class="headerlink" title="16.13. Other Crypto Related Attacks"></a>16.13. Other Crypto Related Attacks</h3><p>There are various crypto related attacks possible depending on the method used for encryption and signature &#x2F; integrity checking. Implementers need to consult the Security Considerations for the <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT</a> [JWT] specification and specifications that it references to avoid the vulnerabilities identified in these specifications.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-14-Signing-and-Encryption-Order"><a href="#16-14-Signing-and-Encryption-Order" class="headerlink" title="16.14. Signing and Encryption Order"></a>16.14. Signing and Encryption Order</h3><p>Signatures over encrypted text are not considered valid in many jurisdictions. Therefore, for integrity and non-repudiation, this specification requires signing the plain text JSON Claims, when signing is performed. If both signing and encryption are desired, it is performed on the JWS containing the signed Claims, with the result being a Nested JWT, as specified in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>. Note that since all JWE encryption algorithms provide integrity protection, there is no need to separately sign the encrypted content.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-15-Issuer-Identifier"><a href="#16-15-Issuer-Identifier" class="headerlink" title="16.15. Issuer Identifier"></a>16.15. Issuer Identifier</h3><p>OpenID Connect supports multiple Issuers per Host and Port combination. The issuer returned by discovery MUST exactly match the value of <code>iss</code> in the ID Token.</p>
<p>OpenID Connect treats the path component of any Issuer URI as being part of the Issuer Identifier. For instance, the subject “1234” with an Issuer Identifier of “<a target="_blank" rel="noopener" href="https://example.com/">https://example.com</a>“ is not equivalent to the subject “1234” with an Issuer Identifier of “<a target="_blank" rel="noopener" href="https://example.com/sales">https://example.com/sales</a>“.</p>
<p>It is RECOMMENDED that only a single Issuer per host be used. However, if a host supports multiple tenants, multiple Issuers for that host may be needed.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-16-Implicit-Flow-Threats"><a href="#16-16-Implicit-Flow-Threats" class="headerlink" title="16.16. Implicit Flow Threats"></a>16.16. Implicit Flow Threats</h3><p>In the Implicit Flow, the Access Token is returned in the fragment component of the Client’s <code>redirect_uri</code> through HTTPS, thus it is protected between the OP and the User Agent, and between the User Agent and the RP. The only place it can be captured is the User Agent where the TLS session is terminated, which is possible if the User Agent is infected by malware or under the control of a malicious party.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-17-TLS-Requirements"><a href="#16-17-TLS-Requirements" class="headerlink" title="16.17. TLS Requirements"></a>16.17. TLS Requirements</h3><p>Implementations MUST support TLS. Which version(s) ought to be implemented will vary over time, and depend on the widespread deployment and known security vulnerabilities at the time of implementation. At the time of this writing, TLS version 1.2 [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC5246">RFC5246]</a> is the most recent version, but has very limited actual deployment, and might not be readily available in implementation toolkits. TLS version 1.0 [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC2246">RFC2246]</a> is the most widely deployed version, and will give the broadest interoperability.</p>
<p>To protect against information disclosure and tampering, confidentiality protection MUST be applied using TLS with a ciphersuite that provides confidentiality and integrity protection.</p>
<p>Whenever TLS is used, a TLS server certificate check MUST be performed, per <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6125">RFC 6125</a> [RFC6125].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-18-Lifetimes-of-Access-Tokens-and-Refresh-Tokens"><a href="#16-18-Lifetimes-of-Access-Tokens-and-Refresh-Tokens" class="headerlink" title="16.18. Lifetimes of Access Tokens and Refresh Tokens"></a>16.18. Lifetimes of Access Tokens and Refresh Tokens</h3><p>Access Tokens might not be revocable by the Authorization Server. Access Token lifetimes SHOULD therefore be kept to single use or very short lifetimes.</p>
<p>If ongoing access to the UserInfo Endpoint or other Protected Resources is required, a Refresh Token can be used. The Client can then exchange the Refresh Token at the Token Endpoint for a fresh short-lived Access Token that can be used to access the resource.</p>
<p>The Authorization Server SHOULD clearly identify long-term grants to the User during Authorization. The Authorization Server SHOULD provide a mechanism for the End-User to revoke Access Tokens and Refresh Tokens granted to a Client.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-19-Symmetric-Key-Entropy"><a href="#16-19-Symmetric-Key-Entropy" class="headerlink" title="16.19. Symmetric Key Entropy"></a>16.19. Symmetric Key Entropy</h3><p>In <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Signing">Section 10.1</a> and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#Encryption">Section 10.2</a>, keys are derived from the <code>client_secret</code> value. Thus, when used with symmetric signing or encryption operations, <code>client_secret</code> values MUST contain sufficient entropy to generate cryptographically strong keys. Also, <code>client_secret</code> values MUST also contain at least the minimum of number of octets required for MAC keys for the particular algorithm used. So for instance, for <code>HS256</code>, the <code>client_secret</code> value MUST contain at least 32 octets (and almost certainly SHOULD contain more, since <code>client_secret</code> values are likely to use a restricted alphabet).</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-20-Need-for-Signed-Requests"><a href="#16-20-Need-for-Signed-Requests" class="headerlink" title="16.20. Need for Signed Requests"></a>16.20. Need for Signed Requests</h3><p>In some situations, Clients might need to use signed requests to ensure that the desired request parameters are delivered to the OP without having been tampered with. For instance, the <code>max_age</code> and <code>acr_values</code> provide more assurance about the nature of the authentication performed when delivered in signed requests.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="16-21-Need-for-Encrypted-Requests"><a href="#16-21-Need-for-Encrypted-Requests" class="headerlink" title="16.21. Need for Encrypted Requests"></a>16.21. Need for Encrypted Requests</h3><p>In some situations, knowing the contents of an OpenID Connect request can, in and of itself, reveal sensitive information about the End-User. For instance, knowing that the Client is requesting a particular Claim or that it is requesting that a particular authentication method be used can reveal sensitive information about the End-User. OpenID Connect enables requests to be encrypted to the OpenID Provider to prevent such potentially sensitive information from being revealed.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="17-Privacy-Considerations"><a href="#17-Privacy-Considerations" class="headerlink" title="17. Privacy Considerations"></a>17. Privacy Considerations</h3><hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="17-1-Personally-Identifiable-Information"><a href="#17-1-Personally-Identifiable-Information" class="headerlink" title="17.1. Personally Identifiable Information"></a>17.1. Personally Identifiable Information</h3><p>The UserInfo Response typically contains Personally Identifiable Information (PII). As such, End-User consent for the release of the information for the specified purpose should be obtained at or prior to the authorization time in accordance with relevant regulations. The purpose of use is typically registered in association with the <code>redirect_uris</code>.</p>
<p>Only necessary UserInfo data should be stored at the Client and the Client SHOULD associate the received data with the purpose of use statement.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="17-2-Data-Access-Monitoring"><a href="#17-2-Data-Access-Monitoring" class="headerlink" title="17.2. Data Access Monitoring"></a>17.2. Data Access Monitoring</h3><p>The Resource Server SHOULD make End-Users’ UserInfo access logs available to them so that they can monitor who accessed their data.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="17-3-Correlation"><a href="#17-3-Correlation" class="headerlink" title="17.3. Correlation"></a>17.3. Correlation</h3><p>To protect the End-User from a possible correlation among Clients, the use of a Pairwise Pseudonymous Identifier (PPID) as the <code>sub</code> (subject) SHOULD be considered.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="17-4-Offline-Access"><a href="#17-4-Offline-Access" class="headerlink" title="17.4. Offline Access"></a>17.4. Offline Access</h3><p>Offline access enables access to Claims when the user is not present, posing greater privacy risk than the Claims transfer when the user is present. Therefore, it is prudent to obtain explicit consent for offline access to resources. This specification mandates the use of the <code>prompt</code> parameter to obtain consent unless it is already known that the request complies with the conditions for processing the request in each jurisdiction.</p>
<p>When an Access Token is returned via the User Agent using the Implicit Flow or Hybrid Flow, there is a greater risk of it being exposed to an attacker, who could later use it to access the UserInfo endpoint. If the Access Token does not enable offline access and the server can differentiate whether the Client request has been made offline or online, the risk will be substantially reduced. Therefore, this specification mandates ignoring the offline access request when the Access Token is transmitted through the User Agent. Note that differentiating between online and offline access from the server can be difficult especially for native clients. The server may well have to rely on heuristics. Also, the risk of exposure for the Access Token delivered through the User Agent for the Response Types of <code>code token</code> and <code>token</code> is the same. Thus, the implementations should be prepared to detect whether the Access Token was issued through the User Agent or directly from the Token Endpoint and deny offline access if the token was issued through the User Agent.</p>
<p>Note that although these provisions require an explicit consent dialogue through the <code>prompt</code> parameter, the mere fact that the user pressed an “accept” button etc., might not constitute a valid consent. Developers should be aware that for the act of consent to be valid, typically, the impact of the terms have to be understood by the End-User, the consent must be freely given and not forced (i.e., other options have to be available), and the terms must fair and equitable. In general, it is advisable for the service to follow the required privacy principles in each jurisdiction and rely on other conditions for processing the request than simply explicit consent, as online self-service “explicit consent” often does not form a valid consent in some jurisdictions.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-IANA-Considerations"><a href="#18-IANA-Considerations" class="headerlink" title="18. IANA Considerations"></a>18. IANA Considerations</h3><hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-1-JSON-Web-Token-Claims-Registration"><a href="#18-1-JSON-Web-Token-Claims-Registration" class="headerlink" title="18.1. JSON Web Token Claims Registration"></a>18.1. JSON Web Token Claims Registration</h3><p>This specification registers the Claims defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> and <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> in the IANA JSON Web Token Claims registry defined in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWT">JWT]</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-1-1-Registry-Contents"><a href="#18-1-1-Registry-Contents" class="headerlink" title="18.1.1. Registry Contents"></a>18.1.1. Registry Contents</h3><ul>
<li><p>Claim Name: <code>name</code></p>
</li>
<li><p>Claim Description: Full name</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#x6e;&#105;&#100;&#x2d;&#x73;&#112;&#x65;&#99;&#115;&#45;&#97;&#x62;&#64;&#108;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#x74;">&#111;&#112;&#101;&#x6e;&#105;&#100;&#x2d;&#x73;&#112;&#x65;&#99;&#115;&#45;&#97;&#x62;&#64;&#108;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>given_name</code></p>
</li>
<li><p>Claim Description: Given name(s) or first name(s)</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#110;&#105;&#100;&#45;&#115;&#x70;&#101;&#99;&#115;&#x2d;&#97;&#x62;&#x40;&#x6c;&#105;&#x73;&#x74;&#115;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#x74;">&#111;&#x70;&#101;&#110;&#105;&#100;&#45;&#115;&#x70;&#101;&#99;&#115;&#x2d;&#97;&#x62;&#x40;&#x6c;&#105;&#x73;&#x74;&#115;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>family_name</code></p>
</li>
<li><p>Claim Description: Surname(s) or last name(s)</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#x6e;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#x40;&#x6c;&#x69;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2e;&#x6e;&#101;&#x74;">&#111;&#112;&#101;&#x6e;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#x40;&#x6c;&#x69;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2e;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>middle_name</code></p>
</li>
<li><p>Claim Description: Middle name(s)</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#x61;&#x62;&#64;&#108;&#x69;&#x73;&#x74;&#115;&#x2e;&#x6f;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#101;&#x74;">&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#x61;&#x62;&#64;&#108;&#x69;&#x73;&#x74;&#115;&#x2e;&#x6f;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>nickname</code></p>
</li>
<li><p>Claim Description: Casual name</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#x73;&#x70;&#x65;&#x63;&#115;&#x2d;&#97;&#98;&#x40;&#x6c;&#105;&#x73;&#116;&#115;&#x2e;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#101;&#x74;">&#x6f;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#x73;&#x70;&#x65;&#x63;&#115;&#x2d;&#97;&#98;&#x40;&#x6c;&#105;&#x73;&#116;&#115;&#x2e;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>preferred_username</code></p>
</li>
<li><p>Claim Description: Shorthand name by which the End-User wishes to be referred to</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#99;&#115;&#x2d;&#97;&#x62;&#x40;&#108;&#105;&#115;&#116;&#115;&#x2e;&#111;&#x70;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#101;&#116;">&#x6f;&#x70;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#99;&#115;&#x2d;&#97;&#x62;&#x40;&#108;&#105;&#115;&#116;&#115;&#x2e;&#111;&#x70;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>profile</code></p>
</li>
<li><p>Claim Description: Profile page URL</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#x62;&#x40;&#108;&#x69;&#115;&#116;&#x73;&#46;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#x65;&#x74;">&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#x62;&#x40;&#108;&#x69;&#115;&#116;&#x73;&#46;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>picture</code></p>
</li>
<li><p>Claim Description: Profile picture URL</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#x6e;&#x69;&#100;&#45;&#115;&#112;&#101;&#x63;&#115;&#45;&#x61;&#98;&#64;&#108;&#105;&#115;&#x74;&#x73;&#x2e;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#101;&#x74;">&#111;&#112;&#101;&#x6e;&#x69;&#100;&#45;&#115;&#112;&#101;&#x63;&#115;&#45;&#x61;&#98;&#64;&#108;&#105;&#115;&#x74;&#x73;&#x2e;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>website</code></p>
</li>
<li><p>Claim Description: Web page or blog URL</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#110;&#x69;&#100;&#45;&#115;&#x70;&#x65;&#x63;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#x73;&#x2e;&#x6f;&#x70;&#x65;&#110;&#x69;&#x64;&#x2e;&#x6e;&#101;&#116;">&#111;&#x70;&#101;&#110;&#x69;&#100;&#45;&#115;&#x70;&#x65;&#x63;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#x73;&#x2e;&#x6f;&#x70;&#x65;&#110;&#x69;&#x64;&#x2e;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>email</code></p>
</li>
<li><p>Claim Description: Preferred e-mail address</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#x6e;&#105;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#110;&#x69;&#x64;&#46;&#x6e;&#101;&#x74;">&#x6f;&#112;&#101;&#x6e;&#105;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#110;&#x69;&#x64;&#46;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>email_verified</code></p>
</li>
<li><p>Claim Description: True if the e-mail address has been verified; otherwise false</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#101;&#116;">&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>gender</code></p>
</li>
<li><p>Claim Description: Gender</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#108;&#x69;&#x73;&#116;&#115;&#46;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#101;&#x74;">&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#108;&#x69;&#x73;&#116;&#115;&#46;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>birthdate</code></p>
</li>
<li><p>Claim Description: Birthday</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#110;&#105;&#x64;&#45;&#x73;&#112;&#x65;&#99;&#115;&#x2d;&#97;&#98;&#64;&#x6c;&#x69;&#115;&#116;&#115;&#46;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#x65;&#x74;">&#x6f;&#112;&#101;&#110;&#105;&#x64;&#45;&#x73;&#112;&#x65;&#99;&#115;&#x2d;&#97;&#98;&#64;&#x6c;&#x69;&#115;&#116;&#115;&#46;&#111;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>zoneinfo</code></p>
</li>
<li><p>Claim Description: Time zone</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#x2d;&#x61;&#98;&#x40;&#108;&#105;&#x73;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#46;&#110;&#101;&#116;">&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#x2d;&#x61;&#98;&#x40;&#108;&#105;&#x73;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#46;&#110;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>locale</code></p>
</li>
<li><p>Claim Description: Locale</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#115;&#x70;&#x65;&#99;&#x73;&#45;&#97;&#98;&#x40;&#108;&#105;&#115;&#116;&#x73;&#x2e;&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#116;">&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#115;&#x70;&#x65;&#99;&#x73;&#45;&#97;&#98;&#x40;&#108;&#105;&#115;&#116;&#x73;&#x2e;&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>phone_number</code></p>
</li>
<li><p>Claim Description: Preferred telephone number</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#105;&#115;&#x74;&#x73;&#x2e;&#111;&#112;&#101;&#110;&#x69;&#100;&#46;&#110;&#101;&#x74;">&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#105;&#115;&#x74;&#x73;&#x2e;&#111;&#112;&#101;&#110;&#x69;&#100;&#46;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>phone_number_verified</code></p>
</li>
<li><p>Claim Description: True if the phone number has been verified; otherwise false</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#115;&#x70;&#101;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#x69;&#x73;&#x74;&#x73;&#x2e;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;">&#111;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#115;&#x70;&#101;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#x69;&#x73;&#x74;&#x73;&#x2e;&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>address</code></p>
</li>
<li><p>Claim Description: Preferred postal address</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#x73;&#x70;&#101;&#99;&#115;&#45;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#46;&#x6f;&#x70;&#x65;&#110;&#x69;&#100;&#x2e;&#110;&#x65;&#x74;">&#111;&#x70;&#101;&#x6e;&#105;&#100;&#45;&#x73;&#x70;&#101;&#99;&#115;&#45;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#46;&#x6f;&#x70;&#x65;&#110;&#x69;&#100;&#x2e;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>updated_at</code></p>
</li>
<li><p>Claim Description: Time the information was last updated</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#x6e;&#105;&#100;&#x2d;&#115;&#x70;&#101;&#x63;&#x73;&#x2d;&#97;&#x62;&#64;&#x6c;&#x69;&#x73;&#x74;&#115;&#46;&#x6f;&#112;&#x65;&#x6e;&#x69;&#x64;&#46;&#110;&#x65;&#116;">&#111;&#112;&#x65;&#x6e;&#105;&#100;&#x2d;&#115;&#x70;&#101;&#x63;&#x73;&#x2d;&#97;&#x62;&#64;&#x6c;&#x69;&#x73;&#x74;&#115;&#46;&#x6f;&#112;&#x65;&#x6e;&#x69;&#x64;&#46;&#110;&#x65;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">Section 5.1</a> of this document</p>
</li>
<li><p>Claim Name: <code>azp</code></p>
</li>
<li><p>Claim Description: Authorized party - the party to which the ID Token was issued</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#x6e;&#x69;&#x64;&#45;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#97;&#x62;&#64;&#x6c;&#105;&#115;&#116;&#115;&#46;&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#116;">&#111;&#112;&#x65;&#x6e;&#x69;&#x64;&#45;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#97;&#x62;&#64;&#x6c;&#105;&#115;&#116;&#115;&#46;&#111;&#112;&#101;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>nonce</code></p>
</li>
<li><p>Claim Description: Value used to associate a Client session with an ID Token</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#x6e;&#x69;&#100;&#45;&#115;&#112;&#x65;&#x63;&#115;&#45;&#x61;&#98;&#x40;&#108;&#x69;&#115;&#x74;&#115;&#46;&#111;&#x70;&#101;&#110;&#x69;&#100;&#46;&#x6e;&#101;&#116;">&#111;&#112;&#x65;&#x6e;&#x69;&#100;&#45;&#115;&#112;&#x65;&#x63;&#115;&#45;&#x61;&#98;&#x40;&#108;&#x69;&#115;&#x74;&#115;&#46;&#111;&#x70;&#101;&#110;&#x69;&#100;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>auth_time</code></p>
</li>
<li><p>Claim Description: Time when the authentication occurred</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#x65;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#x63;&#115;&#45;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#100;&#x2e;&#110;&#x65;&#x74;">&#x6f;&#x70;&#x65;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#x63;&#115;&#45;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#100;&#x2e;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>at_hash</code></p>
</li>
<li><p>Claim Description: Access Token hash value</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#x63;&#x73;&#45;&#97;&#98;&#x40;&#108;&#x69;&#115;&#x74;&#115;&#46;&#111;&#112;&#x65;&#x6e;&#x69;&#x64;&#x2e;&#110;&#101;&#x74;">&#111;&#112;&#101;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#x63;&#x73;&#45;&#97;&#98;&#x40;&#108;&#x69;&#115;&#x74;&#115;&#46;&#111;&#112;&#x65;&#x6e;&#x69;&#x64;&#x2e;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>c_hash</code></p>
</li>
<li><p>Claim Description: Code hash value</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#115;&#x70;&#x65;&#x63;&#x73;&#45;&#x61;&#x62;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#100;&#46;&#x6e;&#x65;&#x74;">&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#115;&#x70;&#x65;&#x63;&#x73;&#45;&#x61;&#x62;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#100;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#HybridIDToken">Section 3.3.2.11</a> of this document</p>
</li>
<li><p>Claim Name: <code>acr</code></p>
</li>
<li><p>Claim Description: Authentication Context Class Reference</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#x40;&#x6c;&#105;&#x73;&#116;&#x73;&#46;&#111;&#112;&#101;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#x65;&#x74;">&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#x40;&#x6c;&#105;&#x73;&#116;&#x73;&#46;&#111;&#112;&#101;&#x6e;&#105;&#x64;&#x2e;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>amr</code></p>
</li>
<li><p>Claim Description: Authentication Methods References</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#x6e;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#45;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#100;&#46;&#x6e;&#101;&#x74;">&#x6f;&#112;&#101;&#x6e;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#x73;&#45;&#x61;&#98;&#64;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#100;&#46;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">Section 2</a> of this document</p>
</li>
<li><p>Claim Name: <code>sub_jwk</code></p>
</li>
<li><p>Claim Description: Public key used to check the signature of an ID Token</p>
</li>
<li><p>Change Controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#97;&#98;&#64;&#x6c;&#x69;&#115;&#116;&#x73;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#x64;&#x2e;&#x6e;&#101;&#116;">&#111;&#112;&#101;&#110;&#105;&#x64;&#x2d;&#x73;&#x70;&#101;&#99;&#x73;&#45;&#97;&#98;&#64;&#x6c;&#x69;&#115;&#116;&#x73;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#x64;&#x2e;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification Document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#SelfIssuedResponse">Section 7.4</a> of this document</p>
</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-2-OAuth-Parameters-Registration"><a href="#18-2-OAuth-Parameters-Registration" class="headerlink" title="18.2. OAuth Parameters Registration"></a>18.2. OAuth Parameters Registration</h3><p>This specification registers the following parameters in the IANA OAuth Parameters registry defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">RFC 6749</a> [RFC6749].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-2-1-Registry-Contents"><a href="#18-2-1-Registry-Contents" class="headerlink" title="18.2.1. Registry Contents"></a>18.2.1. Registry Contents</h3><ul>
<li><p>Parameter name: <code>nonce</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2d;&#x73;&#112;&#x65;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#x6c;&#x69;&#115;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#x6e;&#105;&#100;&#x2e;&#110;&#x65;&#x74;">&#x6f;&#x70;&#101;&#110;&#105;&#100;&#x2d;&#x73;&#112;&#x65;&#x63;&#115;&#x2d;&#x61;&#x62;&#x40;&#x6c;&#x69;&#115;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#x6e;&#105;&#100;&#x2e;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>display</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#101;&#x6e;&#x69;&#x64;&#x2d;&#115;&#112;&#101;&#99;&#x73;&#x2d;&#x61;&#x62;&#x40;&#x6c;&#x69;&#x73;&#x74;&#x73;&#46;&#x6f;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#110;&#x65;&#x74;">&#x6f;&#x70;&#101;&#x6e;&#x69;&#x64;&#x2d;&#115;&#112;&#101;&#99;&#x73;&#x2d;&#x61;&#x62;&#x40;&#x6c;&#x69;&#x73;&#x74;&#x73;&#46;&#x6f;&#x70;&#x65;&#x6e;&#105;&#x64;&#x2e;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>prompt</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#x6e;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#x73;&#x2d;&#97;&#98;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#111;&#112;&#x65;&#110;&#105;&#100;&#46;&#x6e;&#101;&#x74;">&#111;&#x70;&#101;&#x6e;&#x69;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#x73;&#x2d;&#97;&#98;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#111;&#112;&#x65;&#110;&#105;&#100;&#46;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>max_age</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#x65;&#110;&#x69;&#100;&#45;&#115;&#x70;&#x65;&#x63;&#115;&#45;&#x61;&#x62;&#64;&#108;&#x69;&#x73;&#x74;&#x73;&#x2e;&#111;&#x70;&#x65;&#110;&#105;&#100;&#46;&#x6e;&#101;&#116;">&#111;&#x70;&#x65;&#110;&#x69;&#100;&#45;&#115;&#x70;&#x65;&#x63;&#115;&#45;&#x61;&#x62;&#64;&#108;&#x69;&#x73;&#x74;&#x73;&#x2e;&#111;&#x70;&#x65;&#110;&#105;&#100;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>ui_locales</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#x70;&#x65;&#99;&#115;&#x2d;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#x74;&#x73;&#46;&#x6f;&#112;&#101;&#110;&#x69;&#100;&#46;&#x6e;&#x65;&#x74;">&#x6f;&#112;&#x65;&#110;&#x69;&#x64;&#x2d;&#x73;&#x70;&#x65;&#99;&#115;&#x2d;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#x74;&#x73;&#46;&#x6f;&#112;&#101;&#110;&#x69;&#100;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>claims_locales</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#x2d;&#x73;&#112;&#x65;&#99;&#115;&#45;&#x61;&#98;&#x40;&#108;&#x69;&#x73;&#x74;&#115;&#x2e;&#x6f;&#112;&#x65;&#x6e;&#105;&#100;&#x2e;&#x6e;&#x65;&#x74;">&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#x2d;&#x73;&#112;&#x65;&#99;&#115;&#45;&#x61;&#98;&#x40;&#108;&#x69;&#x73;&#x74;&#115;&#x2e;&#x6f;&#112;&#x65;&#x6e;&#105;&#100;&#x2e;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">Section 5.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>id_token_hint</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#110;&#x69;&#100;&#x2d;&#115;&#112;&#101;&#x63;&#x73;&#45;&#97;&#x62;&#x40;&#x6c;&#105;&#115;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#46;&#110;&#x65;&#116;">&#111;&#x70;&#101;&#110;&#x69;&#100;&#x2d;&#115;&#112;&#101;&#x63;&#x73;&#45;&#97;&#x62;&#x40;&#x6c;&#105;&#115;&#116;&#x73;&#46;&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#46;&#110;&#x65;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>login_hint</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#99;&#x73;&#x2d;&#97;&#98;&#64;&#108;&#x69;&#115;&#116;&#x73;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#100;&#x2e;&#x6e;&#101;&#x74;">&#111;&#112;&#101;&#110;&#x69;&#100;&#x2d;&#x73;&#x70;&#x65;&#99;&#x73;&#x2d;&#97;&#98;&#64;&#108;&#x69;&#115;&#116;&#x73;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#100;&#x2e;&#x6e;&#101;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>acr_values</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#99;&#x73;&#45;&#x61;&#x62;&#x40;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#111;&#112;&#x65;&#110;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;">&#111;&#x70;&#101;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#99;&#x73;&#45;&#x61;&#x62;&#x40;&#x6c;&#105;&#115;&#116;&#115;&#x2e;&#111;&#112;&#x65;&#110;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint">Section 3.1.2</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>claims</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#101;&#x6e;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#x61;&#98;&#x40;&#x6c;&#105;&#115;&#116;&#x73;&#46;&#111;&#x70;&#x65;&#110;&#x69;&#x64;&#x2e;&#x6e;&#x65;&#x74;">&#111;&#x70;&#101;&#x6e;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#x61;&#98;&#x40;&#x6c;&#105;&#115;&#116;&#x73;&#46;&#111;&#x70;&#x65;&#110;&#x69;&#x64;&#x2e;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter">Section 5.5</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>registration</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#x65;&#110;&#x69;&#100;&#45;&#115;&#112;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#x74;&#x73;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#x64;&#46;&#x6e;&#101;&#116;">&#111;&#x70;&#x65;&#110;&#x69;&#100;&#45;&#115;&#112;&#101;&#99;&#x73;&#x2d;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#x74;&#x73;&#x2e;&#x6f;&#x70;&#101;&#110;&#105;&#x64;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter">Section 7.2.1</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>request</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#101;&#110;&#105;&#100;&#45;&#x73;&#x70;&#101;&#99;&#x73;&#x2d;&#97;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#x73;&#46;&#111;&#112;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#x65;&#x74;">&#111;&#112;&#101;&#110;&#105;&#100;&#45;&#x73;&#x70;&#101;&#99;&#x73;&#x2d;&#97;&#98;&#64;&#x6c;&#105;&#115;&#x74;&#x73;&#46;&#111;&#112;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests">Section 6</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>request_uri</code></p>
</li>
<li><p>Parameter usage location: Authorization Request</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#45;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#116;&#115;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#x65;&#x74;">&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#45;&#x61;&#98;&#64;&#x6c;&#x69;&#x73;&#116;&#115;&#46;&#111;&#112;&#101;&#x6e;&#x69;&#x64;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests">Section 6</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
<li><p>Parameter name: <code>id_token</code></p>
</li>
<li><p>Parameter usage location: Authorization Response, Access Token Response</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#45;&#x73;&#x70;&#x65;&#99;&#115;&#45;&#97;&#x62;&#64;&#108;&#x69;&#115;&#116;&#115;&#46;&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#101;&#x74;">&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#45;&#x73;&#x70;&#x65;&#99;&#115;&#45;&#97;&#x62;&#64;&#108;&#x69;&#115;&#116;&#115;&#46;&#x6f;&#112;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse">Section 3.1.3.3</a> of this document</p>
</li>
<li><p>Related information: None</p>
</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-3-OAuth-Extensions-Error-Registration"><a href="#18-3-OAuth-Extensions-Error-Registration" class="headerlink" title="18.3. OAuth Extensions Error Registration"></a>18.3. OAuth Extensions Error Registration</h3><p>This specification registers the following errors in the IANA OAuth Extensions Error registry defined in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#RFC6749">RFC 6749</a> [RFC6749].</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="18-3-1-Registry-Contents"><a href="#18-3-1-Registry-Contents" class="headerlink" title="18.3.1. Registry Contents"></a>18.3.1. Registry Contents</h3><ul>
<li><p>Error name: <code>interaction_required</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#105;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#x64;&#46;&#x6e;&#x65;&#116;">&#x6f;&#112;&#x65;&#110;&#105;&#100;&#x2d;&#x73;&#112;&#101;&#99;&#115;&#x2d;&#x61;&#x62;&#x40;&#108;&#105;&#115;&#116;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#x64;&#46;&#x6e;&#x65;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>login_required</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#115;&#112;&#101;&#x63;&#115;&#x2d;&#97;&#98;&#64;&#108;&#105;&#115;&#116;&#x73;&#46;&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#101;&#116;">&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#x2d;&#115;&#112;&#101;&#x63;&#115;&#x2d;&#97;&#98;&#64;&#108;&#105;&#115;&#116;&#x73;&#46;&#x6f;&#x70;&#x65;&#x6e;&#x69;&#100;&#x2e;&#110;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>account_selection_required</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#99;&#x73;&#45;&#97;&#x62;&#x40;&#108;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;">&#111;&#112;&#x65;&#110;&#x69;&#x64;&#45;&#115;&#112;&#x65;&#99;&#x73;&#45;&#97;&#x62;&#x40;&#108;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#x70;&#101;&#110;&#105;&#x64;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>consent_required</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#x63;&#115;&#45;&#x61;&#98;&#x40;&#108;&#105;&#115;&#x74;&#x73;&#46;&#111;&#x70;&#x65;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#116;">&#x6f;&#112;&#x65;&#110;&#x69;&#100;&#x2d;&#x73;&#112;&#101;&#x63;&#115;&#45;&#x61;&#98;&#x40;&#108;&#105;&#115;&#x74;&#x73;&#46;&#111;&#x70;&#x65;&#x6e;&#x69;&#100;&#46;&#110;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>invalid_request_uri</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#x65;&#110;&#x69;&#100;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#x2d;&#97;&#98;&#64;&#108;&#105;&#x73;&#116;&#x73;&#46;&#111;&#112;&#101;&#110;&#x69;&#100;&#46;&#110;&#x65;&#116;">&#111;&#x70;&#x65;&#110;&#x69;&#100;&#x2d;&#115;&#112;&#x65;&#99;&#115;&#x2d;&#97;&#98;&#64;&#108;&#105;&#x73;&#116;&#x73;&#46;&#111;&#112;&#101;&#110;&#x69;&#100;&#46;&#110;&#x65;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>invalid_request_object</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#x70;&#x65;&#110;&#105;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#x73;&#45;&#97;&#x62;&#x40;&#x6c;&#x69;&#x73;&#x74;&#115;&#46;&#x6f;&#x70;&#x65;&#110;&#105;&#x64;&#x2e;&#x6e;&#101;&#116;">&#111;&#x70;&#x65;&#110;&#105;&#x64;&#x2d;&#x73;&#112;&#x65;&#x63;&#x73;&#45;&#97;&#x62;&#x40;&#x6c;&#x69;&#x73;&#x74;&#115;&#46;&#x6f;&#x70;&#x65;&#110;&#105;&#x64;&#x2e;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>request_not_supported</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#110;&#105;&#x64;&#45;&#x73;&#112;&#x65;&#99;&#115;&#45;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#112;&#x65;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#x74;">&#x6f;&#112;&#101;&#110;&#105;&#x64;&#45;&#x73;&#112;&#x65;&#99;&#115;&#45;&#97;&#98;&#x40;&#x6c;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#112;&#x65;&#110;&#x69;&#x64;&#x2e;&#110;&#101;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>request_uri_not_supported</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#115;&#45;&#97;&#x62;&#x40;&#108;&#105;&#x73;&#x74;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#x64;&#46;&#x6e;&#101;&#116;">&#x6f;&#112;&#101;&#110;&#x69;&#x64;&#45;&#115;&#x70;&#101;&#99;&#115;&#45;&#97;&#x62;&#x40;&#108;&#105;&#x73;&#x74;&#115;&#x2e;&#x6f;&#x70;&#101;&#x6e;&#105;&#x64;&#46;&#x6e;&#101;&#116;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
<li><p>Error name: <code>registration_not_supported</code></p>
</li>
<li><p>Error usage location: Authorization Endpoint</p>
</li>
<li><p>Related protocol extension: OpenID Connect</p>
</li>
<li><p>Change controller: OpenID Foundation Artifact Binding Working Group - <a href="mailto:&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#x2d;&#115;&#x70;&#101;&#99;&#115;&#45;&#97;&#98;&#x40;&#108;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#112;&#x65;&#110;&#x69;&#x64;&#46;&#x6e;&#x65;&#x74;">&#111;&#112;&#x65;&#x6e;&#105;&#x64;&#x2d;&#115;&#x70;&#101;&#99;&#115;&#45;&#97;&#98;&#x40;&#108;&#x69;&#x73;&#116;&#x73;&#x2e;&#111;&#112;&#x65;&#110;&#x69;&#x64;&#46;&#x6e;&#x65;&#x74;</a></p>
</li>
<li><p>Specification document(s): <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#AuthError">Section 3.1.2.6</a> of this document</p>
</li>
</ul>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="19-References"><a href="#19-References" class="headerlink" title="19. References"></a>19. References</h3><hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="19-1-Normative-References"><a href="#19-1-Normative-References" class="headerlink" title="19.1. Normative References"></a>19.1. Normative References</h3><table>
<thead>
<tr>
<th>[CORS]</th>
<th>Opera Software ASA, “<a target="_blank" rel="noopener" href="http://www.w3.org/TR/access-control/">Cross-Origin Resource Sharing</a>,” July 2010.</th>
</tr>
</thead>
<tbody><tr>
<td>[E.164]</td>
<td>International Telecommunication Union, “<a target="_blank" rel="noopener" href="http://www.itu.int/rec/T-REC-E.164-201011-I/en">E.164: The international public telecommunication numbering plan</a>,” 2010.</td>
</tr>
<tr>
<td>[IANA.Language]</td>
<td>Internet Assigned Numbers Authority (IANA), “<a target="_blank" rel="noopener" href="http://www.iana.org/assignments/language-subtag-registry">Language Subtag Registry</a>,” 2005.</td>
</tr>
<tr>
<td>[ISO29115]</td>
<td>International Organization for Standardization, “<a target="_blank" rel="noopener" href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=45138">ISO&#x2F;IEC 29115:2013 – Information technology - Security techniques - Entity authentication assurance framework</a>,” ISO&#x2F;IEC 29115, March 2013.</td>
</tr>
<tr>
<td>[ISO3166-1]</td>
<td>International Organization for Standardization, “<a target="_blank" rel="noopener" href="http://www.w3.org/WAI/ER/IG/ert/iso639.htm">ISO 3166-1:1997. Codes for the representation of names of countries and their subdivisions – Part 1: Country codes</a>,” 1997.</td>
</tr>
<tr>
<td>[ISO639-1]</td>
<td>International Organization for Standardization, “ISO 639-1:2002. Codes for the representation of names of languages – Part 1: Alpha-2 code,” 2002.</td>
</tr>
<tr>
<td>[ISO8601-2004]</td>
<td>International Organization for Standardization, “ISO 8601:2004. Data elements and interchange formats - Information interchange - Representation of dates and times,” 2004.</td>
</tr>
<tr>
<td>[JWA]</td>
<td>Jones, M., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms">JSON Web Algorithms (JWA)</a>,” draft-ietf-jose-json-web-algorithms (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms-31">HTML</a>).</td>
</tr>
<tr>
<td>[JWE]</td>
<td>Jones, M., Rescorla, E., and J. Hildebrand, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-encryption">JSON Web Encryption (JWE)</a>,” draft-ietf-jose-json-web-encryption (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-encryption-31">HTML</a>).</td>
</tr>
<tr>
<td>[JWK]</td>
<td>Jones, M., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-key">JSON Web Key (JWK)</a>,” draft-ietf-jose-json-web-key (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-key-31">HTML</a>).</td>
</tr>
<tr>
<td>[JWS]</td>
<td>Jones, M., Bradley, J., and N. Sakimura, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-signature">JSON Web Signature (JWS)</a>,” draft-ietf-jose-json-web-signature (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-jose-json-web-signature-31">HTML</a>).</td>
</tr>
<tr>
<td>[JWT]</td>
<td>Jones, M., Bradley, J., and N. Sakimura, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-json-web-token">JSON Web Token (JWT)</a>,” draft-ietf-oauth-json-web-token (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-json-web-token-25">HTML</a>).</td>
</tr>
<tr>
<td>[OAuth.Assertions]</td>
<td>Campbell, B., Mortimore, C., Jones, M., and Y. Goland, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-assertions">Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants</a>,” draft-ietf-oauth-assertions (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-assertions-17">HTML</a>).</td>
</tr>
<tr>
<td>[OAuth.JWT]</td>
<td>Jones, M., Campbell, B., and C. Mortimore, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-jwt-bearer">JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants</a>,” draft-ietf-oauth-jwt-bearer (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-ietf-oauth-jwt-bearer-10">HTML</a>).</td>
</tr>
<tr>
<td>[OAuth.Responses]</td>
<td>de Medeiros, B., Ed., Scurtescu, M., Tarjan, P., and M. Jones, “<a target="_blank" rel="noopener" href="http://openid.net/specs/oauth-v2-multiple-response-types-1_0.html">OAuth 2.0 Multiple Response Type Encoding Practices</a>,” February 2014.</td>
</tr>
<tr>
<td>[OpenID.Discovery]</td>
<td>Sakimura, N., Bradley, J., Jones, M., and E. Jay, “<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery 1.0</a>,” November 2014.</td>
</tr>
<tr>
<td>[OpenID.Registration]</td>
<td>Sakimura, N., Bradley, J., and M. Jones, “<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a>,” November 2014.</td>
</tr>
<tr>
<td>[RFC2119]</td>
<td><a href="mailto:sob@harvard.edu">Bradner, S.</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,” BCP 14, RFC 2119, March 1997 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td>
</tr>
<tr>
<td>[RFC2246]</td>
<td><a href="mailto:tdierks@certicom.com">Dierks, T.</a> and <a href="mailto:callen@certicom.com">C. Allen</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc2246">The TLS Protocol Version 1.0</a>,” RFC 2246, January 1999 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc2246.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC2616]</td>
<td><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol – HTTP&#x2F;1.1</a>,” RFC 2616, June 1999 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td>
</tr>
<tr>
<td>[RFC3339]</td>
<td><a href="mailto:GK@ACM.ORG">Klyne, G., Ed.</a> and <a href="mailto:chris.newman@sun.com">C. Newman</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>,” RFC 3339, July 2002 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc3339.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/html/rfc3339.html">HTML</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/xml/rfc3339.xml">XML</a>).</td>
</tr>
<tr>
<td>[RFC3966]</td>
<td>Schulzrinne, H., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc3966">The tel URI for Telephone Numbers</a>,” RFC 3966, December 2004 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc3966.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC3986]</td>
<td><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,” STD 66, RFC 3986, January 2005 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td>
</tr>
<tr>
<td>[RFC4627]</td>
<td>Crockford, D., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc4627">The application&#x2F;json Media Type for JavaScript Object Notation (JSON)</a>,” RFC 4627, July 2006 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc4627.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC5246]</td>
<td>Dierks, T. and E. Rescorla, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,” RFC 5246, August 2008 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC5322]</td>
<td><a href="mailto:presnick@qualcomm.com">Resnick, P., Ed.</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>,” RFC 5322, October 2008 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc5322.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/html/rfc5322.html">HTML</a>, <a target="_blank" rel="noopener" href="http://xml.resource.org/public/rfc/xml/rfc5322.xml">XML</a>).</td>
</tr>
<tr>
<td>[RFC5646]</td>
<td>Phillips, A. and M. Davis, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc5646">Tags for Identifying Languages</a>,” BCP 47, RFC 5646, September 2009 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc5646.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC6125]</td>
<td>Saint-Andre, P. and J. Hodges, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc6125">Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)</a>,” RFC 6125, March 2011 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc6125.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC6711]</td>
<td>Johansson, L., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc6711">An IANA Registry for Level of Assurance (LoA) Profiles</a>,” RFC 6711, August 2012 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc6711.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC6749]</td>
<td>Hardt, D., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc6749">The OAuth 2.0 Authorization Framework</a>,” RFC 6749, October 2012 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc6749.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC6750]</td>
<td>Jones, M. and D. Hardt, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc6750">The OAuth 2.0 Authorization Framework: Bearer Token Usage</a>,” RFC 6750, October 2012 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc6750.txt">TXT</a>).</td>
</tr>
<tr>
<td>[RFC6819]</td>
<td>Lodderstedt, T., McGloin, M., and P. Hunt, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc6819">OAuth 2.0 Threat Model and Security Considerations</a>,” RFC 6819, January 2013 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc6819.txt">TXT</a>).</td>
</tr>
<tr>
<td>[USA15]</td>
<td><a href="mailto:markdavis@google.com">Davis, M.</a>, <a href="mailto:ken@unicode.org">Whistler, K.</a>, and M. Dürst, “Unicode Normalization Forms,” Unicode Standard Annex 15, 09 2009.</td>
</tr>
<tr>
<td>[W3C.REC-html401-19991224]</td>
<td>Raggett, D., Hors, A., and I. Jacobs, “<a target="_blank" rel="noopener" href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML 4.01 Specification</a>,” World Wide Web Consortium Recommendation REC-html401-19991224, December 1999 (<a target="_blank" rel="noopener" href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML</a>).</td>
</tr>
<tr>
<td>[zoneinfo]</td>
<td>Public Domain, “<a target="_blank" rel="noopener" href="http://www.twinsun.com/tz/tz-link.htm">The tz database</a>,” June 2011.</td>
</tr>
</tbody></table>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="19-2-Informative-References"><a href="#19-2-Informative-References" class="headerlink" title="19.2. Informative References"></a>19.2. Informative References</h3><table>
<thead>
<tr>
<th>[JWK.Thumbprint]</th>
<th><a href="mailto:mbj@microsoft.com">Jones, M.</a>, “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-jones-jose-jwk-thumbprint">JSON Web Key (JWK) Thumbprint</a>,” draft-jones-jose-jwk-thumbprint (work in progress), July 2014 (<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/draft-jones-jose-jwk-thumbprint-01">HTML</a>).</th>
</tr>
</thead>
<tbody><tr>
<td>[OAuth.Post]</td>
<td>Jones, M. and B. Campbell, “<a target="_blank" rel="noopener" href="http://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html">OAuth 2.0 Form Post Response Mode</a>,” February 2014.</td>
</tr>
<tr>
<td>[OpenID.2.0]</td>
<td>OpenID Foundation, “OpenID Authentication 2.0,” December 2007 (<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-authentication-2_0.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://openid.net/specs/openid-authentication-2_0.html">HTML</a>).</td>
</tr>
<tr>
<td>[OpenID.Basic]</td>
<td>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and C. Mortimore, “<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-connect-basic-1_0.html">OpenID Connect Basic Client Implementer’s Guide 1.0</a>,” November 2014.</td>
</tr>
<tr>
<td>[OpenID.Implicit]</td>
<td>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., and C. Mortimore, “<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-connect-implicit-1_0.html">OpenID Connect Implicit Client Implementer’s Guide 1.0</a>,” November 2014.</td>
</tr>
<tr>
<td>[OpenID.PAPE]</td>
<td><a href="mailto:david@sixapart.com">Recordon, D.</a>, <a href="mailto:mbj@microsoft.com">Jones, M.</a>, <a href="mailto:johnny.bufu@gmail.com">Bufu, J., Ed.</a>, <a href="mailto:cygnus@janrain.com">Daugherty, J., Ed.</a>, and <a href="mailto:n-sakimura@nri.co.jp">N. Sakimura</a>, “OpenID Provider Authentication Policy Extension 1.0,” December 2008 (<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-provider-authentication-policy-extension-1_0.txt">TXT</a>, <a target="_blank" rel="noopener" href="http://openid.net/specs/openid-provider-authentication-policy-extension-1_0.html">HTML</a>).</td>
</tr>
<tr>
<td>[OpenID.Session]</td>
<td>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, “<a target="_blank" rel="noopener" href="http://openid.net/specs/openid-connect-session-1_0.html">OpenID Connect Session Management 1.0</a>,” November 2014.</td>
</tr>
<tr>
<td>[RFC4949]</td>
<td>Shirey, R., “<a target="_blank" rel="noopener" href="http://tools.ietf.org/html/rfc4949">Internet Security Glossary, Version 2</a>,” RFC 4949, August 2007 (<a target="_blank" rel="noopener" href="http://www.rfc-editor.org/rfc/rfc4949.txt">TXT</a>).</td>
</tr>
<tr>
<td>[X.1252]</td>
<td>International Telecommunication Union, “<a target="_blank" rel="noopener" href="http://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-X.1252-201004-I!!PDF-E&type=items">ITU-T Recommendation X.1252 – Cyberspace security – Identity management – Baseline identity management terms and definitions</a>,” ITU-T X.1252, November 2010.</td>
</tr>
</tbody></table>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="Appendix-A-Authorization-Examples"><a href="#Appendix-A-Authorization-Examples" class="headerlink" title="Appendix A. Authorization Examples"></a>Appendix A. Authorization Examples</h3><p>The following are non-normative examples of Authorization Requests with different <code>response_type</code> values and their responses (with line wraps within values for display purposes only):</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-1-Example-using-response-type-x3D-code"><a href="#A-1-Example-using-response-type-x3D-code" class="headerlink" title="A.1. Example using response_type&#x3D;code"></a>A.1. Example using response_type&#x3D;code</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb?
  code&#x3D;Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-2-Example-using-response-type-x3D-id-token"><a href="#A-2-Example-using-response-type-x3D-id-token" class="headerlink" title="A.2. Example using response_type&#x3D;id_token"></a>A.2. Example using response_type&#x3D;id_token</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;id_token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  id_token&#x3D;eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogImlz
  cyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ4
  Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiAi
  bi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDEz
  MTEyODA5NzAsCiAibmFtZSI6ICJKYW5lIERvZSIsCiAiZ2l2ZW5fbmFtZSI6
  ICJKYW5lIiwKICJmYW1pbHlfbmFtZSI6ICJEb2UiLAogImdlbmRlciI6ICJm
  ZW1hbGUiLAogImJpcnRoZGF0ZSI6ICIwMDAwLTEwLTMxIiwKICJlbWFpbCI6
  ICJqYW5lZG9lQGV4YW1wbGUuY29tIiwKICJwaWN0dXJlIjogImh0dHA6Ly9l
  eGFtcGxlLmNvbS9qYW5lZG9lL21lLmpwZyIKfQ.rHQjEmBqn9Jre0OLykYNn
  spA10Qql2rvx4FsD00jwlB0Sym4NzpgvPKsDjn_wMkHxcp6CilPcoKrWHcip
  R2iAjzLvDNAReF97zoJqq880ZD1bwY82JDauCXELVR9O6_B0w3K-E7yM2mac
  AAgNCUwtik6SjoSUZRcf-O5lygIyLENx882p6MtmwaL1hd6qn5RZOQ0TLrOY
  u0532g9Exxcm-ChymrB4xLykpDj3lUivJt63eEGGN6DH5K6o33TcxkIjNrCD
  4XB1CKKumZvCedgHHF3IAK4dVEDSUoGlH9z4pP_eWYNXvqQOjGs-rDaQzUHl
  6cQQWNiDpWOl_lxXjQEvQ
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The value of the <code>id_token</code> parameter is the ID Token, which is a signed JWT, containing three base64url encoded segments separated by period (‘.’) characters. The first segment represents the JOSE Header. Base64url decoding it will result in the following set of Header Parameters:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;&quot;kid&quot;:&quot;1e9gdk7&quot;,&quot;alg&quot;:&quot;RS256&quot;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>The <code>alg</code> value represents the algorithm that was used to sign the JWT, in this case <code>RS256</code>, representing RSASSA-PKCS-v1_5 using SHA-256. The <code>kid</code> value is a key identifier used in identifying the key to be used to verify the signature. If the <code>kid</code> value is unknown to the RP, it needs to retrieve the contents of the OP’s JWK Set again to obtain the OP’s current set of keys.</p>
<p>The second segment represents the Claims in the ID Token. Verifying and decoding the ID Token will yield the following Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;http:&#x2F;&#x2F;server.example.com&quot;,
 &quot;sub&quot;: &quot;248289761001&quot;,
 &quot;aud&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;name&quot;: &quot;Jane Doe&quot;,
 &quot;given_name&quot;: &quot;Jane&quot;,
 &quot;family_name&quot;: &quot;Doe&quot;,
 &quot;gender&quot;: &quot;female&quot;,
 &quot;birthdate&quot;: &quot;0000-10-31&quot;,
 &quot;email&quot;: &quot;janedoe@example.com&quot;,
 &quot;picture&quot;: &quot;http:&#x2F;&#x2F;example.com&#x2F;janedoe&#x2F;me.jpg&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The third segment represents the ID Token signature, which is verified as described in [<a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#JWS">JWS]</a>.</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-3-Example-using-response-type-x3D-id-token-token"><a href="#A-3-Example-using-response-type-x3D-id-token-token" class="headerlink" title="A.3. Example using response_type&#x3D;id_token token"></a>A.3. Example using response_type&#x3D;id_token token</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;id_token%20token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  access_token&#x3D;jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
  &amp;token_type&#x3D;Bearer
  &amp;id_token&#x3D;eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogIml
  zcyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ
  4Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiA
  ibi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDE
  zMTEyODA5NzAsCiAiYXRfaGFzaCI6ICI3N1FtVVB0alBmeld0RjJBbnBLOVJ
  RIgp9.F9gRev0Dt2tKcrBkHy72cmRqnLdzw9FLCCSebV7mWs7o_sv2O5s6zM
  ky2kmhHTVx9HmdvNnx9GaZ8XMYRFeYk8L5NZ7aYlA5W56nsG1iWOou_-gji0
  ibWIuuf4Owaho3YSoi7EvsTuLFz6tq-dLyz0dKABMDsiCmJ5wqkPUDTE3QTX
  jzbUmOzUDli-gCh5QPuZAq0cNW3pf_2n4zpvTYtbmj12cVcxGIMZby7TMWES
  RjQ9_o3jvhVNcCGcE0KAQXejhA1ocJhNEvQNqMFGlBb6_0RxxKjDZ-Oa329e
  GDidOvvp0h5hoES4a8IuGKS7NOcpp-aFwp0qVMDLI-Xnm-Pg
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Verifying and decoding the ID Token will yield the following Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;http:&#x2F;&#x2F;server.example.com&quot;,
 &quot;sub&quot;: &quot;248289761001&quot;,
 &quot;aud&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;at_hash&quot;: &quot;77QmUPtjPfzWtF2AnpK9RQ&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-4-Example-using-response-type-x3D-code-id-token"><a href="#A-4-Example-using-response-type-x3D-code-id-token" class="headerlink" title="A.4. Example using response_type&#x3D;code id_token"></a>A.4. Example using response_type&#x3D;code id_token</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code%20id_token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  code&#x3D;Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
  &amp;id_token&#x3D;eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogIml
  zcyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ
  4Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiA
  ibi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDE
  zMTEyODA5NzAsCiAiY19oYXNoIjogIkxEa3RLZG9RYWszUGswY25YeENsdEE
  iCn0.XW6uhdrkBgcGx6zVIrCiROpWURs-4goO1sKA4m9jhJIImiGg5muPUcN
  egx6sSv43c5DSn37sxCRrDZZm4ZPBKKgtYASMcE20SDgvYJdJS0cyuFw7Ijp
  _7WnIjcrl6B5cmoM6ylCvsLMwkoQAxVublMwH10oAxjzD6NEFsu9nipkszWh
  sPePf_rM4eMpkmCbTzume-fzZIi5VjdWGGEmzTg32h3jiex-r5WTHbj-u5HL
  7u_KP3rmbdYNzlzd1xWRYTUs4E8nOTgzAUwvwXkIQhOh5TPcSMBYy6X3E7-_
  gr9Ue6n4ND7hTFhtjYs3cjNKIA08qm5cpVYFMFMG6PkhzLQ
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Verifying and decoding the ID Token will yield the following Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;http:&#x2F;&#x2F;server.example.com&quot;,
 &quot;sub&quot;: &quot;248289761001&quot;,
 &quot;aud&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;c_hash&quot;: &quot;LDktKdoQak3Pk0cnXxCltA&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-5-Example-using-response-type-x3D-code-token"><a href="#A-5-Example-using-response-type-x3D-code-token" class="headerlink" title="A.5. Example using response_type&#x3D;code token"></a>A.5. Example using response_type&#x3D;code token</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code%20token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  code&#x3D;Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
  &amp;access_token&#x3D;jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
  &amp;token_type&#x3D;Bearer
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-6-Example-using-response-type-x3D-code-id-token-token"><a href="#A-6-Example-using-response-type-x3D-code-id-token-token" class="headerlink" title="A.6. Example using response_type&#x3D;code id_token token"></a>A.6. Example using response_type&#x3D;code id_token token</h3><pre class="line-numbers language-none"><code class="language-none">GET &#x2F;authorize?
  response_type&#x3D;code%20id_token%20token
  &amp;client_id&#x3D;s6BhdRkqt3
  &amp;redirect_uri&#x3D;https%3A%2F%2Fclient.example.org%2Fcb
  &amp;scope&#x3D;openid%20profile%20email
  &amp;nonce&#x3D;n-0S6_WzA2Mj
  &amp;state&#x3D;af0ifjsldkj HTTP&#x2F;1.1
Host: server.example.com

HTTP&#x2F;1.1 302 Found
Location: https:&#x2F;&#x2F;client.example.org&#x2F;cb#
  code&#x3D;Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
  &amp;access_token&#x3D;jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
  &amp;token_type&#x3D;Bearer
  &amp;id_token&#x3D;eyJraWQiOiIxZTlnZGs3IiwiYWxnIjoiUlMyNTYifQ.ewogIml
  zcyI6ICJodHRwOi8vc2VydmVyLmV4YW1wbGUuY29tIiwKICJzdWIiOiAiMjQ
  4Mjg5NzYxMDAxIiwKICJhdWQiOiAiczZCaGRSa3F0MyIsCiAibm9uY2UiOiA
  ibi0wUzZfV3pBMk1qIiwKICJleHAiOiAxMzExMjgxOTcwLAogImlhdCI6IDE
  zMTEyODA5NzAsCiAiY19oYXNoIjogIkxEa3RLZG9RYWszUGswY25YeENsdEE
  iCn0.XW6uhdrkBgcGx6zVIrCiROpWURs-4goO1sKA4m9jhJIImiGg5muPUcN
  egx6sSv43c5DSn37sxCRrDZZm4ZPBKKgtYASMcE20SDgvYJdJS0cyuFw7Ijp
  _7WnIjcrl6B5cmoM6ylCvsLMwkoQAxVublMwH10oAxjzD6NEFsu9nipkszWh
  sPePf_rM4eMpkmCbTzume-fzZIi5VjdWGGEmzTg32h3jiex-r5WTHbj-u5HL
  7u_KP3rmbdYNzlzd1xWRYTUs4E8nOTgzAUwvwXkIQhOh5TPcSMBYy6X3E7-_
  gr9Ue6n4ND7hTFhtjYs3cjNKIA08qm5cpVYFMFMG6PkhzLQ
  &amp;state&#x3D;af0ifjsldkj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Verifying and decoding the ID Token will yield the following Claims:</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;iss&quot;: &quot;http:&#x2F;&#x2F;server.example.com&quot;,
 &quot;sub&quot;: &quot;248289761001&quot;,
 &quot;aud&quot;: &quot;s6BhdRkqt3&quot;,
 &quot;nonce&quot;: &quot;n-0S6_WzA2Mj&quot;,
 &quot;exp&quot;: 1311281970,
 &quot;iat&quot;: 1311280970,
 &quot;at_hash&quot;: &quot;77QmUPtjPfzWtF2AnpK9RQ&quot;,
 &quot;c_hash&quot;: &quot;LDktKdoQak3Pk0cnXxCltA&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="A-7-RSA-Key-Used-in-Examples"><a href="#A-7-RSA-Key-Used-in-Examples" class="headerlink" title="A.7. RSA Key Used in Examples"></a>A.7. RSA Key Used in Examples</h3><p>The following RSA public key, represented in JWK format, can be used to validate the ID Token signatures in the above examples (with line wraps within values for display purposes only):</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;
 &quot;kty&quot;:&quot;RSA&quot;,
 &quot;kid&quot;:&quot;1e9gdk7&quot;,
 &quot;n&quot;:&quot;w7Zdfmece8iaB0kiTY8pCtiBtzbptJmP28nSWwtdjRu0f2GFpajvWE4VhfJA
      jEsOcwYzay7XGN0b-X84BfC8hmCTOj2b2eHT7NsZegFPKRUQzJ9wW8ipn_aD
      JWMGDuB1XyqT1E7DYqjUCEOD1b4FLpy_xPn6oV_TYOfQ9fZdbE5HGxJUzeku
      GcOKqOQ8M7wfYHhHHLxGpQVgL0apWuP2gDDOdTtpuld4D2LK1MZK99s9gaSj
      RHE8JDb1Z4IGhEcEyzkxswVdPndUWzfvWBBWXWxtSUvQGBRkuy1BHOa4sP6F
      KjWEeeF7gm7UMs2Nm2QUgNZw6xvEDGaLk4KASdIxRQ&quot;,
 &quot;e&quot;:&quot;AQAB&quot;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="Appendix-B-Acknowledgements"><a href="#Appendix-B-Acknowledgements" class="headerlink" title="Appendix B. Acknowledgements"></a>Appendix B. Acknowledgements</h3><p>As a successor version of OpenID, this specification heavily relies on ideas explored in <a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#OpenID.2.0">OpenID Authentication 2.0</a> [OpenID.2.0]. Please refer to Appendix C of OpenID Authentication 2.0 for the full list of the contributors for that specification.</p>
<p>In addition, the OpenID Community would like to thank the following people for their contributions to this specification:</p>
<blockquote>
<p>Naveen Agarwal (<a href="mailto:&#x6e;&#97;&#97;&#64;&#103;&#x6f;&#x6f;&#103;&#108;&#x65;&#46;&#x63;&#x6f;&#x6d;">&#x6e;&#97;&#97;&#64;&#103;&#x6f;&#x6f;&#103;&#108;&#x65;&#46;&#x63;&#x6f;&#x6d;</a>), Google</p>
<p>Amanda Anganes (<a href="mailto:&#x61;&#x61;&#x6e;&#103;&#x61;&#110;&#x65;&#115;&#x40;&#x6d;&#x69;&#x74;&#x72;&#x65;&#46;&#x6f;&#114;&#x67;">&#x61;&#x61;&#x6e;&#103;&#x61;&#110;&#x65;&#115;&#x40;&#x6d;&#x69;&#x74;&#x72;&#x65;&#46;&#x6f;&#114;&#x67;</a>), MITRE</p>
<p>Casper Biering (<a href="mailto:&#99;&#98;&#64;&#112;&#x65;&#x65;&#114;&#99;&#x72;&#97;&#102;&#116;&#46;&#99;&#x6f;&#109;">&#99;&#98;&#64;&#112;&#x65;&#x65;&#114;&#99;&#x72;&#97;&#102;&#116;&#46;&#99;&#x6f;&#109;</a>), Peercraft</p>
<p>John Bradley (<a href="mailto:&#118;&#x65;&#55;&#x6a;&#x74;&#x62;&#x40;&#x76;&#x65;&#55;&#x6a;&#116;&#98;&#46;&#99;&#111;&#x6d;">&#118;&#x65;&#55;&#x6a;&#x74;&#x62;&#x40;&#x76;&#x65;&#55;&#x6a;&#116;&#98;&#46;&#99;&#111;&#x6d;</a>), Ping Identity</p>
<p>Tim Bray (<a href="mailto:&#x74;&#98;&#114;&#x61;&#121;&#x40;&#116;&#x65;&#x78;&#x74;&#117;&#x61;&#x6c;&#x69;&#x74;&#x79;&#46;&#x63;&#x6f;&#x6d;">&#x74;&#98;&#114;&#x61;&#121;&#x40;&#116;&#x65;&#x78;&#x74;&#117;&#x61;&#x6c;&#x69;&#x74;&#x79;&#46;&#x63;&#x6f;&#x6d;</a>), Google</p>
<p>Johnny Bufu (<a href="mailto:&#106;&#98;&#117;&#x66;&#x75;&#x40;&#x6a;&#x61;&#110;&#x72;&#x61;&#105;&#110;&#x2e;&#99;&#111;&#x6d;">&#106;&#98;&#117;&#x66;&#x75;&#x40;&#x6a;&#x61;&#110;&#x72;&#x61;&#105;&#110;&#x2e;&#99;&#111;&#x6d;</a>), Janrain</p>
<p>Brian Campbell (<a href="mailto:&#x62;&#x63;&#97;&#109;&#x70;&#x62;&#x65;&#108;&#108;&#x40;&#112;&#105;&#x6e;&#x67;&#x69;&#x64;&#x65;&#x6e;&#116;&#105;&#x74;&#121;&#46;&#99;&#111;&#109;">&#x62;&#x63;&#97;&#109;&#x70;&#x62;&#x65;&#108;&#108;&#x40;&#112;&#105;&#x6e;&#x67;&#x69;&#x64;&#x65;&#x6e;&#116;&#105;&#x74;&#121;&#46;&#99;&#111;&#109;</a>), Ping Identity</p>
<p>Blaine Cook (<a href="mailto:&#x72;&#x6f;&#x6d;&#x65;&#100;&#x61;&#x40;&#103;&#x6d;&#x61;&#105;&#x6c;&#46;&#x63;&#x6f;&#109;">&#x72;&#x6f;&#x6d;&#x65;&#100;&#x61;&#x40;&#103;&#x6d;&#x61;&#105;&#x6c;&#46;&#x63;&#x6f;&#109;</a>), Independent</p>
<p>Breno de Medeiros (<a href="mailto:&#98;&#114;&#x65;&#110;&#111;&#x40;&#x67;&#111;&#x6f;&#x67;&#x6c;&#x65;&#x2e;&#x63;&#111;&#x6d;">&#98;&#114;&#x65;&#110;&#111;&#x40;&#x67;&#111;&#x6f;&#x67;&#x6c;&#x65;&#x2e;&#x63;&#111;&#x6d;</a>), Google</p>
<p>Pamela Dingle (<a href="mailto:&#x70;&#100;&#x69;&#x6e;&#x67;&#108;&#x65;&#64;&#112;&#105;&#110;&#x67;&#105;&#x64;&#x65;&#110;&#x74;&#105;&#x74;&#121;&#46;&#99;&#x6f;&#x6d;">&#x70;&#100;&#x69;&#x6e;&#x67;&#108;&#x65;&#64;&#112;&#105;&#110;&#x67;&#105;&#x64;&#x65;&#110;&#x74;&#105;&#x74;&#121;&#46;&#99;&#x6f;&#x6d;</a>), Ping Identity</p>
<p>Vladimir Dzhuvinov (<a href="mailto:&#118;&#108;&#x61;&#x64;&#105;&#x6d;&#105;&#114;&#64;&#110;&#105;&#x6d;&#x62;&#x75;&#x73;&#100;&#115;&#x2e;&#99;&#111;&#109;">&#118;&#108;&#x61;&#x64;&#105;&#x6d;&#105;&#114;&#64;&#110;&#105;&#x6d;&#x62;&#x75;&#x73;&#100;&#115;&#x2e;&#99;&#111;&#109;</a>), Nimbus Directory Services</p>
<p>George Fletcher (<a href="mailto:&#103;&#101;&#x6f;&#114;&#x67;&#x65;&#46;&#x66;&#108;&#x65;&#x74;&#x63;&#x68;&#101;&#114;&#x40;&#x63;&#111;&#x72;&#112;&#x2e;&#97;&#x6f;&#x6c;&#46;&#x63;&#x6f;&#x6d;">&#103;&#101;&#x6f;&#114;&#x67;&#x65;&#46;&#x66;&#108;&#x65;&#x74;&#x63;&#x68;&#101;&#114;&#x40;&#x63;&#111;&#x72;&#112;&#x2e;&#97;&#x6f;&#x6c;&#46;&#x63;&#x6f;&#x6d;</a>), AOL</p>
<p>Roland Hedberg (<a href="mailto:&#114;&#x6f;&#108;&#97;&#x6e;&#x64;&#46;&#104;&#x65;&#x64;&#x62;&#x65;&#x72;&#x67;&#x40;&#97;&#x64;&#x6d;&#x2e;&#x75;&#x6d;&#117;&#x2e;&#115;&#x65;">&#114;&#x6f;&#108;&#97;&#x6e;&#x64;&#46;&#104;&#x65;&#x64;&#x62;&#x65;&#x72;&#x67;&#x40;&#97;&#x64;&#x6d;&#x2e;&#x75;&#x6d;&#117;&#x2e;&#115;&#x65;</a>), University of Umea</p>
<p>Ryo Ito (<a href="mailto:&#114;&#x79;&#111;&#x2e;&#x69;&#116;&#x6f;&#64;&#x6d;&#x69;&#120;&#x69;&#46;&#x63;&#x6f;&#46;&#x6a;&#112;">&#114;&#x79;&#111;&#x2e;&#x69;&#116;&#x6f;&#64;&#x6d;&#x69;&#120;&#x69;&#46;&#x63;&#x6f;&#46;&#x6a;&#112;</a>), mixi, Inc.</p>
<p>Edmund Jay (<a href="mailto:&#x65;&#x6a;&#97;&#x79;&#x40;&#x6d;&#103;&#105;&#49;&#46;&#x63;&#x6f;&#x6d;">&#x65;&#x6a;&#97;&#x79;&#x40;&#x6d;&#103;&#105;&#49;&#46;&#x63;&#x6f;&#x6d;</a>), Illumila</p>
<p>Michael B. Jones (<a href="mailto:&#109;&#x62;&#x6a;&#x40;&#x6d;&#x69;&#99;&#114;&#111;&#115;&#x6f;&#x66;&#116;&#46;&#x63;&#x6f;&#x6d;">&#109;&#x62;&#x6a;&#x40;&#x6d;&#x69;&#99;&#114;&#111;&#115;&#x6f;&#x66;&#116;&#46;&#x63;&#x6f;&#x6d;</a>), Microsoft</p>
<p>Torsten Lodderstedt (<a href="mailto:&#x74;&#x2e;&#x6c;&#111;&#x64;&#x64;&#x65;&#114;&#x73;&#116;&#101;&#100;&#116;&#x40;&#116;&#x65;&#x6c;&#101;&#x6b;&#x6f;&#x6d;&#x2e;&#x64;&#101;">&#x74;&#x2e;&#x6c;&#111;&#x64;&#x64;&#x65;&#114;&#x73;&#116;&#101;&#100;&#116;&#x40;&#116;&#x65;&#x6c;&#101;&#x6b;&#x6f;&#x6d;&#x2e;&#x64;&#101;</a>), Deutsche Telekom</p>
<p>Nov Matake (<a href="mailto:&#110;&#111;&#118;&#64;&#x6d;&#97;&#116;&#x61;&#x6b;&#101;&#46;&#x6a;&#x70;">&#110;&#111;&#118;&#64;&#x6d;&#97;&#116;&#x61;&#x6b;&#101;&#46;&#x6a;&#x70;</a>), Independent</p>
<p>Chuck Mortimore (<a href="mailto:&#99;&#109;&#111;&#x72;&#116;&#x69;&#109;&#x6f;&#114;&#x65;&#64;&#x73;&#x61;&#x6c;&#x65;&#x73;&#102;&#x6f;&#x72;&#x63;&#101;&#46;&#99;&#x6f;&#x6d;">&#99;&#109;&#111;&#x72;&#116;&#x69;&#109;&#x6f;&#114;&#x65;&#64;&#x73;&#x61;&#x6c;&#x65;&#x73;&#102;&#x6f;&#x72;&#x63;&#101;&#46;&#99;&#x6f;&#x6d;</a>), Salesforce</p>
<p>Anthony Nadalin (<a href="mailto:&#x74;&#x6f;&#110;&#121;&#x6e;&#x61;&#100;&#x40;&#109;&#x69;&#x63;&#114;&#x6f;&#115;&#111;&#102;&#116;&#x2e;&#x63;&#111;&#109;">&#x74;&#x6f;&#110;&#121;&#x6e;&#x61;&#100;&#x40;&#109;&#x69;&#x63;&#114;&#x6f;&#115;&#111;&#102;&#116;&#x2e;&#x63;&#111;&#109;</a>), Microsoft</p>
<p>Hideki Nara (<a href="mailto:&#x68;&#100;&#x6b;&#x6e;&#x72;&#x40;&#105;&#99;&#45;&#116;&#x61;&#x63;&#116;&#46;&#99;&#x6f;&#x2e;&#x6a;&#x70;">&#x68;&#100;&#x6b;&#x6e;&#x72;&#x40;&#105;&#99;&#45;&#116;&#x61;&#x63;&#116;&#46;&#99;&#x6f;&#x2e;&#x6a;&#x70;</a>), Tact Communications</p>
<p>Axel Nennker (<a href="mailto:&#97;&#x78;&#101;&#108;&#x2e;&#x6e;&#101;&#x6e;&#x6e;&#107;&#x65;&#x72;&#x40;&#116;&#101;&#x6c;&#101;&#107;&#x6f;&#x6d;&#46;&#x64;&#101;">&#97;&#x78;&#101;&#108;&#x2e;&#x6e;&#101;&#x6e;&#x6e;&#107;&#x65;&#x72;&#x40;&#116;&#101;&#x6c;&#101;&#107;&#x6f;&#x6d;&#46;&#x64;&#101;</a>), Deutsche Telekom</p>
<p>David Recordon (<a href="mailto:&#100;&#114;&#x40;&#102;&#98;&#x2e;&#99;&#111;&#x6d;">&#100;&#114;&#x40;&#102;&#98;&#x2e;&#99;&#111;&#x6d;</a>), Facebook</p>
<p>Justin Richer (<a href="mailto:&#106;&#114;&#x69;&#x63;&#104;&#101;&#114;&#x40;&#109;&#105;&#x74;&#114;&#101;&#46;&#111;&#114;&#103;">&#106;&#114;&#x69;&#x63;&#104;&#101;&#114;&#x40;&#109;&#105;&#x74;&#114;&#101;&#46;&#111;&#114;&#103;</a>), MITRE</p>
<p>Nat Sakimura (<a href="mailto:&#x6e;&#x2d;&#x73;&#x61;&#107;&#x69;&#109;&#x75;&#114;&#97;&#64;&#110;&#114;&#x69;&#46;&#x63;&#x6f;&#46;&#x6a;&#112;">&#x6e;&#x2d;&#x73;&#x61;&#107;&#x69;&#109;&#x75;&#114;&#97;&#64;&#110;&#114;&#x69;&#46;&#x63;&#x6f;&#46;&#x6a;&#112;</a>), Nomura Research Institute, Ltd.</p>
<p>Luke Shepard (<a href="mailto:&#108;&#115;&#104;&#x65;&#x70;&#x61;&#x72;&#100;&#x40;&#102;&#98;&#46;&#x63;&#111;&#109;">&#108;&#115;&#104;&#x65;&#x70;&#x61;&#x72;&#100;&#x40;&#102;&#98;&#46;&#x63;&#111;&#109;</a>), Facebook</p>
<p>Andreas Åkre Solberg (<a href="mailto:&#97;&#x6e;&#x64;&#x72;&#x65;&#97;&#115;&#x2e;&#x73;&#x6f;&#108;&#98;&#x65;&#x72;&#x67;&#64;&#x75;&#x6e;&#105;&#x6e;&#x65;&#x74;&#116;&#46;&#x6e;&#111;">&#97;&#x6e;&#x64;&#x72;&#x65;&#97;&#115;&#x2e;&#x73;&#x6f;&#108;&#98;&#x65;&#x72;&#x67;&#64;&#x75;&#x6e;&#105;&#x6e;&#x65;&#x74;&#116;&#46;&#x6e;&#111;</a>), UNINET</p>
<p>Paul Tarjan (<a href="mailto:&#112;&#116;&#64;&#102;&#98;&#46;&#99;&#111;&#x6d;">&#112;&#116;&#64;&#102;&#98;&#46;&#99;&#111;&#x6d;</a>), Facebook</p>
</blockquote>
<hr>
<p><a target="_blank" rel="noopener" href="https://openid.net/specs/openid-connect-core-1_0.html#toc"> TOC </a></p>
<h3 id="Appendix-C-Notices"><a href="#Appendix-C-Notices" class="headerlink" title="Appendix C. Notices"></a>Appendix C. Notices</h3><p>Copyright (c) 2014 The OpenID Foundation.</p>
<p>The OpenID Foundation (OIDF) grants to any Contributor, developer, implementer, or other interested party a non-exclusive, royalty free, worldwide copyright license to reproduce, prepare derivative works from, distribute, perform and display, this Implementers Draft or Final Specification solely for the purposes of (i) developing specifications, and (ii) implementing Implementers Drafts and Final Specifications based on such documents, provided that attribution be made to the OIDF as the source of the material, but that such attribution does not indicate an endorsement by the OIDF.</p>
<p>The technology described in this specification was made available from contributions from various sources, including members of the OpenID Foundation and others. Although the OpenID Foundation has taken steps to help ensure that the technology is available for distribution, it takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this specification or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any independent effort to identify any such rights. The OpenID Foundation and the contributors to this specification make no (and hereby expressly disclaim any) warranties (express, implied, or otherwise), including implied warranties of merchantability, non-infringement, fitness for a particular purpose, or title, related to this specification, and the entire risk as to implementing this specification is assumed by the implementer. The OpenID Intellectual Property Rights policy requires contributors to offer a patent promise not to assert certain patent claims against other contributors and against implementers. The OpenID Foundation invites any interested party to bring to its attention any copyrights, patents, patent applications, or other proprietary rights that may cover technology that may be required to practice this specification.</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/openid/">openid</a></div><div class="post_share"><div class="social-share" data-image="/img/default_cover/geomeric5.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/02/oauth2/OAuth2%20%E7%9A%84%E7%AE%80%E5%8D%95%E8%A7%A3%E9%87%8A/" title="OAuth 2.0 的一个简单解释"><img class="cover" src="/img/default_cover/geomeric1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">OAuth 2.0 的一个简单解释</div></div></a></div><div class="next-post pull-right"><a href="/2023/10/20/docker/%E7%94%A8%20Dockerfile%20%E6%96%87%E4%BB%B6%E6%9E%84%E5%BB%BA%E5%B8%A6%20systemd%20%E7%9A%84ubuntu%2022.04/" title="用 Dockerfile 文件构建带 systemd 的ubuntu 22.04"><img class="cover" src="/img/default_cover/geomeric6.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">用 Dockerfile 文件构建带 systemd 的ubuntu 22.04</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jason Dong</div><div class="author-info__description">静心净心 戒骄戒躁</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JasonDong97" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:534458392@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">1. 介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E9%9C%80%E6%B1%82%E7%AC%A6%E5%8F%B7%E5%92%8C%E7%BA%A6%E5%AE%9A"><span class="toc-number">2.</span> <span class="toc-text">1.1. 需求符号和约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%9C%AF%E8%AF%AD"><span class="toc-number">3.</span> <span class="toc-text">1.2. 术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%A6%82%E8%BF%B0"><span class="toc-number">4.</span> <span class="toc-text">1.3. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ID-Token"><span class="toc-number">5.</span> <span class="toc-text">2. ID Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81"><span class="toc-number">6.</span> <span class="toc-text">3. 身份验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E4%BD%BF%E7%94%A8%E6%8E%88%E6%9D%83%E7%A0%81%E6%B5%81%EF%BC%88Authorization-Code-Flow%EF%BC%89%E8%BF%9B%E8%A1%8C%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81"><span class="toc-number">7.</span> <span class="toc-text">3.1. 使用授权码流（Authorization Code Flow）进行身份验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-%E6%8E%88%E6%9D%83%E7%A0%81%E6%B5%81%EF%BC%88Authorization-Code-Flow%EF%BC%89%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">8.</span> <span class="toc-text">3.1.1. 授权码流（Authorization Code Flow）的步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-%E6%8E%88%E6%9D%83%E7%AB%AF%E7%82%B9"><span class="toc-number">9.</span> <span class="toc-text">3.1.2. 授权端点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-1-%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E8%AF%B7%E6%B1%82"><span class="toc-number">10.</span> <span class="toc-text">3.1.2.1. 身份验证请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-2-Authentication-Request-Validation"><span class="toc-number">11.</span> <span class="toc-text">3.1.2.2. Authentication Request Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-3-Authorization-Server-Authenticates-End-User"><span class="toc-number">12.</span> <span class="toc-text">3.1.2.3. Authorization Server Authenticates End-User</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><span class="toc-number">13.</span> <span class="toc-text">3.1.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-5-Successful-Authentication-Response"><span class="toc-number">14.</span> <span class="toc-text">3.1.2.5. Successful Authentication Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-6-Authentication-Error-Response"><span class="toc-number">15.</span> <span class="toc-text">3.1.2.6. Authentication Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-7-Authentication-Response-Validation"><span class="toc-number">16.</span> <span class="toc-text">3.1.2.7. Authentication Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-Token-Endpoint"><span class="toc-number">17.</span> <span class="toc-text">3.1.3. Token Endpoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-1-Token-Request"><span class="toc-number">18.</span> <span class="toc-text">3.1.3.1. Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-2-Token-Request-Validation"><span class="toc-number">19.</span> <span class="toc-text">3.1.3.2. Token Request Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-3-Successful-Token-Response"><span class="toc-number">20.</span> <span class="toc-text">3.1.3.3. Successful Token Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-4-Token-Error-Response"><span class="toc-number">21.</span> <span class="toc-text">3.1.3.4. Token Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-5-Token-Response-Validation"><span class="toc-number">22.</span> <span class="toc-text">3.1.3.5. Token Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-6-ID-Token"><span class="toc-number">23.</span> <span class="toc-text">3.1.3.6. ID Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-7-ID-Token-Validation"><span class="toc-number">24.</span> <span class="toc-text">3.1.3.7. ID Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-8-Access-Token-Validation"><span class="toc-number">25.</span> <span class="toc-text">3.1.3.8. Access Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Authentication-using-the-Implicit-Flow"><span class="toc-number">26.</span> <span class="toc-text">3.2. Authentication using the Implicit Flow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-Implicit-Flow-Steps"><span class="toc-number">27.</span> <span class="toc-text">3.2.1. Implicit Flow Steps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-Authorization-Endpoint"><span class="toc-number">28.</span> <span class="toc-text">3.2.2. Authorization Endpoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-1-Authentication-Request"><span class="toc-number">29.</span> <span class="toc-text">3.2.2.1. Authentication Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-2-Authentication-Request-Validation"><span class="toc-number">30.</span> <span class="toc-text">3.2.2.2. Authentication Request Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-3-Authorization-Server-Authenticates-End-User"><span class="toc-number">31.</span> <span class="toc-text">3.2.2.3. Authorization Server Authenticates End-User</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><span class="toc-number">32.</span> <span class="toc-text">3.2.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-5-Successful-Authentication-Response"><span class="toc-number">33.</span> <span class="toc-text">3.2.2.5. Successful Authentication Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-6-Authentication-Error-Response"><span class="toc-number">34.</span> <span class="toc-text">3.2.2.6. Authentication Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-7-Redirect-URI-Fragment-Handling"><span class="toc-number">35.</span> <span class="toc-text">3.2.2.7. Redirect URI Fragment Handling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-8-Authentication-Response-Validation"><span class="toc-number">36.</span> <span class="toc-text">3.2.2.8. Authentication Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-9-Access-Token-Validation"><span class="toc-number">37.</span> <span class="toc-text">3.2.2.9. Access Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-10-ID-Token"><span class="toc-number">38.</span> <span class="toc-text">3.2.2.10. ID Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-11-ID-Token-Validation"><span class="toc-number">39.</span> <span class="toc-text">3.2.2.11. ID Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Authentication-using-the-Hybrid-Flow"><span class="toc-number">40.</span> <span class="toc-text">3.3. Authentication using the Hybrid Flow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-Hybrid-Flow-Steps"><span class="toc-number">41.</span> <span class="toc-text">3.3.1. Hybrid Flow Steps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-Authorization-Endpoint"><span class="toc-number">42.</span> <span class="toc-text">3.3.2. Authorization Endpoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-1-Authentication-Request"><span class="toc-number">43.</span> <span class="toc-text">3.3.2.1. Authentication Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-2-Authentication-Request-Validation"><span class="toc-number">44.</span> <span class="toc-text">3.3.2.2. Authentication Request Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-3-Authorization-Server-Authenticates-End-User"><span class="toc-number">45.</span> <span class="toc-text">3.3.2.3. Authorization Server Authenticates End-User</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-4-Authorization-Server-Obtains-End-User-Consent-x2F-Authorization"><span class="toc-number">46.</span> <span class="toc-text">3.3.2.4. Authorization Server Obtains End-User Consent&#x2F;Authorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-5-Successful-Authentication-Response"><span class="toc-number">47.</span> <span class="toc-text">3.3.2.5. Successful Authentication Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-6-Authentication-Error-Response"><span class="toc-number">48.</span> <span class="toc-text">3.3.2.6. Authentication Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-7-Redirect-URI-Fragment-Handling"><span class="toc-number">49.</span> <span class="toc-text">3.3.2.7. Redirect URI Fragment Handling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-8-Authentication-Response-Validation"><span class="toc-number">50.</span> <span class="toc-text">3.3.2.8. Authentication Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-9-Access-Token-Validation"><span class="toc-number">51.</span> <span class="toc-text">3.3.2.9. Access Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-10-Authorization-Code-Validation"><span class="toc-number">52.</span> <span class="toc-text">3.3.2.10. Authorization Code Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-11-ID-Token"><span class="toc-number">53.</span> <span class="toc-text">3.3.2.11. ID Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-12-ID-Token-Validation"><span class="toc-number">54.</span> <span class="toc-text">3.3.2.12. ID Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-Token-Endpoint"><span class="toc-number">55.</span> <span class="toc-text">3.3.3. Token Endpoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-1-Token-Request"><span class="toc-number">56.</span> <span class="toc-text">3.3.3.1. Token Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-2-Token-Request-Validation"><span class="toc-number">57.</span> <span class="toc-text">3.3.3.2. Token Request Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-3-Successful-Token-Response"><span class="toc-number">58.</span> <span class="toc-text">3.3.3.3. Successful Token Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-4-Token-Error-Response"><span class="toc-number">59.</span> <span class="toc-text">3.3.3.4. Token Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-5-Token-Response-Validation"><span class="toc-number">60.</span> <span class="toc-text">3.3.3.5. Token Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-6-ID-Token"><span class="toc-number">61.</span> <span class="toc-text">3.3.3.6. ID Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-7-ID-Token-Validation"><span class="toc-number">62.</span> <span class="toc-text">3.3.3.7. ID Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-8-Access-Token"><span class="toc-number">63.</span> <span class="toc-text">3.3.3.8. Access Token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-9-Access-Token-Validation"><span class="toc-number">64.</span> <span class="toc-text">3.3.3.9. Access Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Initiating-Login-from-a-Third-Party"><span class="toc-number">65.</span> <span class="toc-text">4. Initiating Login from a Third Party</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Claims"><span class="toc-number">66.</span> <span class="toc-text">5. Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-Standard-Claims"><span class="toc-number">67.</span> <span class="toc-text">5.1. Standard Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-Address-Claim"><span class="toc-number">68.</span> <span class="toc-text">5.1.1. Address Claim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-Additional-Claims"><span class="toc-number">69.</span> <span class="toc-text">5.1.2. Additional Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-Claims-Languages-and-Scripts"><span class="toc-number">70.</span> <span class="toc-text">5.2. Claims Languages and Scripts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-UserInfo-Endpoint"><span class="toc-number">71.</span> <span class="toc-text">5.3. UserInfo Endpoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-UserInfo-Request"><span class="toc-number">72.</span> <span class="toc-text">5.3.1. UserInfo Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-Successful-UserInfo-Response"><span class="toc-number">73.</span> <span class="toc-text">5.3.2. Successful UserInfo Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-3-UserInfo-Error-Response"><span class="toc-number">74.</span> <span class="toc-text">5.3.3. UserInfo Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-4-UserInfo-Response-Validation"><span class="toc-number">75.</span> <span class="toc-text">5.3.4. UserInfo Response Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-Requesting-Claims-using-Scope-Values"><span class="toc-number">76.</span> <span class="toc-text">5.4. Requesting Claims using Scope Values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-Requesting-Claims-using-the-%E2%80%9Cclaims%E2%80%9D-Request-Parameter"><span class="toc-number">77.</span> <span class="toc-text">5.5. Requesting Claims using the “claims” Request Parameter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-Individual-Claims-Requests"><span class="toc-number">78.</span> <span class="toc-text">5.5.1. Individual Claims Requests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-1-Requesting-the-%E2%80%9Cacr%E2%80%9D-Claim"><span class="toc-number">79.</span> <span class="toc-text">5.5.1.1. Requesting the “acr” Claim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-Languages-and-Scripts-for-Individual-Claims"><span class="toc-number">80.</span> <span class="toc-text">5.5.2. Languages and Scripts for Individual Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-Claim-Types"><span class="toc-number">81.</span> <span class="toc-text">5.6. Claim Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-1-Normal-Claims"><span class="toc-number">82.</span> <span class="toc-text">5.6.1. Normal Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-Aggregated-and-Distributed-Claims"><span class="toc-number">83.</span> <span class="toc-text">5.6.2. Aggregated and Distributed Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-1-Example-of-Aggregated-Claims"><span class="toc-number">84.</span> <span class="toc-text">5.6.2.1. Example of Aggregated Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-2-Example-of-Distributed-Claims"><span class="toc-number">85.</span> <span class="toc-text">5.6.2.2. Example of Distributed Claims</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-Claim-Stability-and-Uniqueness"><span class="toc-number">86.</span> <span class="toc-text">5.7. Claim Stability and Uniqueness</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Passing-Request-Parameters-as-JWTs"><span class="toc-number">87.</span> <span class="toc-text">6. Passing Request Parameters as JWTs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Passing-a-Request-Object-by-Value"><span class="toc-number">88.</span> <span class="toc-text">6.1. Passing a Request Object by Value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1-Request-using-the-%E2%80%9Crequest%E2%80%9D-Request-Parameter"><span class="toc-number">89.</span> <span class="toc-text">6.1.1. Request using the “request” Request Parameter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Passing-a-Request-Object-by-Reference"><span class="toc-number">90.</span> <span class="toc-text">6.2. Passing a Request Object by Reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-URL-Referencing-the-Request-Object"><span class="toc-number">91.</span> <span class="toc-text">6.2.1. URL Referencing the Request Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-Request-using-the-%E2%80%9Crequest-uri%E2%80%9D-Request-Parameter"><span class="toc-number">92.</span> <span class="toc-text">6.2.2. Request using the “request_uri” Request Parameter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-Authorization-Server-Fetches-Request-Object"><span class="toc-number">93.</span> <span class="toc-text">6.2.3. Authorization Server Fetches Request Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-%E2%80%9Crequest-uri%E2%80%9D-Rationale"><span class="toc-number">94.</span> <span class="toc-text">6.2.4. “request_uri” Rationale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Validating-JWT-Based-Requests"><span class="toc-number">95.</span> <span class="toc-text">6.3. Validating JWT-Based Requests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-Encrypted-Request-Object"><span class="toc-number">96.</span> <span class="toc-text">6.3.1. Encrypted Request Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-Signed-Request-Object"><span class="toc-number">97.</span> <span class="toc-text">6.3.2. Signed Request Object</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-Request-Parameter-Assembly-and-Validation"><span class="toc-number">98.</span> <span class="toc-text">6.3.3. Request Parameter Assembly and Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Self-Issued-OpenID-Provider"><span class="toc-number">99.</span> <span class="toc-text">7. Self-Issued OpenID Provider</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-Self-Issued-OpenID-Provider-Discovery"><span class="toc-number">100.</span> <span class="toc-text">7.1. Self-Issued OpenID Provider Discovery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Self-Issued-OpenID-Provider-Registration"><span class="toc-number">101.</span> <span class="toc-text">7.2. Self-Issued OpenID Provider Registration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-1-Providing-Information-with-the-%E2%80%9Cregistration%E2%80%9D-Request-Parameter"><span class="toc-number">102.</span> <span class="toc-text">7.2.1. Providing Information with the “registration” Request Parameter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-Self-Issued-OpenID-Provider-Request"><span class="toc-number">103.</span> <span class="toc-text">7.3. Self-Issued OpenID Provider Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-Self-Issued-OpenID-Provider-Response"><span class="toc-number">104.</span> <span class="toc-text">7.4. Self-Issued OpenID Provider Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-Self-Issued-ID-Token-Validation"><span class="toc-number">105.</span> <span class="toc-text">7.5. Self-Issued ID Token Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-Subject-Identifier-Types"><span class="toc-number">106.</span> <span class="toc-text">8. Subject Identifier Types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-Pairwise-Identifier-Algorithm"><span class="toc-number">107.</span> <span class="toc-text">8.1. Pairwise Identifier Algorithm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Client-Authentication"><span class="toc-number">108.</span> <span class="toc-text">9. Client Authentication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-Signatures-and-Encryption"><span class="toc-number">109.</span> <span class="toc-text">10. Signatures and Encryption</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-Signing"><span class="toc-number">110.</span> <span class="toc-text">10.1. Signing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-1-Rotation-of-Asymmetric-Signing-Keys"><span class="toc-number">111.</span> <span class="toc-text">10.1.1. Rotation of Asymmetric Signing Keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-Encryption"><span class="toc-number">112.</span> <span class="toc-text">10.2. Encryption</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-1-Rotation-of-Asymmetric-Encryption-Keys"><span class="toc-number">113.</span> <span class="toc-text">10.2.1. Rotation of Asymmetric Encryption Keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Offline-Access"><span class="toc-number">114.</span> <span class="toc-text">11. Offline Access</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-Using-Refresh-Tokens"><span class="toc-number">115.</span> <span class="toc-text">12. Using Refresh Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-Refresh-Request"><span class="toc-number">116.</span> <span class="toc-text">12.1. Refresh Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-Successful-Refresh-Response"><span class="toc-number">117.</span> <span class="toc-text">12.2. Successful Refresh Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-Refresh-Error-Response"><span class="toc-number">118.</span> <span class="toc-text">12.3. Refresh Error Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-Serializations"><span class="toc-number">119.</span> <span class="toc-text">13. Serializations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-Query-String-Serialization"><span class="toc-number">120.</span> <span class="toc-text">13.1. Query String Serialization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-Form-Serialization"><span class="toc-number">121.</span> <span class="toc-text">13.2. Form Serialization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-JSON-Serialization"><span class="toc-number">122.</span> <span class="toc-text">13.3. JSON Serialization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-String-Operations"><span class="toc-number">123.</span> <span class="toc-text">14. String Operations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-Implementation-Considerations"><span class="toc-number">124.</span> <span class="toc-text">15. Implementation Considerations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-Mandatory-to-Implement-Features-for-All-OpenID-Providers"><span class="toc-number">125.</span> <span class="toc-text">15.1. Mandatory to Implement Features for All OpenID Providers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-Mandatory-to-Implement-Features-for-Dynamic-OpenID-Providers"><span class="toc-number">126.</span> <span class="toc-text">15.2. Mandatory to Implement Features for Dynamic OpenID Providers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-Discovery-and-Registration"><span class="toc-number">127.</span> <span class="toc-text">15.3. Discovery and Registration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-Mandatory-to-Implement-Features-for-Relying-Parties"><span class="toc-number">128.</span> <span class="toc-text">15.4. Mandatory to Implement Features for Relying Parties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-Implementation-Notes"><span class="toc-number">129.</span> <span class="toc-text">15.5. Implementation Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-1-Authorization-Code-Implementation-Notes"><span class="toc-number">130.</span> <span class="toc-text">15.5.1. Authorization Code Implementation Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-2-Nonce-Implementation-Notes"><span class="toc-number">131.</span> <span class="toc-text">15.5.2. Nonce Implementation Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-3-Redirect-URI-Fragment-Handling-Implementation-Notes"><span class="toc-number">132.</span> <span class="toc-text">15.5.3. Redirect URI Fragment Handling Implementation Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-Compatibility-Notes"><span class="toc-number">133.</span> <span class="toc-text">15.6. Compatibility Notes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-1-Pre-Final-IETF-Specifications"><span class="toc-number">134.</span> <span class="toc-text">15.6.1. Pre-Final IETF Specifications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-2-Google-%E2%80%9Ciss%E2%80%9D-Value"><span class="toc-number">135.</span> <span class="toc-text">15.6.2. Google “iss” Value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-7-Related-Specifications-and-Implementer%E2%80%99s-Guides"><span class="toc-number">136.</span> <span class="toc-text">15.7. Related Specifications and Implementer’s Guides</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-Security-Considerations"><span class="toc-number">137.</span> <span class="toc-text">16. Security Considerations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1-Request-Disclosure"><span class="toc-number">138.</span> <span class="toc-text">16.1. Request Disclosure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-2-Server-Masquerading"><span class="toc-number">139.</span> <span class="toc-text">16.2. Server Masquerading</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-3-Token-Manufacture-x2F-Modification"><span class="toc-number">140.</span> <span class="toc-text">16.3. Token Manufacture&#x2F;Modification</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-4-Access-Token-Disclosure"><span class="toc-number">141.</span> <span class="toc-text">16.4. Access Token Disclosure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-5-Server-Response-Disclosure"><span class="toc-number">142.</span> <span class="toc-text">16.5. Server Response Disclosure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-6-Server-Response-Repudiation"><span class="toc-number">143.</span> <span class="toc-text">16.6. Server Response Repudiation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-7-Request-Repudiation"><span class="toc-number">144.</span> <span class="toc-text">16.7. Request Repudiation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-8-Access-Token-Redirect"><span class="toc-number">145.</span> <span class="toc-text">16.8. Access Token Redirect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-9-Token-Reuse"><span class="toc-number">146.</span> <span class="toc-text">16.9. Token Reuse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-10-Eavesdropping-or-Leaking-Authorization-Codes-Secondary-Authenticator-Capture"><span class="toc-number">147.</span> <span class="toc-text">16.10. Eavesdropping or Leaking Authorization Codes (Secondary Authenticator Capture)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-11-Token-Substitution"><span class="toc-number">148.</span> <span class="toc-text">16.11. Token Substitution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-12-Timing-Attack"><span class="toc-number">149.</span> <span class="toc-text">16.12. Timing Attack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-13-Other-Crypto-Related-Attacks"><span class="toc-number">150.</span> <span class="toc-text">16.13. Other Crypto Related Attacks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-14-Signing-and-Encryption-Order"><span class="toc-number">151.</span> <span class="toc-text">16.14. Signing and Encryption Order</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-15-Issuer-Identifier"><span class="toc-number">152.</span> <span class="toc-text">16.15. Issuer Identifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-16-Implicit-Flow-Threats"><span class="toc-number">153.</span> <span class="toc-text">16.16. Implicit Flow Threats</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-17-TLS-Requirements"><span class="toc-number">154.</span> <span class="toc-text">16.17. TLS Requirements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-18-Lifetimes-of-Access-Tokens-and-Refresh-Tokens"><span class="toc-number">155.</span> <span class="toc-text">16.18. Lifetimes of Access Tokens and Refresh Tokens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-19-Symmetric-Key-Entropy"><span class="toc-number">156.</span> <span class="toc-text">16.19. Symmetric Key Entropy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-20-Need-for-Signed-Requests"><span class="toc-number">157.</span> <span class="toc-text">16.20. Need for Signed Requests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-21-Need-for-Encrypted-Requests"><span class="toc-number">158.</span> <span class="toc-text">16.21. Need for Encrypted Requests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-Privacy-Considerations"><span class="toc-number">159.</span> <span class="toc-text">17. Privacy Considerations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-1-Personally-Identifiable-Information"><span class="toc-number">160.</span> <span class="toc-text">17.1. Personally Identifiable Information</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-2-Data-Access-Monitoring"><span class="toc-number">161.</span> <span class="toc-text">17.2. Data Access Monitoring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-3-Correlation"><span class="toc-number">162.</span> <span class="toc-text">17.3. Correlation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-4-Offline-Access"><span class="toc-number">163.</span> <span class="toc-text">17.4. Offline Access</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-IANA-Considerations"><span class="toc-number">164.</span> <span class="toc-text">18. IANA Considerations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-1-JSON-Web-Token-Claims-Registration"><span class="toc-number">165.</span> <span class="toc-text">18.1. JSON Web Token Claims Registration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-1-1-Registry-Contents"><span class="toc-number">166.</span> <span class="toc-text">18.1.1. Registry Contents</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-2-OAuth-Parameters-Registration"><span class="toc-number">167.</span> <span class="toc-text">18.2. OAuth Parameters Registration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-2-1-Registry-Contents"><span class="toc-number">168.</span> <span class="toc-text">18.2.1. Registry Contents</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-3-OAuth-Extensions-Error-Registration"><span class="toc-number">169.</span> <span class="toc-text">18.3. OAuth Extensions Error Registration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-3-1-Registry-Contents"><span class="toc-number">170.</span> <span class="toc-text">18.3.1. Registry Contents</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-References"><span class="toc-number">171.</span> <span class="toc-text">19. References</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-1-Normative-References"><span class="toc-number">172.</span> <span class="toc-text">19.1. Normative References</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-2-Informative-References"><span class="toc-number">173.</span> <span class="toc-text">19.2. Informative References</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Appendix-A-Authorization-Examples"><span class="toc-number">174.</span> <span class="toc-text">Appendix A. Authorization Examples</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-1-Example-using-response-type-x3D-code"><span class="toc-number">175.</span> <span class="toc-text">A.1. Example using response_type&#x3D;code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-2-Example-using-response-type-x3D-id-token"><span class="toc-number">176.</span> <span class="toc-text">A.2. Example using response_type&#x3D;id_token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-3-Example-using-response-type-x3D-id-token-token"><span class="toc-number">177.</span> <span class="toc-text">A.3. Example using response_type&#x3D;id_token token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-4-Example-using-response-type-x3D-code-id-token"><span class="toc-number">178.</span> <span class="toc-text">A.4. Example using response_type&#x3D;code id_token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-5-Example-using-response-type-x3D-code-token"><span class="toc-number">179.</span> <span class="toc-text">A.5. Example using response_type&#x3D;code token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-6-Example-using-response-type-x3D-code-id-token-token"><span class="toc-number">180.</span> <span class="toc-text">A.6. Example using response_type&#x3D;code id_token token</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-7-RSA-Key-Used-in-Examples"><span class="toc-number">181.</span> <span class="toc-text">A.7. RSA Key Used in Examples</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Appendix-B-Acknowledgements"><span class="toc-number">182.</span> <span class="toc-text">Appendix B. Acknowledgements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Appendix-C-Notices"><span class="toc-number">183.</span> <span class="toc-text">Appendix C. Notices</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/24/mysql/20250924/" title="MySQL ORDER BY 有索引却不用？揭秘 `EXPLAIN` 中的“索引失效”真相"><img src="/img/default_cover/geomeric6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL ORDER BY 有索引却不用？揭秘 `EXPLAIN` 中的“索引失效”真相"/></a><div class="content"><a class="title" href="/2025/09/24/mysql/20250924/" title="MySQL ORDER BY 有索引却不用？揭秘 `EXPLAIN` 中的“索引失效”真相">MySQL ORDER BY 有索引却不用？揭秘 `EXPLAIN` 中的“索引失效”真相</a><time datetime="2025-09-24T06:13:04.740Z" title="更新于 2025-09-24 14:13:04">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/28/work/2.ERA%E5%9C%A8%E7%BA%BF%E9%83%A8%E7%BD%B2/" title="ERA 在线部署"><img src="/img/default_cover/geomeric9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ERA 在线部署"/></a><div class="content"><a class="title" href="/2023/12/28/work/2.ERA%E5%9C%A8%E7%BA%BF%E9%83%A8%E7%BD%B2/" title="ERA 在线部署">ERA 在线部署</a><time datetime="2025-09-24T06:00:08.751Z" title="更新于 2025-09-24 14:00:08">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/26/openid/OpenID/" title="OpenID Connect Core 1.0"><img src="/img/default_cover/geomeric5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenID Connect Core 1.0"/></a><div class="content"><a class="title" href="/2023/10/26/openid/OpenID/" title="OpenID Connect Core 1.0">OpenID Connect Core 1.0</a><time datetime="2025-09-24T06:00:08.748Z" title="更新于 2025-09-24 14:00:08">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/27/mysql/mysql%20%E6%9F%A5%E7%9C%8B%E8%A1%A8%E5%AD%97%E6%AE%B5%E6%B3%A8%E9%87%8A/" title="mysql 查看表字段注释"><img src="/img/default_cover/geomeric2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mysql 查看表字段注释"/></a><div class="content"><a class="title" href="/2023/12/27/mysql/mysql%20%E6%9F%A5%E7%9C%8B%E8%A1%A8%E5%AD%97%E6%AE%B5%E6%B3%A8%E9%87%8A/" title="mysql 查看表字段注释">mysql 查看表字段注释</a><time datetime="2025-09-24T06:00:08.741Z" title="更新于 2025-09-24 14:00:08">2025-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/02/oauth2/OAuth2%20%E7%9A%84%E7%AE%80%E5%8D%95%E8%A7%A3%E9%87%8A/" title="OAuth 2.0 的一个简单解释"><img src="/img/default_cover/geomeric1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OAuth 2.0 的一个简单解释"/></a><div class="content"><a class="title" href="/2023/11/02/oauth2/OAuth2%20%E7%9A%84%E7%AE%80%E5%8D%95%E8%A7%A3%E9%87%8A/" title="OAuth 2.0 的一个简单解释">OAuth 2.0 的一个简单解释</a><time datetime="2025-09-24T06:00:08.741Z" title="更新于 2025-09-24 14:00:08">2025-09-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/default_cover/geomeric5.png')"><div id="footer-wrap"><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到我的博客~</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>